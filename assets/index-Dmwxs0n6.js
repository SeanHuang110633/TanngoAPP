(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function wv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sd={exports:{}},ao={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function o1(){if(Jy)return ao;Jy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return ao.Fragment=e,ao.jsx=i,ao.jsxs=i,ao}var Wy;function u1(){return Wy||(Wy=1,sd.exports=o1()),sd.exports}var j=u1(),ld={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function c1(){if(t_)return Rt;t_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,K={};function Q(x,nt,ot){this.props=x,this.context=nt,this.refs=K,this.updater=ot||U}Q.prototype.isReactComponent={},Q.prototype.setState=function(x,nt){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,nt,"setState")},Q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function k(){}k.prototype=Q.prototype;function Z(x,nt,ot){this.props=x,this.context=nt,this.refs=K,this.updater=ot||U}var it=Z.prototype=new k;it.constructor=Z,M(it,Q.prototype),it.isPureReactComponent=!0;var ht=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},ft=Object.prototype.hasOwnProperty;function N(x,nt,ot,rt,yt,Dt){return ot=Dt.ref,{$$typeof:r,type:x,key:nt,ref:ot!==void 0?ot:null,props:Dt}}function R(x,nt){return N(x.type,nt,void 0,void 0,void 0,x.props)}function w(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function I(x){var nt={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ot){return nt[ot]})}var V=/\/+/g;function L(x,nt){return typeof x=="object"&&x!==null&&x.key!=null?I(""+x.key):nt.toString(36)}function C(){}function qt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(C,C):(x.status="pending",x.then(function(nt){x.status==="pending"&&(x.status="fulfilled",x.value=nt)},function(nt){x.status==="pending"&&(x.status="rejected",x.reason=nt)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function zt(x,nt,ot,rt,yt){var Dt=typeof x;(Dt==="undefined"||Dt==="boolean")&&(x=null);var At=!1;if(x===null)At=!0;else switch(Dt){case"bigint":case"string":case"number":At=!0;break;case"object":switch(x.$$typeof){case r:case e:At=!0;break;case E:return At=x._init,zt(At(x._payload),nt,ot,rt,yt)}}if(At)return yt=yt(x),At=rt===""?"."+L(x,0):rt,ht(yt)?(ot="",At!=null&&(ot=At.replace(V,"$&/")+"/"),zt(yt,nt,ot,"",function(Gn){return Gn})):yt!=null&&(w(yt)&&(yt=R(yt,ot+(yt.key==null||x&&x.key===yt.key?"":(""+yt.key).replace(V,"$&/")+"/")+At)),nt.push(yt)),1;At=0;var Ve=rt===""?".":rt+":";if(ht(x))for(var ee=0;ee<x.length;ee++)rt=x[ee],Dt=Ve+L(rt,ee),At+=zt(rt,nt,ot,Dt,yt);else if(ee=S(x),typeof ee=="function")for(x=ee.call(x),ee=0;!(rt=x.next()).done;)rt=rt.value,Dt=Ve+L(rt,ee++),At+=zt(rt,nt,ot,Dt,yt);else if(Dt==="object"){if(typeof x.then=="function")return zt(qt(x),nt,ot,rt,yt);throw nt=String(x),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return At}function X(x,nt,ot){if(x==null)return x;var rt=[],yt=0;return zt(x,rt,"","",function(Dt){return nt.call(ot,Dt,yt++)}),rt}function lt(x){if(x._status===-1){var nt=x._result;nt=nt(),nt.then(function(ot){(x._status===0||x._status===-1)&&(x._status=1,x._result=ot)},function(ot){(x._status===0||x._status===-1)&&(x._status=2,x._result=ot)}),x._status===-1&&(x._status=0,x._result=nt)}if(x._status===1)return x._result.default;throw x._result}var gt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function jt(){}return Rt.Children={map:X,forEach:function(x,nt,ot){X(x,function(){nt.apply(this,arguments)},ot)},count:function(x){var nt=0;return X(x,function(){nt++}),nt},toArray:function(x){return X(x,function(nt){return nt})||[]},only:function(x){if(!w(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Rt.Component=Q,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=Z,Rt.StrictMode=s,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return st.H.useMemoCache(x)}},Rt.cache=function(x){return function(){return x.apply(null,arguments)}},Rt.cloneElement=function(x,nt,ot){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var rt=M({},x.props),yt=x.key,Dt=void 0;if(nt!=null)for(At in nt.ref!==void 0&&(Dt=void 0),nt.key!==void 0&&(yt=""+nt.key),nt)!ft.call(nt,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&nt.ref===void 0||(rt[At]=nt[At]);var At=arguments.length-2;if(At===1)rt.children=ot;else if(1<At){for(var Ve=Array(At),ee=0;ee<At;ee++)Ve[ee]=arguments[ee+2];rt.children=Ve}return N(x.type,yt,void 0,void 0,Dt,rt)},Rt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Rt.createElement=function(x,nt,ot){var rt,yt={},Dt=null;if(nt!=null)for(rt in nt.key!==void 0&&(Dt=""+nt.key),nt)ft.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=nt[rt]);var At=arguments.length-2;if(At===1)yt.children=ot;else if(1<At){for(var Ve=Array(At),ee=0;ee<At;ee++)Ve[ee]=arguments[ee+2];yt.children=Ve}if(x&&x.defaultProps)for(rt in At=x.defaultProps,At)yt[rt]===void 0&&(yt[rt]=At[rt]);return N(x,Dt,void 0,void 0,null,yt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(x){return{$$typeof:g,render:x}},Rt.isValidElement=w,Rt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:lt}},Rt.memo=function(x,nt){return{$$typeof:p,type:x,compare:nt===void 0?null:nt}},Rt.startTransition=function(x){var nt=st.T,ot={};st.T=ot;try{var rt=x(),yt=st.S;yt!==null&&yt(ot,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(jt,gt)}catch(Dt){gt(Dt)}finally{st.T=nt}},Rt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},Rt.use=function(x){return st.H.use(x)},Rt.useActionState=function(x,nt,ot){return st.H.useActionState(x,nt,ot)},Rt.useCallback=function(x,nt){return st.H.useCallback(x,nt)},Rt.useContext=function(x){return st.H.useContext(x)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(x,nt){return st.H.useDeferredValue(x,nt)},Rt.useEffect=function(x,nt,ot){var rt=st.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(x,nt)},Rt.useId=function(){return st.H.useId()},Rt.useImperativeHandle=function(x,nt,ot){return st.H.useImperativeHandle(x,nt,ot)},Rt.useInsertionEffect=function(x,nt){return st.H.useInsertionEffect(x,nt)},Rt.useLayoutEffect=function(x,nt){return st.H.useLayoutEffect(x,nt)},Rt.useMemo=function(x,nt){return st.H.useMemo(x,nt)},Rt.useOptimistic=function(x,nt){return st.H.useOptimistic(x,nt)},Rt.useReducer=function(x,nt,ot){return st.H.useReducer(x,nt,ot)},Rt.useRef=function(x){return st.H.useRef(x)},Rt.useState=function(x){return st.H.useState(x)},Rt.useSyncExternalStore=function(x,nt,ot){return st.H.useSyncExternalStore(x,nt,ot)},Rt.useTransition=function(){return st.H.useTransition()},Rt.version="19.1.0",Rt}var e_;function $d(){return e_||(e_=1,ld.exports=c1()),ld.exports}var G=$d();const h1=wv(G);var od={exports:{}},so={},ud={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function f1(){return n_||(n_=1,function(r){function e(X,lt){var gt=X.length;X.push(lt);t:for(;0<gt;){var jt=gt-1>>>1,x=X[jt];if(0<o(x,lt))X[jt]=lt,X[gt]=x,gt=jt;else break t}}function i(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var lt=X[0],gt=X.pop();if(gt!==lt){X[0]=gt;t:for(var jt=0,x=X.length,nt=x>>>1;jt<nt;){var ot=2*(jt+1)-1,rt=X[ot],yt=ot+1,Dt=X[yt];if(0>o(rt,gt))yt<x&&0>o(Dt,rt)?(X[jt]=Dt,X[yt]=gt,jt=yt):(X[jt]=rt,X[ot]=gt,jt=ot);else if(yt<x&&0>o(Dt,gt))X[jt]=Dt,X[yt]=gt,jt=yt;else break t}}return lt}function o(X,lt){var gt=X.sortIndex-lt.sortIndex;return gt!==0?gt:X.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,b=null,S=3,U=!1,M=!1,K=!1,Q=!1,k=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ht(X){for(var lt=i(p);lt!==null;){if(lt.callback===null)s(p);else if(lt.startTime<=X)s(p),lt.sortIndex=lt.expirationTime,e(y,lt);else break;lt=i(p)}}function st(X){if(K=!1,ht(X),!M)if(i(y)!==null)M=!0,ft||(ft=!0,L());else{var lt=i(p);lt!==null&&zt(st,lt.startTime-X)}}var ft=!1,N=-1,R=5,w=-1;function I(){return Q?!0:!(r.unstable_now()-w<R)}function V(){if(Q=!1,ft){var X=r.unstable_now();w=X;var lt=!0;try{t:{M=!1,K&&(K=!1,Z(N),N=-1),U=!0;var gt=S;try{e:{for(ht(X),b=i(y);b!==null&&!(b.expirationTime>X&&I());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,S=b.priorityLevel;var x=jt(b.expirationTime<=X);if(X=r.unstable_now(),typeof x=="function"){b.callback=x,ht(X),lt=!0;break e}b===i(y)&&s(y),ht(X)}else s(y);b=i(y)}if(b!==null)lt=!0;else{var nt=i(p);nt!==null&&zt(st,nt.startTime-X),lt=!1}}break t}finally{b=null,S=gt,U=!1}lt=void 0}}finally{lt?L():ft=!1}}}var L;if(typeof it=="function")L=function(){it(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,qt=C.port2;C.port1.onmessage=V,L=function(){qt.postMessage(null)}}else L=function(){k(V,0)};function zt(X,lt){N=k(function(){X(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(X){switch(S){case 1:case 2:case 3:var lt=3;break;default:lt=S}var gt=S;S=lt;try{return X()}finally{S=gt}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(X,lt){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var gt=S;S=X;try{return lt()}finally{S=gt}},r.unstable_scheduleCallback=function(X,lt,gt){var jt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?jt+gt:jt):gt=jt,X){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=gt+x,X={id:E++,callback:lt,priorityLevel:X,startTime:gt,expirationTime:x,sortIndex:-1},gt>jt?(X.sortIndex=gt,e(p,X),i(y)===null&&X===i(p)&&(K?(Z(N),N=-1):K=!0,zt(st,gt-jt))):(X.sortIndex=x,e(y,X),M||U||(M=!0,ft||(ft=!0,L()))),X},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(X){var lt=S;return function(){var gt=S;S=lt;try{return X.apply(this,arguments)}finally{S=gt}}}}(cd)),cd}var i_;function d1(){return i_||(i_=1,ud.exports=f1()),ud.exports}var hd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function m1(){if(r_)return Xe;r_=1;var r=$d();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:y,containerInfo:p,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,E)},Xe.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},Xe.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Xe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Xe.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,b=g(E,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:U}):E==="script"&&s.d.X(y,{crossOrigin:b,integrity:S,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xe.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Xe.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,b=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xe.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Xe.requestFormReset=function(y){s.d.r(y)},Xe.unstable_batchedUpdates=function(y,p){return y(p)},Xe.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var a_;function g1(){if(a_)return hd.exports;a_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hd.exports=m1(),hd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function p1(){if(s_)return so;s_=1;var r=d1(),e=$d(),i=g1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function qt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case Q:return"Profiler";case K:return"StrictMode";case st:return"Suspense";case ft:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case it:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case ht:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:qt(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return qt(t(n))}catch{}}return null}var zt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},jt=[],x=-1;function nt(t){return{current:t}}function ot(t){0>x||(t.current=jt[x],jt[x]=null,x--)}function rt(t,n){x++,jt[x]=t.current,t.current=n}var yt=nt(null),Dt=nt(null),At=nt(null),Ve=nt(null);function ee(t,n){switch(rt(At,n),rt(Dt,t),rt(yt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?wy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=wy(n),t=Cy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ot(yt),rt(yt,t)}function Gn(){ot(yt),ot(Dt),ot(At)}function Ji(t){t.memoizedState!==null&&rt(Ve,t);var n=yt.current,a=Cy(n,t.type);n!==a&&(rt(Dt,t),rt(yt,a))}function gi(t){Dt.current===t&&(ot(yt),ot(Dt)),Ve.current===t&&(ot(Ve),to._currentValue=gt)}var Fr=Object.prototype.hasOwnProperty,Gr=r.unstable_scheduleCallback,Qr=r.unstable_cancelCallback,Zs=r.unstable_shouldYield,jo=r.unstable_requestPaint,vn=r.unstable_now,ah=r.unstable_getCurrentPriorityLevel,Js=r.unstable_ImmediatePriority,Pa=r.unstable_UserBlockingPriority,Yr=r.unstable_NormalPriority,sh=r.unstable_LowPriority,Ba=r.unstable_IdlePriority,Ws=r.log,ko=r.unstable_setDisableYieldValue,he=null,Qt=null;function un(t){if(typeof Ws=="function"&&ko(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(he,t)}catch{}}var Ye=Math.clz32?Math.clz32:Kr,qo=Math.log,lh=Math.LN2;function Kr(t){return t>>>=0,t===0?32:31-(qo(t)/lh|0)|0}var Xr=256,$r=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function za(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=On(l):(v&=T,v!==0?h=On(v):a||(a=T&~t,a!==0&&(h=On(a))))):(T=l&~f,T!==0?h=On(T):v!==0?h=On(v):a||(a=l&~t,a!==0&&(h=On(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Zr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function tl(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function el(){var t=Xr;return Xr<<=1,(Xr&4194048)===0&&(Xr=256),t}function nl(){var t=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),t}function pi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function yi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function il(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,q=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Ye(a),tt=1<<$;T[$]=0,D[$]=-1;var H=q[$];if(H!==null)for(q[$]=null,$=0;$<H.length;$++){var F=H[$];F!==null&&(F.lane&=-536870913)}a&=~tt}l!==0&&Qn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Qn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function rl(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ye(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ja(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:Qy(t.type))}function Ho(t,n){var a=lt.p;try{return lt.p=t,n()}finally{lt.p=a}}var ae=Math.random().toString(36).slice(2),we="__reactFiber$"+ae,ve="__reactProps$"+ae,En="__reactContainer$"+ae,al="__reactEvents$"+ae,oh="__reactListeners$"+ae,er="__reactHandles$"+ae,Fo="__reactResources$"+ae,Jr="__reactMarker$"+ae;function nr(t){delete t[we],delete t[ve],delete t[al],delete t[oh],delete t[er]}function _i(t){var n=t[we];if(n)return n;for(var a=t.parentNode;a;){if(n=a[En]||a[we]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=xy(t);t!==null;){if(a=t[we])return a;t=xy(t)}return n}t=a,a=t.parentNode}return null}function Yn(t){if(t=t[we]||t[En]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Kn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function We(t){var n=t[Fo];return n||(n=t[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function me(t){t[Jr]=!0}var sl=new Set,ka={};function Mn(t,n){vi(t,n),vi(t+"Capture",n)}function vi(t,n){for(ka[t]=n,t=0;t<n.length;t++)sl.add(n[t])}var Go=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Wr={};function Yo(t){return Fr.call(Wr,t)?!0:Fr.call(Qo,t)?!1:Go.test(t)?Wr[t]=!0:(Qo[t]=!0,!1)}function ir(t,n,a){if(Yo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Xn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ze(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ta,Ko;function Ei(t){if(ta===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||"",Ko=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+t+Ko}var qa=!1;function Ha(t,n){if(!t||qa)return"";qa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(F){var H=F}Reflect.construct(t,[],tt)}else{try{tt.call()}catch(F){H=F}t.call(tt.prototype)}}else{try{throw Error()}catch(F){H=F}(tt=t())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var D=v.split(`
`),q=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===q.length)for(l=D.length-1,h=q.length-1;1<=l&&0<=h&&D[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==q[h]){var $=`
`+D[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{qa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ei(a):""}function ll(t){switch(t.tag){case 26:case 27:case 5:return Ei(t.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return Ha(t.type,!1);case 11:return Ha(t.type.render,!1);case 1:return Ha(t.type,!0);case 31:return Ei("Activity");default:return""}}function Fa(t){try{var n="";do n+=ll(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ol(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function uh(t){var n=ol(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ga(t){t._valueTracker||(t._valueTracker=uh(t))}function ul(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ol(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ea(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ch=/[\n"\\]/g;function Ee(t){return t.replace(ch,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cn(t,n,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?rr(t,v,tn(n)):a!=null?rr(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function na(t,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+tn(a):"",n=n!=null?""+tn(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function rr(t,n,a){n==="number"&&ea(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ti(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Xt(t,n,a){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+tn(a):""}function ia(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(zt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=tn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||ra.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function cl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Xo(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Xo(t,f,n[f])}function hl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(t){return fh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ai=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Si=null,bi=null;function fl(t){var n=Yn(t);if(n&&(t=n.stateNode)){var a=t[ve]||null;t:switch(t=n.stateNode,n.type){case"input":if(cn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ee(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[ve]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ul(l)}break t;case"textarea":Xt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ti(t,!!a.multiple,n,!1)}}}var $n=!1;function $o(t,n,a){if($n)return t(n,a);$n=!0;try{var l=t(n);return l}finally{if($n=!1,(Si!==null||bi!==null)&&(Hu(),Si&&(n=Si,t=bi,bi=Si=null,fl(n),t)))for(n=0;n<t.length;n++)fl(t[n])}}function aa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ve]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Ln)try{var sa={};Object.defineProperty(sa,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",sa,sa),window.removeEventListener("test",sa,sa)}catch{Sn=!1}var Zn=null,ar=null,Ri=null;function dl(){if(Ri)return Ri;var t,n=ar,a=n.length,l,h="value"in Zn?Zn.value:Zn.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return Ri=h.slice(t,1<l?1-l:void 0)}function Jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function ml(){return!1}function Oe(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wn:ml,this.isPropagationStopped=ml,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Oe(Ht),la=E({},Ht,{view:0,detail:0}),Zo=Oe(la),Ka,Xa,ti,oa=E({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ti&&(ti&&t.type==="mousemove"?(Ka=t.screenX-ti.screenX,Xa=t.screenY-ti.screenY):Xa=Ka=0,ti=t),Ka)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),bn=Oe(oa),Jo=E({},oa,{dataTransfer:0}),dh=Oe(Jo),ua=E({},la,{relatedTarget:0}),$a=Oe(ua),gl=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=Oe(gl),Wo=E({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ja=Oe(Wo),mh=E({},Ht,{data:0}),pl=Oe(mh),ca={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=eu[t])?!!n[t]:!1}function ha(){return yl}var nu=E({},la,{key:function(t){if(t.key){var n=ca[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?Jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Wa=Oe(nu),iu=E({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Oe(iu),wi=E({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),ru=Oe(wi),au=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),su=Oe(au),lu=E({},oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ts=Oe(lu),en=E({},Ht,{newState:0,oldState:0}),ou=Oe(en),uu=[9,13,27,32],ei=Ln&&"CompositionEvent"in window,u=null;Ln&&"documentMode"in document&&(u=document.documentMode);var m=Ln&&"TextEvent"in window&&!u,_=Ln&&(!ei||u&&8<u&&11>=u),A=" ",B=!1;function Y(t,n){switch(t){case"keyup":return uu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function Ce(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(B=!0,A);case"textInput":return t=n.data,t===A&&B?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!ei&&Y(t,n)?(t=dl(),Ri=ar=Zn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function De(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Me[t.type]:n==="textarea"}function Ci(t,n,a,l){Si?bi?bi.push(l):bi=[l]:Si=l,n=Xu(n,"onChange"),0<n.length&&(a=new Ya("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var je=null,ni=null;function vl(t){Ty(t,0)}function cu(t){var n=Kn(t);if(ul(n))return t}function qm(t,n){if(t==="change")return n}var Hm=!1;if(Ln){var gh;if(Ln){var ph="oninput"in document;if(!ph){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),ph=typeof Fm.oninput=="function"}gh=ph}else gh=!1;Hm=gh&&(!document.documentMode||9<document.documentMode)}function Gm(){je&&(je.detachEvent("onpropertychange",Qm),ni=je=null)}function Qm(t){if(t.propertyName==="value"&&cu(ni)){var n=[];Ci(n,ni,t,An(t)),$o(vl,n)}}function B0(t,n,a){t==="focusin"?(Gm(),je=n,ni=a,je.attachEvent("onpropertychange",Qm)):t==="focusout"&&Gm()}function z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cu(ni)}function j0(t,n){if(t==="click")return cu(n)}function k0(t,n){if(t==="input"||t==="change")return cu(n)}function q0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:q0;function El(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Fr.call(n,h)||!hn(t[h],n[h]))return!1}return!0}function Ym(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Km(t,n){var a=Ym(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ym(a)}}function Xm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Xm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ea(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ea(t.document)}return n}function yh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var H0=Ln&&"documentMode"in document&&11>=document.documentMode,es=null,_h=null,Tl=null,vh=!1;function Zm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vh||es==null||es!==ea(l)||(l=es,"selectionStart"in l&&yh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Tl&&El(Tl,l)||(Tl=l,l=Xu(_h,"onSelect"),0<l.length&&(n=new Ya("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=es)))}function fa(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ns={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},Eh={},Jm={};Ln&&(Jm=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function da(t){if(Eh[t])return Eh[t];if(!ns[t])return t;var n=ns[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Jm)return Eh[t]=n[a];return t}var Wm=da("animationend"),tg=da("animationiteration"),eg=da("animationstart"),F0=da("transitionrun"),G0=da("transitionstart"),Q0=da("transitioncancel"),ng=da("transitionend"),ig=new Map,Th="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Th.push("scrollEnd");function Un(t,n){ig.set(t,n),Mn(n,[t])}var rg=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=rg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Fa(n)},rg.set(t,n),n)}return{value:t,source:n,stack:Fa(n)}}var wn=[],is=0,Ah=0;function hu(){for(var t=is,n=Ah=is=0;n<t;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&ag(a,h,f)}}function fu(t,n,a,l){wn[is++]=t,wn[is++]=n,wn[is++]=a,wn[is++]=l,Ah|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sh(t,n,a,l){return fu(t,n,a,l),du(t)}function rs(t,n){return fu(t,null,null,n),du(t)}function ag(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ye(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function du(t){if(50<Ql)throw Ql=0,Nf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var as={};function Y0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,a,l){return new Y0(t,n,a,l)}function bh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,n){var a=t.alternate;return a===null?(a=fn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function mu(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")bh(t)&&(v=1);else if(typeof t=="string")v=XT(t,a,yt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=fn(31,a,n,h),t.elementType=w,t.lanes=f,t;case M:return ma(a.children,h,f,n);case K:v=8,h|=24;break;case Q:return t=fn(12,a,n,h|2),t.elementType=Q,t.lanes=f,t;case st:return t=fn(13,a,n,h),t.elementType=st,t.lanes=f,t;case ft:return t=fn(19,a,n,h),t.elementType=ft,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:case it:v=10;break t;case Z:v=9;break t;case ht:v=11;break t;case N:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=fn(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function ma(t,n,a,l){return t=fn(7,t,l,n),t.lanes=a,t}function Rh(t,n,a){return t=fn(6,t,null,n),t.lanes=a,t}function wh(t,n,a){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ss=[],ls=0,gu=null,pu=0,Cn=[],Dn=0,ga=null,Ii=1,Ni="";function pa(t,n){ss[ls++]=pu,ss[ls++]=gu,gu=t,pu=n}function lg(t,n,a){Cn[Dn++]=Ii,Cn[Dn++]=Ni,Cn[Dn++]=ga,ga=t;var l=Ii;t=Ni;var h=32-Ye(l)-1;l&=~(1<<h),a+=1;var f=32-Ye(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-Ye(n)+h|a<<h|l,Ni=f+t}else Ii=1<<f|a<<h|l,Ni=t}function Ch(t){t.return!==null&&(pa(t,1),lg(t,1,0))}function Dh(t){for(;t===gu;)gu=ss[--ls],ss[ls]=null,pu=ss[--ls],ss[ls]=null;for(;t===ga;)ga=Cn[--Dn],Cn[Dn]=null,Ni=Cn[--Dn],Cn[Dn]=null,Ii=Cn[--Dn],Cn[Dn]=null}var nn=null,fe=null,kt=!1,ya=null,ii=!1,Ih=Error(s(519));function _a(t){var n=Error(s(418,""));throw bl(Rn(n,t)),Ih}function og(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[we]=t,n[ve]=l,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<Kl.length;a++)xt(Kl[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),na(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ga(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),ia(n,l.value,l.defaultValue,l.children),Ga(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Ry(n.textContent,a)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=$u),n=!0):n=!1,n||_a(t)}function ug(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:nn=nn.return}}function Al(t){if(t!==nn)return!1;if(!kt)return ug(t),kt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qf(t.type,t.memoizedProps)),a=!a),a&&fe&&_a(t),ug(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){fe=Bn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}fe=null}}else n===27?(n=fe,Tr(t.type)?(t=$f,$f=null,fe=t):fe=n):fe=nn?Bn(t.stateNode.nextSibling):null;return!0}function Sl(){fe=nn=null,kt=!1}function cg(){var t=ya;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ya=null),t}function bl(t){ya===null?ya=[t]:ya.push(t)}var Nh=nt(null),va=null,xi=null;function sr(t,n,a){rt(Nh,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=Nh.current,ot(Nh)}function xh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Vh(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),xh(f.return,a,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),xh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Rl(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(to):t=[to])}h=h.return}t!==null&&Vh(n,t,a,l),n.flags|=262144}function yu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ea(t){va=t,xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ke(t){return hg(va,t)}function _u(t,n){return va===null&&Ea(t),hg(t,n)}function hg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},xi===null){if(t===null)throw Error(s(308));xi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else xi=xi.next=n;return a}var K0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},X0=r.unstable_scheduleCallback,$0=r.unstable_NormalPriority,Ie={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oh(){return{controller:new K0,data:new Map,refCount:0}}function wl(t){t.refCount--,t.refCount===0&&X0($0,function(){t.controller.abort()})}var Cl=null,Mh=0,os=0,us=null;function Z0(t,n){if(Cl===null){var a=Cl=[];Mh=0,os=Pf(),us={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mh++,n.then(fg,fg),n}function fg(){if(--Mh===0&&Cl!==null){us!==null&&(us.status="fulfilled");var t=Cl;Cl=null,os=0,us=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function J0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var dg=X.S;X.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Z0(t,n),dg!==null&&dg(t,n)};var Ta=nt(null);function Lh(){var t=Ta.current;return t!==null?t:ne.pooledCache}function vu(t,n){n===null?rt(Ta,Ta.current):rt(Ta,n.pool)}function mg(){var t=Lh();return t===null?null:{parent:Ie._currentValue,pool:t}}var Dl=Error(s(460)),gg=Error(s(474)),Eu=Error(s(542)),Uh={then:function(){}};function pg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tu(){}function yg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Tu,Tu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t;default:if(typeof n.status=="string")n.then(Tu,Tu);else{if(t=ne,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,vg(t),t}throw Il=n,Dl}}var Il=null;function _g(){if(Il===null)throw Error(s(459));var t=Il;return Il=null,t}function vg(t){if(t===Dl||t===Eu)throw Error(s(483))}var lr=!1;function Ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=du(t),ag(t,null,a),n}return fu(t,l,n,a),du(t)}function Nl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,rl(t,a)}}function zh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var jh=!1;function xl(){if(jh){var t=us;if(t!==null)throw t}}function Vl(t,n,a,l){jh=!1;var h=t.updateQueue;lr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,q=D.next;D.next=null,v===null?f=q:v.next=q,v=D;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=q:T.next=q,$.lastBaseUpdate=D))}if(f!==null){var tt=h.baseState;v=0,$=q=D=null,T=f;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Lt&H)===H:(l&H)===H){H!==0&&H===os&&(jh=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=t,_t=T;H=n;var Jt=a;switch(_t.tag){case 1:if(Tt=_t.payload,typeof Tt=="function"){tt=Tt.call(Jt,tt,H);break t}tt=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=_t.payload,H=typeof Tt=="function"?Tt.call(Jt,tt,H):Tt,H==null)break t;tt=E({},tt,H);break t;case 2:lr=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(q=$=F,D=tt):$=$.next=F,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(D=tt),h.baseState=D,h.firstBaseUpdate=q,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),yr|=v,t.lanes=v,t.memoizedState=tt}}function Eg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Tg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Eg(a[t],n)}var cs=nt(null),Au=nt(0);function Ag(t,n){t=zi,rt(Au,t),rt(cs,n),zi=t|n.baseLanes}function kh(){rt(Au,zi),rt(cs,cs.current)}function qh(){zi=Au.current,ot(cs),ot(Au)}var cr=0,wt=null,$t=null,Te=null,Su=!1,hs=!1,Aa=!1,bu=0,Ol=0,fs=null,W0=0;function ge(){throw Error(s(321))}function Hh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!hn(t[a],n[a]))return!1;return!0}function Fh(t,n,a,l,h,f){return cr=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?ap:sp,Aa=!1,f=a(l,h),Aa=!1,hs&&(f=bg(n,a,l,h)),Sg(t),f}function Sg(t){X.H=Nu;var n=$t!==null&&$t.next!==null;if(cr=0,Te=$t=wt=null,Su=!1,Ol=0,fs=null,n)throw Error(s(300));t===null||Le||(t=t.dependencies,t!==null&&yu(t)&&(Le=!0))}function bg(t,n,a,l){wt=t;var h=0;do{if(hs&&(fs=null),Ol=0,hs=!1,25<=h)throw Error(s(301));if(h+=1,Te=$t=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=sT,f=n(a,l)}while(hs);return f}function tT(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Ml(n):n,t=t.useState()[0],($t!==null?$t.memoizedState:null)!==t&&(wt.flags|=1024),n}function Gh(){var t=bu!==0;return bu=0,t}function Qh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Yh(t){if(Su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Su=!1}cr=0,Te=$t=wt=null,hs=!1,Ol=bu=0,fs=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?wt.memoizedState=Te=t:Te=Te.next=t,Te}function Ae(){if($t===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=$t.next;var n=Te===null?wt.memoizedState:Te.next;if(n!==null)Te=n,$t=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));$t=t,t={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Te===null?wt.memoizedState=Te=t:Te=Te.next=t}return Te}function Kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var n=Ol;return Ol+=1,fs===null&&(fs=[]),t=yg(fs,t,n),n=wt,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?ap:sp),t}function Ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===it)return Ke(t)}throw Error(s(438,String(t)))}function Xh(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Kh(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=I;return n.index++,a}function Oi(t,n){return typeof n=="function"?n(t):n}function wu(t){var n=Ae();return $h(n,$t,t)}function $h(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,D=null,q=n,$=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Lt&tt)===tt:(cr&tt)===tt){var H=q.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===os&&($=!0);else if((cr&H)===H){q=q.next,H===os&&($=!0);continue}else tt={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=tt,v=f):D=D.next=tt,wt.lanes|=H,yr|=H;tt=q.action,Aa&&a(f,tt),f=q.hasEagerState?q.eagerState:a(f,tt)}else H={lane:tt,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(T=D=H,v=f):D=D.next=H,wt.lanes|=tt,yr|=tt;q=q.next}while(q!==null&&q!==n);if(D===null?v=f:D.next=T,!hn(f,t.memoizedState)&&(Le=!0,$&&(a=us,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Zh(t){var n=Ae(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);hn(f,n.memoizedState)||(Le=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Rg(t,n,a){var l=wt,h=Ae(),f=kt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!hn(($t||h).memoizedState,a);v&&(h.memoizedState=a,Le=!0),h=h.queue;var T=Dg.bind(null,l,h,t);if(Ll(2048,8,T,[t]),h.getSnapshot!==n||v||Te!==null&&Te.memoizedState.tag&1){if(l.flags|=2048,ds(9,Cu(),Cg.bind(null,l,h,a,n),null),ne===null)throw Error(s(349));f||(cr&124)!==0||wg(l,n,a)}return a}function wg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=Kh(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Cg(t,n,a,l){n.value=a,n.getSnapshot=l,Ig(n)&&Ng(t)}function Dg(t,n,a){return a(function(){Ig(n)&&Ng(t)})}function Ig(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!hn(t,a)}catch{return!0}}function Ng(t){var n=rs(t,2);n!==null&&yn(n,t,2)}function Jh(t){var n=rn();if(typeof t=="function"){var a=t;if(t=a(),Aa){un(!0);try{a()}finally{un(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function xg(t,n,a,l){return t.baseState=a,$h(t,$t,typeof l=="function"?l:Oi)}function eT(t,n,a,l,h){if(Iu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};X.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Vg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=X.T,v={};X.T=v;try{var T=a(h,l),D=X.S;D!==null&&D(v,T),Og(t,n,T)}catch(q){Wh(t,n,q)}finally{X.T=f}}else try{f=a(h,l),Og(t,n,f)}catch(q){Wh(t,n,q)}}function Og(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mg(t,n,l)},function(l){return Wh(t,n,l)}):Mg(t,n,a)}function Mg(t,n,a){n.status="fulfilled",n.value=a,Lg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Vg(t,a)))}function Wh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Lg(n),n=n.next;while(n!==l)}t.action=null}function Lg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Ug(t,n){return n}function Pg(t,n){if(kt){var a=ne.formState;if(a!==null){t:{var l=wt;if(kt){if(fe){e:{for(var h=fe,f=ii;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=Bn(h.nextSibling),l=h.data==="F!";break t}}_a(l)}l=!1}l&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:n},a.queue=l,a=np.bind(null,wt,l),l.dispatch=a,l=Jh(!1),f=af.bind(null,wt,!1,l.queue),l=rn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=eT.bind(null,wt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Bg(t){var n=Ae();return zg(n,$t,t)}function zg(t,n,a){if(n=$h(t,n,Ug)[0],t=wu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ml(n)}catch(v){throw v===Dl?Eu:v}else l=n;n=Ae();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,ds(9,Cu(),nT.bind(null,h,a),null)),[l,f,t]}function nT(t,n){t.action=n}function jg(t){var n=Ae(),a=$t;if(a!==null)return zg(n,a,t);Ae(),n=n.memoizedState,a=Ae();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ds(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Kh(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Cu(){return{destroy:void 0,resource:void 0}}function kg(){return Ae().memoizedState}function Du(t,n,a,l){var h=rn();l=l===void 0?null:l,wt.flags|=t,h.memoizedState=ds(1|n,Cu(),a,l)}function Ll(t,n,a,l){var h=Ae();l=l===void 0?null:l;var f=h.memoizedState.inst;$t!==null&&l!==null&&Hh(l,$t.memoizedState.deps)?h.memoizedState=ds(n,f,a,l):(wt.flags|=t,h.memoizedState=ds(1|n,f,a,l))}function qg(t,n){Du(8390656,8,t,n)}function Hg(t,n){Ll(2048,8,t,n)}function Fg(t,n){return Ll(4,2,t,n)}function Gg(t,n){return Ll(4,4,t,n)}function Qg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Yg(t,n,a){a=a!=null?a.concat([t]):null,Ll(4,4,Qg.bind(null,n,t),a)}function tf(){}function Kg(t,n){var a=Ae();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Hh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Xg(t,n){var a=Ae();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Hh(n,l[1]))return l[0];if(l=t(),Aa){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,n],l}function ef(t,n,a){return a===void 0||(cr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Jp(),wt.lanes|=t,yr|=t,a)}function $g(t,n,a,l){return hn(a,n)?a:cs.current!==null?(t=ef(t,a,l),hn(t,n)||(Le=!0),t):(cr&42)===0?(Le=!0,t.memoizedState=a):(t=Jp(),wt.lanes|=t,yr|=t,n)}function Zg(t,n,a,l,h){var f=lt.p;lt.p=f!==0&&8>f?f:8;var v=X.T,T={};X.T=T,af(t,!1,n,a);try{var D=h(),q=X.S;if(q!==null&&q(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=J0(D,l);Ul(t,n,$,pn(t))}else Ul(t,n,l,pn(t))}catch(tt){Ul(t,n,{then:function(){},status:"rejected",reason:tt},pn())}finally{lt.p=f,X.T=v}}function iT(){}function nf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Jg(t).queue;Zg(t,h,n,gt,a===null?iT:function(){return Wg(t),a(l)})}function Jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:gt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Wg(t){var n=Jg(t).next.queue;Ul(t,n,{},pn())}function rf(){return Ke(to)}function tp(){return Ae().memoizedState}function ep(){return Ae().memoizedState}function rT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=pn();t=or(a);var l=ur(n,t,a);l!==null&&(yn(l,n,a),Nl(l,n,a)),n={cache:Oh()},t.payload=n;return}n=n.return}}function aT(t,n,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Iu(t)?ip(n,a):(a=Sh(t,n,a,l),a!==null&&(yn(a,t,l),rp(a,n,l)))}function np(t,n,a){var l=pn();Ul(t,n,a,l)}function Ul(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Iu(t))ip(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return fu(t,n,h,0),ne===null&&hu(),!1}catch{}finally{}if(a=Sh(t,n,h,l),a!==null)return yn(a,t,l),rp(a,n,l),!0}return!1}function af(t,n,a,l){if(l={lane:2,revertLane:Pf(),action:l,hasEagerState:!1,eagerState:null,next:null},Iu(t)){if(n)throw Error(s(479))}else n=Sh(t,a,l,2),n!==null&&yn(n,t,2)}function Iu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function ip(t,n){hs=Su=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function rp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,rl(t,a)}}var Nu={readContext:Ke,use:Ru,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},ap={readContext:Ke,use:Ru,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ke,useEffect:qg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Du(4194308,4,Qg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Du(4194308,4,t,n)},useInsertionEffect:function(t,n){Du(4,2,t,n)},useMemo:function(t,n){var a=rn();n=n===void 0?null:n;var l=t();if(Aa){un(!0);try{t()}finally{un(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=rn();if(a!==void 0){var h=a(n);if(Aa){un(!0);try{a(n)}finally{un(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=aT.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Jh(t);var n=t.queue,a=np.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:tf,useDeferredValue:function(t,n){var a=rn();return ef(a,t,n)},useTransition:function(){var t=Jh(!1);return t=Zg.bind(null,wt,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,h=rn();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ne===null)throw Error(s(349));(Lt&124)!==0||wg(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,qg(Dg.bind(null,l,f,t),[t]),l.flags|=2048,ds(9,Cu(),Cg.bind(null,l,f,a,n),null),a},useId:function(){var t=rn(),n=ne.identifierPrefix;if(kt){var a=Ni,l=Ii;a=(l&~(1<<32-Ye(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=bu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=W0++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:rf,useFormState:Pg,useActionState:Pg,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=af.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Xh,useCacheRefresh:function(){return rn().memoizedState=rT.bind(null,wt)}},sp={readContext:Ke,use:Ru,useCallback:Kg,useContext:Ke,useEffect:Hg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:wu,useRef:kg,useState:function(){return wu(Oi)},useDebugValue:tf,useDeferredValue:function(t,n){var a=Ae();return $g(a,$t.memoizedState,t,n)},useTransition:function(){var t=wu(Oi)[0],n=Ae().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Rg,useId:tp,useHostTransitionStatus:rf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,n){var a=Ae();return xg(a,$t,t,n)},useMemoCache:Xh,useCacheRefresh:ep},sT={readContext:Ke,use:Ru,useCallback:Kg,useContext:Ke,useEffect:Hg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Zh,useRef:kg,useState:function(){return Zh(Oi)},useDebugValue:tf,useDeferredValue:function(t,n){var a=Ae();return $t===null?ef(a,t,n):$g(a,$t.memoizedState,t,n)},useTransition:function(){var t=Zh(Oi)[0],n=Ae().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Rg,useId:tp,useHostTransitionStatus:rf,useFormState:jg,useActionState:jg,useOptimistic:function(t,n){var a=Ae();return $t!==null?xg(a,$t,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xh,useCacheRefresh:ep},ms=null,Pl=0;function xu(t){var n=Pl;return Pl+=1,ms===null&&(ms=[]),yg(ms,t,n)}function Bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Vu(t,n){throw n.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function lp(t){var n=t._init;return n(t._payload)}function op(t){function n(P,O){if(t){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)n(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Di(P,O),P.index=0,P.sibling=null,P}function f(P,O,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,O,z,J){return O===null||O.tag!==6?(O=Rh(z,P.mode,J),O.return=P,O):(O=h(O,z),O.return=P,O)}function D(P,O,z,J){var dt=z.type;return dt===M?$(P,O,z.props.children,J,z.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&lp(dt)===O.type)?(O=h(O,z.props),Bl(O,z),O.return=P,O):(O=mu(z.type,z.key,z.props,null,P.mode,J),Bl(O,z),O.return=P,O)}function q(P,O,z,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=wh(z,P.mode,J),O.return=P,O):(O=h(O,z.children||[]),O.return=P,O)}function $(P,O,z,J,dt){return O===null||O.tag!==7?(O=ma(z,P.mode,J,dt),O.return=P,O):(O=h(O,z),O.return=P,O)}function tt(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Rh(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return z=mu(O.type,O.key,O.props,null,P.mode,z),Bl(z,O),z.return=P,z;case U:return O=wh(O,P.mode,z),O.return=P,O;case R:var J=O._init;return O=J(O._payload),tt(P,O,z)}if(zt(O)||L(O))return O=ma(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return tt(P,xu(O),z);if(O.$$typeof===it)return tt(P,_u(P,O),z);Vu(P,O)}return null}function H(P,O,z,J){var dt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return dt!==null?null:T(P,O,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===dt?D(P,O,z,J):null;case U:return z.key===dt?q(P,O,z,J):null;case R:return dt=z._init,z=dt(z._payload),H(P,O,z,J)}if(zt(z)||L(z))return dt!==null?null:$(P,O,z,J,null);if(typeof z.then=="function")return H(P,O,xu(z),J);if(z.$$typeof===it)return H(P,O,_u(P,z),J);Vu(P,z)}return null}function F(P,O,z,J,dt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return P=P.get(z)||null,T(O,P,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case S:return P=P.get(J.key===null?z:J.key)||null,D(O,P,J,dt);case U:return P=P.get(J.key===null?z:J.key)||null,q(O,P,J,dt);case R:var It=J._init;return J=It(J._payload),F(P,O,z,J,dt)}if(zt(J)||L(J))return P=P.get(z)||null,$(O,P,J,dt,null);if(typeof J.then=="function")return F(P,O,z,xu(J),dt);if(J.$$typeof===it)return F(P,O,z,_u(O,J),dt);Vu(O,J)}return null}function Tt(P,O,z,J){for(var dt=null,It=null,mt=O,vt=O=0,Pe=null;mt!==null&&vt<z.length;vt++){mt.index>vt?(Pe=mt,mt=null):Pe=mt.sibling;var Bt=H(P,mt,z[vt],J);if(Bt===null){mt===null&&(mt=Pe);break}t&&mt&&Bt.alternate===null&&n(P,mt),O=f(Bt,O,vt),It===null?dt=Bt:It.sibling=Bt,It=Bt,mt=Pe}if(vt===z.length)return a(P,mt),kt&&pa(P,vt),dt;if(mt===null){for(;vt<z.length;vt++)mt=tt(P,z[vt],J),mt!==null&&(O=f(mt,O,vt),It===null?dt=mt:It.sibling=mt,It=mt);return kt&&pa(P,vt),dt}for(mt=l(mt);vt<z.length;vt++)Pe=F(mt,P,vt,z[vt],J),Pe!==null&&(t&&Pe.alternate!==null&&mt.delete(Pe.key===null?vt:Pe.key),O=f(Pe,O,vt),It===null?dt=Pe:It.sibling=Pe,It=Pe);return t&&mt.forEach(function(wr){return n(P,wr)}),kt&&pa(P,vt),dt}function _t(P,O,z,J){if(z==null)throw Error(s(151));for(var dt=null,It=null,mt=O,vt=O=0,Pe=null,Bt=z.next();mt!==null&&!Bt.done;vt++,Bt=z.next()){mt.index>vt?(Pe=mt,mt=null):Pe=mt.sibling;var wr=H(P,mt,Bt.value,J);if(wr===null){mt===null&&(mt=Pe);break}t&&mt&&wr.alternate===null&&n(P,mt),O=f(wr,O,vt),It===null?dt=wr:It.sibling=wr,It=wr,mt=Pe}if(Bt.done)return a(P,mt),kt&&pa(P,vt),dt;if(mt===null){for(;!Bt.done;vt++,Bt=z.next())Bt=tt(P,Bt.value,J),Bt!==null&&(O=f(Bt,O,vt),It===null?dt=Bt:It.sibling=Bt,It=Bt);return kt&&pa(P,vt),dt}for(mt=l(mt);!Bt.done;vt++,Bt=z.next())Bt=F(mt,P,vt,Bt.value,J),Bt!==null&&(t&&Bt.alternate!==null&&mt.delete(Bt.key===null?vt:Bt.key),O=f(Bt,O,vt),It===null?dt=Bt:It.sibling=Bt,It=Bt);return t&&mt.forEach(function(l1){return n(P,l1)}),kt&&pa(P,vt),dt}function Jt(P,O,z,J){if(typeof z=="object"&&z!==null&&z.type===M&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:t:{for(var dt=z.key;O!==null;){if(O.key===dt){if(dt=z.type,dt===M){if(O.tag===7){a(P,O.sibling),J=h(O,z.props.children),J.return=P,P=J;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&lp(dt)===O.type){a(P,O.sibling),J=h(O,z.props),Bl(J,z),J.return=P,P=J;break t}a(P,O);break}else n(P,O);O=O.sibling}z.type===M?(J=ma(z.props.children,P.mode,J,z.key),J.return=P,P=J):(J=mu(z.type,z.key,z.props,null,P.mode,J),Bl(J,z),J.return=P,P=J)}return v(P);case U:t:{for(dt=z.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),J=h(O,z.children||[]),J.return=P,P=J;break t}else{a(P,O);break}else n(P,O);O=O.sibling}J=wh(z,P.mode,J),J.return=P,P=J}return v(P);case R:return dt=z._init,z=dt(z._payload),Jt(P,O,z,J)}if(zt(z))return Tt(P,O,z,J);if(L(z)){if(dt=L(z),typeof dt!="function")throw Error(s(150));return z=dt.call(z),_t(P,O,z,J)}if(typeof z.then=="function")return Jt(P,O,xu(z),J);if(z.$$typeof===it)return Jt(P,O,_u(P,z),J);Vu(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),J=h(O,z),J.return=P,P=J):(a(P,O),J=Rh(z,P.mode,J),J.return=P,P=J),v(P)):a(P,O)}return function(P,O,z,J){try{Pl=0;var dt=Jt(P,O,z,J);return ms=null,dt}catch(mt){if(mt===Dl||mt===Eu)throw mt;var It=fn(29,mt,null,P.mode);return It.lanes=J,It.return=P,It}finally{}}}var gs=op(!0),up=op(!1),In=nt(null),ri=null;function hr(t){var n=t.alternate;rt(Ne,Ne.current&1),rt(In,t),ri===null&&(n===null||cs.current!==null||n.memoizedState!==null)&&(ri=t)}function cp(t){if(t.tag===22){if(rt(Ne,Ne.current),rt(In,t),ri===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ri=t)}}else fr()}function fr(){rt(Ne,Ne.current),rt(In,In.current)}function Mi(t){ot(In),ri===t&&(ri=null),ot(Ne)}var Ne=nt(0);function Ou(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function sf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var lf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=pn(),h=or(l);h.payload=n,a!=null&&(h.callback=a),n=ur(t,h,l),n!==null&&(yn(n,t,l),Nl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=pn(),h=or(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ur(t,h,l),n!==null&&(yn(n,t,l),Nl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=pn(),l=or(a);l.tag=2,n!=null&&(l.callback=n),n=ur(t,l,a),n!==null&&(yn(n,t,a),Nl(n,t,a))}};function hp(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!El(a,l)||!El(h,f):!0}function fp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&lf.enqueueReplaceState(n,n.state,null)}function Sa(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Mu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dp(t){Mu(t)}function mp(t){console.error(t)}function gp(t){Mu(t)}function Lu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function pp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function of(t,n,a){return a=or(a),a.tag=3,a.payload={element:null},a.callback=function(){Lu(t,n)},a}function yp(t){return t=or(t),t.tag=3,t}function _p(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){pp(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){pp(n,a,l),typeof h!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function lT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Rl(n,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ri===null?Vf():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Uh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Mf(t,l,h)),!1;case 22:return a.flags|=65536,l===Uh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Mf(t,l,h)),!1}throw Error(s(435,a.tag))}return Mf(t,l,h),Vf(),!1}if(kt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ih&&(t=Error(s(422),{cause:l}),bl(Rn(t,a)))):(l!==Ih&&(n=Error(s(423),{cause:l}),bl(Rn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=of(t.stateNode,l,h),zh(t,h),de!==4&&(de=2)),!1;var f=Error(s(520),{cause:l});if(f=Rn(f,a),Gl===null?Gl=[f]:Gl.push(f),de!==4&&(de=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=of(a.stateNode,l,t),zh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=yp(h),_p(h,t,a,l),zh(a,h),!1}a=a.return}while(a!==null);return!1}var vp=Error(s(461)),Le=!1;function ke(t,n,a,l){n.child=t===null?up(n,null,a,l):gs(n,t.child,a,l)}function Ep(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ea(n),l=Fh(t,n,a,v,f,h),T=Gh(),t!==null&&!Le?(Qh(t,n,h),Li(t,n,h)):(kt&&T&&Ch(n),n.flags|=1,ke(t,n,l,h),n.child)}function Tp(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!bh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Ap(t,n,f,l,h)):(t=mu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!pf(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:El,a(v,l)&&t.ref===n.ref)return Li(t,n,h)}return n.flags|=1,t=Di(f,l),t.ref=n.ref,t.return=n,n.child=t}function Ap(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(El(f,l)&&t.ref===n.ref)if(Le=!1,n.pendingProps=l=f,pf(t,h))(t.flags&131072)!==0&&(Le=!0);else return n.lanes=t.lanes,Li(t,n,h)}return uf(t,n,a,l,h)}function Sp(t,n,a){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return bp(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(n,f!==null?f.cachePool:null),f!==null?Ag(n,f):kh(),cp(n);else return n.lanes=n.childLanes=536870912,bp(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(vu(n,f.cachePool),Ag(n,f),fr(),n.memoizedState=null):(t!==null&&vu(n,null),kh(),fr());return ke(t,n,h,a),n.child}function bp(t,n,a,l){var h=Lh();return h=h===null?null:{parent:Ie._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&vu(n,null),kh(),cp(n),t!==null&&Rl(t,n,l,!0),null}function Uu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function uf(t,n,a,l,h){return Ea(n),a=Fh(t,n,a,l,void 0,h),l=Gh(),t!==null&&!Le?(Qh(t,n,h),Li(t,n,h)):(kt&&l&&Ch(n),n.flags|=1,ke(t,n,a,h),n.child)}function Rp(t,n,a,l,h,f){return Ea(n),n.updateQueue=null,a=bg(n,l,a,h),Sg(t),l=Gh(),t!==null&&!Le?(Qh(t,n,f),Li(t,n,f)):(kt&&l&&Ch(n),n.flags|=1,ke(t,n,a,f),n.child)}function wp(t,n,a,l,h){if(Ea(n),n.stateNode===null){var f=as,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ke(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ph(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ke(v):as,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(sf(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&lf.enqueueReplaceState(f,f.state,null),Vl(n,l,f,h),xl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=Sa(a,T);f.props=D;var q=f.context,$=a.contextType;v=as,typeof $=="object"&&$!==null&&(v=Ke($));var tt=a.getDerivedStateFromProps;$=typeof tt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||q!==v)&&fp(n,f,l,v),lr=!1;var H=n.memoizedState;f.state=H,Vl(n,l,f,h),xl(),q=n.memoizedState,T||H!==q||lr?(typeof tt=="function"&&(sf(n,a,tt,l),q=n.memoizedState),(D=lr||hp(n,a,D,l,H,q,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=v,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Bh(t,n),v=n.memoizedProps,$=Sa(a,v),f.props=$,tt=n.pendingProps,H=f.context,q=a.contextType,D=as,typeof q=="object"&&q!==null&&(D=Ke(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==tt||H!==D)&&fp(n,f,l,D),lr=!1,H=n.memoizedState,f.state=H,Vl(n,l,f,h),xl();var F=n.memoizedState;v!==tt||H!==F||lr||t!==null&&t.dependencies!==null&&yu(t.dependencies)?(typeof T=="function"&&(sf(n,a,T,l),F=n.memoizedState),($=lr||hp(n,a,$,l,H,F,D)||t!==null&&t.dependencies!==null&&yu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=D,l=$):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Uu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=gs(n,t.child,null,h),n.child=gs(n,null,a,h)):ke(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Li(t,n,h),t}function Cp(t,n,a,l){return Sl(),n.flags|=256,ke(t,n,a,l),n.child}var cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hf(t){return{baseLanes:t,cachePool:mg()}}function ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Nn),t}function Dp(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(h?hr(n):fr(),kt){var T=fe,D;if(D=T){t:{for(D=T,T=ii;D.nodeType!==8;){if(!T){T=null;break t}if(D=Bn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:ga!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},D=fn(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,nn=n,fe=null,D=!0):D=!1}D||_a(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Xf(T)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return T=l.children,l=l.fallback,h?(fr(),h=n.mode,T=Pu({mode:"hidden",children:T},h),l=ma(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=hf(a),h.childLanes=ff(t,v,a),n.memoizedState=cf,l):(hr(n),df(n,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(hr(n),n.flags&=-257,n=mf(t,n,a)):n.memoizedState!==null?(fr(),n.child=t.child,n.flags|=128,n=null):(fr(),h=l.fallback,T=n.mode,l=Pu({mode:"visible",children:l.children},T),h=ma(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,gs(n,t.child,null,a),l=n.child,l.memoizedState=hf(a),l.childLanes=ff(t,v,a),n.memoizedState=cf,n=h);else if(hr(n),Xf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,bl({value:l,source:null,stack:null}),n=mf(t,n,a)}else if(Le||Rl(t,n,a,!1),v=(a&t.childLanes)!==0,Le||v){if(v=ne,v!==null&&(l=a&-a,l=(l&42)!==0?1:Wi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,rs(t,l),yn(v,t,l),vp;T.data==="$?"||Vf(),n=mf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,fe=Bn(T.nextSibling),nn=n,kt=!0,ya=null,ii=!1,t!==null&&(Cn[Dn++]=Ii,Cn[Dn++]=Ni,Cn[Dn++]=ga,Ii=t.id,Ni=t.overflow,ga=n),n=df(n,l.children),n.flags|=4096);return n}return h?(fr(),h=l.fallback,T=n.mode,D=t.child,q=D.sibling,l=Di(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?h=Di(q,h):(h=ma(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=hf(a):(D=T.cachePool,D!==null?(q=Ie._currentValue,D=D.parent!==q?{parent:q,pool:q}:D):D=mg(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=ff(t,v,a),n.memoizedState=cf,l):(hr(n),a=t.child,t=a.sibling,a=Di(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function df(t,n){return n=Pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Pu(t,n){return t=fn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function mf(t,n,a){return gs(n,t.child,null,a),t=df(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ip(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),xh(t.return,n,a)}function gf(t,n,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function Np(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(ke(t,n,l.children,a),l=Ne.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ip(t,a,n);else if(t.tag===19)Ip(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(rt(Ne,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&Ou(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),gf(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Ou(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}gf(n,!0,a,null,f);break;case"together":gf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Li(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),yr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Rl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Di(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Di(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function pf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&yu(t)))}function oT(t,n,a){switch(n.tag){case 3:ee(n,n.stateNode.containerInfo),sr(n,Ie,t.memoizedState.cache),Sl();break;case 27:case 5:Ji(n);break;case 4:ee(n,n.stateNode.containerInfo);break;case 10:sr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(hr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Dp(t,n,a):(hr(n),t=Li(t,n,a),t!==null?t.sibling:null);hr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Rl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return Np(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,Sp(t,n,a);case 24:sr(n,Ie,t.memoizedState.cache)}return Li(t,n,a)}function xp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Le=!0;else{if(!pf(t,a)&&(n.flags&128)===0)return Le=!1,oT(t,n,a);Le=(t.flags&131072)!==0}else Le=!1,kt&&(n.flags&1048576)!==0&&lg(n,pu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")bh(l)?(t=Sa(l,t),n.tag=1,n=wp(null,n,l,t,a)):(n.tag=0,n=uf(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ht){n.tag=11,n=Ep(null,n,l,t,a);break t}else if(h===N){n.tag=14,n=Tp(null,n,l,t,a);break t}}throw n=qt(l)||l,Error(s(306,n,""))}}return n;case 0:return uf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Sa(l,n.pendingProps),wp(t,n,l,h,a);case 3:t:{if(ee(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Bh(t,n),Vl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,sr(n,Ie,l),l!==f.cache&&Vh(n,[Ie],a,!0),xl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cp(t,n,l,a);break t}else if(l!==h){h=Rn(Error(s(424)),n),bl(h),n=Cp(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(fe=Bn(t.firstChild),nn=n,kt=!0,ya=null,ii=!0,a=up(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Sl(),l===h){n=Li(t,n,a);break t}ke(t,n,l,a)}n=n.child}return n;case 26:return Uu(t,n),t===null?(a=Ly(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,t=n.pendingProps,l=Zu(At.current).createElement(a),l[we]=n,l[ve]=t,He(l,a,t),me(l),n.stateNode=l):n.memoizedState=Ly(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ji(n),t===null&&kt&&(l=n.stateNode=Vy(n.type,n.pendingProps,At.current),nn=n,ii=!0,h=fe,Tr(n.type)?($f=h,fe=Bn(l.firstChild)):fe=h),ke(t,n,n.pendingProps.children,a),Uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((h=l=fe)&&(l=UT(l,n.type,n.pendingProps,ii),l!==null?(n.stateNode=l,nn=n,fe=Bn(l.firstChild),ii=!1,h=!0):h=!1),h||_a(n)),Ji(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Qf(h,f)?l=null:v!==null&&Qf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Fh(t,n,tT,null,null,a),to._currentValue=h),Uu(t,n),ke(t,n,l,a),n.child;case 6:return t===null&&kt&&((t=a=fe)&&(a=PT(a,n.pendingProps,ii),a!==null?(n.stateNode=a,nn=n,fe=null,t=!0):t=!1),t||_a(n)),null;case 13:return Dp(t,n,a);case 4:return ee(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=gs(n,null,l,a):ke(t,n,l,a),n.child;case 11:return Ep(t,n,n.type,n.pendingProps,a);case 7:return ke(t,n,n.pendingProps,a),n.child;case 8:return ke(t,n,n.pendingProps.children,a),n.child;case 12:return ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,sr(n,n.type,l.value),ke(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ea(n),h=Ke(h),l=l(h),n.flags|=1,ke(t,n,l,a),n.child;case 14:return Tp(t,n,n.type,n.pendingProps,a);case 15:return Ap(t,n,n.type,n.pendingProps,a);case 19:return Np(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Pu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Di(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Sp(t,n,a);case 24:return Ea(n),l=Ke(Ie),t===null?(h=Lh(),h===null&&(h=ne,f=Oh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},Ph(n),sr(n,Ie,h)):((t.lanes&a)!==0&&(Bh(t,n),Vl(n,null,null,a),xl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),sr(n,Ie,l)):(l=f.cache,sr(n,Ie,l),l!==h.cache&&Vh(n,[Ie],a,!0))),ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ui(t){t.flags|=4}function Vp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!jy(n)){if(n=In.current,n!==null&&((Lt&4194048)===Lt?ri!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==ri))throw Il=Uh,gg;t.flags|=8192}}function Bu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?nl():536870912,t.lanes|=n,vs|=n)}function zl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function oe(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function uT(t,n,a){var l=n.pendingProps;switch(Dh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Ie),Gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Al(n)?Ui(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cg())),oe(n),null;case 26:return a=n.memoizedState,t===null?(Ui(n),a!==null?(oe(n),Vp(n,a)):(oe(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ui(n),oe(n),Vp(n,a)):(oe(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ui(n),oe(n),n.flags&=-16777217),null;case 27:gi(n),a=At.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return oe(n),null}t=yt.current,Al(n)?og(n):(t=Vy(h,l,a),n.stateNode=t,Ui(n))}return oe(n),null;case 5:if(gi(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return oe(n),null}if(t=yt.current,Al(n))og(n);else{switch(h=Zu(At.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[we]=n,t[ve]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(He(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ui(n)}}return oe(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=At.current,Al(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[we]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ry(t.nodeValue,a)),t||_a(n)}else t=Zu(t).createTextNode(l),t[we]=n,n.stateNode=t}return oe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Al(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[we]=n}else Sl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=cg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Bu(n,n.updateQueue),oe(n),null;case 4:return Gn(),t===null&&kf(n.stateNode.containerInfo),oe(n),null;case 10:return Vi(n.type),oe(n),null;case 19:if(ot(Ne),h=n.memoizedState,h===null)return oe(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)zl(h,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ou(t),f!==null){for(n.flags|=128,zl(h,!1),t=f.updateQueue,n.updateQueue=t,Bu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)sg(a,t),a=a.sibling;return rt(Ne,Ne.current&1|2),n.child}t=t.sibling}h.tail!==null&&vn()>ku&&(n.flags|=128,l=!0,zl(h,!1),n.lanes=4194304)}else{if(!l)if(t=Ou(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Bu(n,t),zl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!kt)return oe(n),null}else 2*vn()-h.renderingStartTime>ku&&a!==536870912&&(n.flags|=128,l=!0,zl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=vn(),n.sibling=null,t=Ne.current,rt(Ne,l?t&1|2:t&1),n):(oe(n),null);case 22:case 23:return Mi(n),qh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),a=n.updateQueue,a!==null&&Bu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ot(Ta),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Ie),oe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function cT(t,n){switch(Dh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Ie),Gn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return gi(n),null;case 13:if(Mi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Sl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(Ne),null;case 4:return Gn(),null;case 10:return Vi(n.type),null;case 22:case 23:return Mi(n),qh(),t!==null&&ot(Ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Ie),null;case 25:return null;default:return null}}function Op(t,n){switch(Dh(n),n.tag){case 3:Vi(Ie),Gn();break;case 26:case 27:case 5:gi(n);break;case 4:Gn();break;case 13:Mi(n);break;case 19:ot(Ne);break;case 10:Vi(n.type);break;case 22:case 23:Mi(n),qh(),t!==null&&ot(Ta);break;case 24:Vi(Ie)}}function jl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){Wt(n,n.return,T)}}function dr(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var D=a,q=T;try{q()}catch($){Wt(h,D,$)}}}l=l.next}while(l!==f)}}catch($){Wt(n,n.return,$)}}function Mp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Tg(n,a)}catch(l){Wt(t,t.return,l)}}}function Lp(t,n,a){a.props=Sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Wt(t,n,l)}}function kl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Wt(t,n,h)}}function ai(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Wt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(t,n,h)}else a.current=null}function Up(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Wt(t,t.return,h)}}function yf(t,n,a){try{var l=t.stateNode;xT(l,t.type,a,n),l[ve]=n}catch(h){Wt(t,t.return,h)}}function Pp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Tr(t.type)||t.tag===4}function _f(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=$u));else if(l!==4&&(l===27&&Tr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(vf(t,n,a),t=t.sibling;t!==null;)vf(t,n,a),t=t.sibling}function zu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&Tr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zu(t,n,a),t=t.sibling;t!==null;)zu(t,n,a),t=t.sibling}function Bp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,a),n[we]=t,n[ve]=a}catch(f){Wt(t,t.return,f)}}var Pi=!1,pe=!1,Ef=!1,zp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function hT(t,n){if(t=t.containerInfo,Ff=ic,t=$m(t),yh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,D=-1,q=0,$=0,tt=t,H=null;e:for(;;){for(var F;tt!==a||h!==0&&tt.nodeType!==3||(T=v+h),tt!==f||l!==0&&tt.nodeType!==3||(D=v+l),tt.nodeType===3&&(v+=tt.nodeValue.length),(F=tt.firstChild)!==null;)H=tt,tt=F;for(;;){if(tt===t)break e;if(H===a&&++q===h&&(T=v),H===f&&++$===l&&(D=v),(F=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=F}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gf={focusedElem:t,selectionRange:a},ic=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Tt=Sa(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Wt(a,a.return,_t)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function jp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),l&4&&jl(5,a);break;case 1:if(mr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Wt(a,a.return,v)}else{var h=Sa(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Wt(a,a.return,v)}}l&64&&Mp(a),l&512&&kl(a,a.return);break;case 3:if(mr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Tg(t,n)}catch(v){Wt(a,a.return,v)}}break;case 27:n===null&&l&4&&Bp(a);case 26:case 5:mr(t,a),n===null&&l&4&&Up(a),l&512&&kl(a,a.return);break;case 12:mr(t,a);break;case 13:mr(t,a),l&4&&Hp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ET.bind(null,a),BT(t,a))));break;case 22:if(l=a.memoizedState!==null||Pi,!l){n=n!==null&&n.memoizedState!==null||pe,h=Pi;var f=pe;Pi=l,(pe=n)&&!f?gr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),Pi=h,pe=f}break;case 30:break;default:mr(t,a)}}function kp(t){var n=t.alternate;n!==null&&(t.alternate=null,kp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&nr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,an=!1;function Bi(t,n,a){for(a=a.child;a!==null;)qp(t,n,a),a=a.sibling}function qp(t,n,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(he,a)}catch{}switch(a.tag){case 26:pe||ai(a,n),Bi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||ai(a,n);var l=se,h=an;Tr(a.type)&&(se=a.stateNode,an=!1),Bi(t,n,a),$l(a.stateNode),se=l,an=h;break;case 5:pe||ai(a,n);case 6:if(l=se,h=an,se=null,Bi(t,n,a),se=l,an=h,se!==null)if(an)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(f){Wt(a,n,f)}else try{se.removeChild(a.stateNode)}catch(f){Wt(a,n,f)}break;case 18:se!==null&&(an?(t=se,Ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ro(t)):Ny(se,a.stateNode));break;case 4:l=se,h=an,se=a.stateNode.containerInfo,an=!0,Bi(t,n,a),se=l,an=h;break;case 0:case 11:case 14:case 15:pe||dr(2,a,n),pe||dr(4,a,n),Bi(t,n,a);break;case 1:pe||(ai(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lp(a,n,l)),Bi(t,n,a);break;case 21:Bi(t,n,a);break;case 22:pe=(l=pe)||a.memoizedState!==null,Bi(t,n,a),pe=l;break;default:Bi(t,n,a)}}function Hp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ro(t)}catch(a){Wt(n,n.return,a)}}function fT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new zp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new zp),n;default:throw Error(s(435,t.tag))}}function Tf(t,n){var a=fT(t);n.forEach(function(l){var h=TT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function dn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Tr(T.type)){se=T.stateNode,an=!1;break t}break;case 5:se=T.stateNode,an=!1;break t;case 3:case 4:se=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(se===null)throw Error(s(160));qp(f,v,h),se=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Fp(n,t),n=n.sibling}var Pn=null;function Fp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),mn(t),l&4&&(dr(3,t,t.return),jl(3,t),dr(5,t,t.return));break;case 1:dn(n,t),mn(t),l&512&&(pe||a===null||ai(a,a.return)),l&64&&Pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pn;if(dn(n,t),mn(t),l&512&&(pe||a===null||ai(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Jr]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,a),f[we]=t,me(f),l=f;break t;case"link":var v=By("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;case"meta":if(v=By("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),He(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[we]=t,me(f),l=f}t.stateNode=l}else zy(h,t.type,t.stateNode);else t.stateNode=Py(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?zy(h,t.type,t.stateNode):Py(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&yf(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(n,t),mn(t),l&512&&(pe||a===null||ai(a,a.return)),a!==null&&l&4&&yf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(n,t),mn(t),l&512&&(pe||a===null||ai(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(F){Wt(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,yf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Ef=!0);break;case 6:if(dn(n,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Wt(t,t.return,F)}}break;case 3:if(tc=null,h=Pn,Pn=Ju(n.containerInfo),dn(n,t),Pn=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ro(n.containerInfo)}catch(F){Wt(t,t.return,F)}Ef&&(Ef=!1,Gp(t));break;case 4:l=Pn,Pn=Ju(t.stateNode.containerInfo),dn(n,t),mn(t),Pn=l;break;case 12:dn(n,t),mn(t);break;case 13:dn(n,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cf=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tf(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=Pi,$=pe;if(Pi=q||h,pe=$||D,dn(n,t),pe=$,Pi=q,mn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||D||Pi||pe||ba(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(f=D.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var tt=D.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Wt(D,D.return,F)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(F){Wt(D,D.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Tf(t,a))));break;case 19:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Tf(t,l)));break;case 30:break;case 21:break;default:dn(n,t),mn(t)}}function mn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Pp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=_f(t);zu(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=_f(t);zu(t,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,q=_f(t);vf(t,q,D);break;default:throw Error(s(161))}}catch($){Wt(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Gp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function mr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)jp(t,n.alternate,n),n=n.sibling}function ba(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:dr(4,n,n.return),ba(n);break;case 1:ai(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Lp(n,n.return,a),ba(n);break;case 27:$l(n.stateNode);case 26:case 5:ai(n,n.return),ba(n);break;case 22:n.memoizedState===null&&ba(n);break;case 30:ba(n);break;default:ba(n)}t=t.sibling}}function gr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:gr(h,f,a),jl(4,f);break;case 1:if(gr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Wt(l,l.return,q)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Eg(D[h],T)}catch(q){Wt(l,l.return,q)}}a&&v&64&&Mp(f),kl(f,f.return);break;case 27:Bp(f);case 26:case 5:gr(h,f,a),a&&l===null&&v&4&&Up(f),kl(f,f.return);break;case 12:gr(h,f,a);break;case 13:gr(h,f,a),a&&v&4&&Hp(h,f);break;case 22:f.memoizedState===null&&gr(h,f,a),kl(f,f.return);break;case 30:break;default:gr(h,f,a)}n=n.sibling}}function Af(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&wl(a))}function Sf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&wl(t))}function si(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Qp(t,n,a,l),n=n.sibling}function Qp(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:si(t,n,a,l),h&2048&&jl(9,n);break;case 1:si(t,n,a,l);break;case 3:si(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&wl(t)));break;case 12:if(h&2048){si(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Wt(n,n.return,D)}}else si(t,n,a,l);break;case 13:si(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?si(t,n,a,l):ql(t,n):f._visibility&2?si(t,n,a,l):(f._visibility|=2,ps(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&Af(v,n);break;case 24:si(t,n,a,l),h&2048&&Sf(n.alternate,n);break;default:si(t,n,a,l)}}function ps(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=a,D=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:ps(f,v,T,D,h),jl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?ps(f,v,T,D,h):ql(f,v):($._visibility|=2,ps(f,v,T,D,h)),h&&q&2048&&Af(v.alternate,v);break;case 24:ps(f,v,T,D,h),h&&q&2048&&Sf(v.alternate,v);break;default:ps(f,v,T,D,h)}n=n.sibling}}function ql(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:ql(a,l),h&2048&&Af(l.alternate,l);break;case 24:ql(a,l),h&2048&&Sf(l.alternate,l);break;default:ql(a,l)}n=n.sibling}}var Hl=8192;function ys(t){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)Yp(t),t=t.sibling}function Yp(t){switch(t.tag){case 26:ys(t),t.flags&Hl&&t.memoizedState!==null&&ZT(Pn,t.memoizedState,t.memoizedProps);break;case 5:ys(t);break;case 3:case 4:var n=Pn;Pn=Ju(t.stateNode.containerInfo),ys(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Hl,Hl=16777216,ys(t),Hl=n):ys(t));break;default:ys(t)}}function Kp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,$p(l,t)}Kp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xp(t),t=t.sibling}function Xp(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&dr(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ju(t)):Fl(t);break;default:Fl(t)}}function ju(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ue=l,$p(l,t)}Kp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:dr(8,n,n.return),ju(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,ju(n));break;default:ju(n)}t=t.sibling}}function $p(t,n){for(;Ue!==null;){var a=Ue;switch(a.tag){case 0:case 11:case 15:dr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:wl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ue=l;else t:for(a=t;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(kp(l),l===a){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var dT={getCacheForType:function(t){var n=Ke(Ie),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},mT=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ne=null,Nt=null,Lt=0,Kt=0,gn=null,pr=!1,_s=!1,bf=!1,zi=0,de=0,yr=0,Ra=0,Rf=0,Nn=0,vs=0,Gl=null,sn=null,wf=!1,Cf=0,ku=1/0,qu=null,_r=null,qe=0,vr=null,Es=null,Ts=0,Df=0,If=null,Zp=null,Ql=0,Nf=null;function pn(){if((Yt&2)!==0&&Lt!==0)return Lt&-Lt;if(X.T!==null){var t=os;return t!==0?t:Pf()}return tr()}function Jp(){Nn===0&&(Nn=(Lt&536870912)===0||kt?el():536870912);var t=In.current;return t!==null&&(t.flags|=32),Nn}function yn(t,n,a){(t===ne&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)&&(As(t,0),Er(t,Lt,Nn,!1)),yi(t,a),((Yt&2)===0||t!==ne)&&(t===ne&&((Yt&2)===0&&(Ra|=a),de===4&&Er(t,Lt,Nn,!1)),li(t))}function Wp(t,n,a){if((Yt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Zr(t,n),h=l?yT(t,n):Of(t,n,!0),f=l;do{if(h===0){_s&&!l&&Er(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!gT(a)){h=Of(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=Gl;var D=T.current.memoizedState.isDehydrated;if(D&&(As(T,v).flags|=256),v=Of(T,v,!1),v!==2){if(bf&&!D){T.errorRecoveryDisabledLanes|=f,Ra|=f,h=4;break t}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){As(t,0),Er(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Er(l,n,Nn,!pr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Cf+300-vn(),10<h)){if(Er(l,n,Nn,!pr),za(l,0,!0)!==0)break t;l.timeoutHandle=Dy(ty.bind(null,l,a,sn,qu,wf,n,Nn,Ra,vs,pr,f,2,-0,0),h);break t}ty(l,a,sn,qu,wf,n,Nn,Ra,vs,pr,f,0,-0,0)}}break}while(!0);li(t)}function ty(t,n,a,l,h,f,v,T,D,q,$,tt,H,F){if(t.timeoutHandle=-1,tt=n.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(Wl={stylesheets:null,count:0,unsuspend:$T},Yp(n),tt=JT(),tt!==null)){t.cancelPendingCommit=tt(ly.bind(null,t,n,f,a,l,h,v,T,D,$,1,H,F)),Er(t,f,v,!q);return}ly(t,n,f,a,l,h,v,T,D)}function gT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Er(t,n,a,l){n&=~Rf,n&=~Ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ye(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&Qn(t,a,n)}function Hu(){return(Yt&6)===0?(Yl(0),!1):!0}function xf(){if(Nt!==null){if(Kt===0)var t=Nt.return;else t=Nt,xi=va=null,Yh(t),ms=null,Pl=0,t=Nt;for(;t!==null;)Op(t.alternate,t),t=t.return;Nt=null}}function As(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,OT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xf(),ne=t,Nt=a=Di(t.current,null),Lt=n,Kt=0,gn=null,pr=!1,_s=Zr(t,n),bf=!1,vs=Nn=Rf=Ra=yr=de=0,sn=Gl=null,wf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ye(l),f=1<<h;n|=t[h],l&=~f}return zi=n,hu(),a}function ey(t,n){wt=null,X.H=Nu,n===Dl||n===Eu?(n=_g(),Kt=3):n===gg?(n=_g(),Kt=4):Kt=n===vp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Nt===null&&(de=1,Lu(t,Rn(n,t.current)))}function ny(){var t=X.H;return X.H=Nu,t===null?Nu:t}function iy(){var t=X.A;return X.A=dT,t}function Vf(){de=4,pr||(Lt&4194048)!==Lt&&In.current!==null||(_s=!0),(yr&134217727)===0&&(Ra&134217727)===0||ne===null||Er(ne,Lt,Nn,!1)}function Of(t,n,a){var l=Yt;Yt|=2;var h=ny(),f=iy();(ne!==t||Lt!==n)&&(qu=null,As(t,n)),n=!1;var v=de;t:do try{if(Kt!==0&&Nt!==null){var T=Nt,D=gn;switch(Kt){case 8:xf(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var q=Kt;if(Kt=0,gn=null,Ss(t,T,D,q),a&&_s){v=0;break t}break;default:q=Kt,Kt=0,gn=null,Ss(t,T,D,q)}}pT(),v=de;break}catch($){ey(t,$)}while(!0);return n&&t.shellSuspendCounter++,xi=va=null,Yt=l,X.H=h,X.A=f,Nt===null&&(ne=null,Lt=0,hu()),v}function pT(){for(;Nt!==null;)ry(Nt)}function yT(t,n){var a=Yt;Yt|=2;var l=ny(),h=iy();ne!==t||Lt!==n?(qu=null,ku=vn()+500,As(t,n)):_s=Zr(t,n);t:do try{if(Kt!==0&&Nt!==null){n=Nt;var f=gn;e:switch(Kt){case 1:Kt=0,gn=null,Ss(t,n,f,1);break;case 2:case 9:if(pg(f)){Kt=0,gn=null,ay(n);break}n=function(){Kt!==2&&Kt!==9||ne!==t||(Kt=7),li(t)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:pg(f)?(Kt=0,gn=null,ay(n)):(Kt=0,gn=null,Ss(t,n,f,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||jy(v)){Kt=0,gn=null;var D=T.sibling;if(D!==null)Nt=D;else{var q=T.return;q!==null?(Nt=q,Fu(q)):Nt=null}break e}}Kt=0,gn=null,Ss(t,n,f,5);break;case 6:Kt=0,gn=null,Ss(t,n,f,6);break;case 8:xf(),de=6;break t;default:throw Error(s(462))}}_T();break}catch($){ey(t,$)}while(!0);return xi=va=null,X.H=l,X.A=h,Yt=a,Nt!==null?0:(ne=null,Lt=0,hu(),de)}function _T(){for(;Nt!==null&&!Zs();)ry(Nt)}function ry(t){var n=xp(t.alternate,t,zi);t.memoizedProps=t.pendingProps,n===null?Fu(t):Nt=n}function ay(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Rp(a,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Rp(a,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Yh(n);default:Op(a,n),n=Nt=sg(n,zi),n=xp(a,n,zi)}t.memoizedProps=t.pendingProps,n===null?Fu(t):Nt=n}function Ss(t,n,a,l){xi=va=null,Yh(n),ms=null,Pl=0;var h=n.return;try{if(lT(t,h,n,a,Lt)){de=1,Lu(t,Rn(a,t.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;de=1,Lu(t,Rn(a,t.current)),Nt=null;return}n.flags&32768?(kt||l===1?t=!0:_s||(Lt&536870912)!==0?t=!1:(pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(n,t)):Fu(n)}function Fu(t){var n=t;do{if((n.flags&32768)!==0){sy(n,pr);return}t=n.return;var a=uT(n.alternate,n,zi);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);de===0&&(de=5)}function sy(t,n){do{var a=cT(t.alternate,t);if(a!==null){a.flags&=32767,Nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=a}while(t!==null);de=6,Nt=null}function ly(t,n,a,l,h,f,v,T,D){t.cancelPendingCommit=null;do Gu();while(qe!==0);if((Yt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Ah,il(t,a,f,v,T,D),t===ne&&(Nt=ne=null,Lt=0),Es=n,vr=t,Ts=a,Df=f,If=h,Zp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,AT(Yr,function(){return fy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=lt.p,lt.p=2,v=Yt,Yt|=4;try{hT(t,n,a)}finally{Yt=v,lt.p=h,X.T=l}}qe=1,oy(),uy(),cy()}}function oy(){if(qe===1){qe=0;var t=vr,n=Es,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=lt.p;lt.p=2;var h=Yt;Yt|=4;try{Fp(n,t);var f=Gf,v=$m(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Xm(T.ownerDocument.documentElement,T)){if(D!==null&&yh(T)){var q=D.start,$=D.end;if($===void 0&&($=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min($,T.value.length);else{var tt=T.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var F=H.getSelection(),Tt=T.textContent.length,_t=Math.min(D.start,Tt),Jt=D.end===void 0?_t:Math.min(D.end,Tt);!F.extend&&_t>Jt&&(v=Jt,Jt=_t,_t=v);var P=Km(T,_t),O=Km(T,Jt);if(P&&O&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var z=tt.createRange();z.setStart(P.node,P.offset),F.removeAllRanges(),_t>Jt?(F.addRange(z),F.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),F.addRange(z))}}}}for(tt=[],F=T;F=F.parentNode;)F.nodeType===1&&tt.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<tt.length;T++){var J=tt[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ic=!!Ff,Gf=Ff=null}finally{Yt=h,lt.p=l,X.T=a}}t.current=n,qe=2}}function uy(){if(qe===2){qe=0;var t=vr,n=Es,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=lt.p;lt.p=2;var h=Yt;Yt|=4;try{jp(t,n.alternate,n)}finally{Yt=h,lt.p=l,X.T=a}}qe=3}}function cy(){if(qe===4||qe===3){qe=0,jo();var t=vr,n=Es,a=Ts,l=Zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,Es=vr=null,hy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(_r=null),ja(a),n=n.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(he,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=lt.p,lt.p=2,X.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{X.T=n,lt.p=h}}(Ts&3)!==0&&Gu(),li(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Nf?Ql++:(Ql=0,Nf=t):Ql=0,Yl(0)}}function hy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,wl(n)))}function Gu(t){return oy(),uy(),cy(),fy()}function fy(){if(qe!==5)return!1;var t=vr,n=Df;Df=0;var a=ja(Ts),l=X.T,h=lt.p;try{lt.p=32>a?32:a,X.T=null,a=If,If=null;var f=vr,v=Ts;if(qe=0,Es=vr=null,Ts=0,(Yt&6)!==0)throw Error(s(331));var T=Yt;if(Yt|=4,Xp(f.current),Qp(f,f.current,v,a),Yt=T,Yl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(he,f)}catch{}return!0}finally{lt.p=h,X.T=l,hy(t,n)}}function dy(t,n,a){n=Rn(a,n),n=of(t.stateNode,n,2),t=ur(t,n,2),t!==null&&(yi(t,2),li(t))}function Wt(t,n,a){if(t.tag===3)dy(t,t,a);else for(;n!==null;){if(n.tag===3){dy(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){t=Rn(a,t),a=yp(2),l=ur(n,a,2),l!==null&&(_p(a,l,n,t),yi(l,2),li(l));break}}n=n.return}}function Mf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new mT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(bf=!0,h.add(a),t=vT.bind(null,t,n,a),n.then(t,t))}function vT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ne===t&&(Lt&a)===a&&(de===4||de===3&&(Lt&62914560)===Lt&&300>vn()-Cf?(Yt&2)===0&&As(t,0):Rf|=a,vs===Lt&&(vs=0)),li(t)}function my(t,n){n===0&&(n=nl()),t=rs(t,n),t!==null&&(yi(t,n),li(t))}function ET(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),my(t,a)}function TT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),my(t,a)}function AT(t,n){return Gr(t,n)}var Qu=null,bs=null,Lf=!1,Yu=!1,Uf=!1,wa=0;function li(t){t!==bs&&t.next===null&&(bs===null?Qu=bs=t:bs=bs.next=t),Yu=!0,Lf||(Lf=!0,bT())}function Yl(t,n){if(!Uf&&Yu){Uf=!0;do for(var a=!1,l=Qu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,_y(l,f))}else f=Lt,f=za(l,l===ne?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Zr(l,f)||(a=!0,_y(l,f));l=l.next}while(a);Uf=!1}}function ST(){gy()}function gy(){Yu=Lf=!1;var t=0;wa!==0&&(VT()&&(t=wa),wa=0);for(var n=vn(),a=null,l=Qu;l!==null;){var h=l.next,f=py(l,n);f===0?(l.next=null,a===null?Qu=h:a.next=h,h===null&&(bs=a)):(a=l,(t!==0||(f&3)!==0)&&(Yu=!0)),l=h}Yl(t)}function py(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ye(f),T=1<<v,D=h[v];D===-1?((T&a)===0||(T&l)!==0)&&(h[v]=tl(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=ne,a=Lt,a=za(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Kt===2||Kt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qr(l),ja(a)){case 2:case 8:a=Pa;break;case 32:a=Yr;break;case 268435456:a=Ba;break;default:a=Yr}return l=yy.bind(null,t),a=Gr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qr(l),t.callbackPriority=2,t.callbackNode=null,2}function yy(t,n){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gu()&&t.callbackNode!==a)return null;var l=Lt;return l=za(t,t===ne?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Wp(t,l,n),py(t,vn()),t.callbackNode!=null&&t.callbackNode===a?yy.bind(null,t):null)}function _y(t,n){if(Gu())return null;Wp(t,n,!0)}function bT(){MT(function(){(Yt&6)!==0?Gr(Js,ST):gy()})}function Pf(){return wa===0&&(wa=el()),wa}function vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qa(""+t)}function Ey(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function RT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=vy((h[ve]||null).action),v=l.submitter;v&&(n=(n=v[ve]||null)?vy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Ya("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(wa!==0){var D=v?Ey(h,v):new FormData(h);nf(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=v?Ey(h,v):new FormData(h),nf(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Bf=0;Bf<Th.length;Bf++){var zf=Th[Bf],wT=zf.toLowerCase(),CT=zf[0].toUpperCase()+zf.slice(1);Un(wT,"on"+CT)}Un(Wm,"onAnimationEnd"),Un(tg,"onAnimationIteration"),Un(eg,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(F0,"onTransitionRun"),Un(G0,"onTransitionStart"),Un(Q0,"onTransitionCancel"),Un(ng,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kl));function Ty(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,q=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=q;try{f(h)}catch($){Mu($)}h.currentTarget=null,f=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,q=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=q;try{f(h)}catch($){Mu($)}h.currentTarget=null,f=D}}}}function xt(t,n){var a=n[al];a===void 0&&(a=n[al]=new Set);var l=t+"__bubble";a.has(l)||(Ay(n,t,2,!1),a.add(l))}function jf(t,n,a){var l=0;n&&(l|=4),Ay(a,t,l,n)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function kf(t){if(!t[Ku]){t[Ku]=!0,sl.forEach(function(a){a!=="selectionchange"&&(DT.has(a)||jf(a,!1,t),jf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ku]||(n[Ku]=!0,jf("selectionchange",!1,n))}}function Ay(t,n,a,l){switch(Qy(n)){case 2:var h=e1;break;case 8:h=n1;break;default:h=ed}a=h.bind(null,n,a,t),h=void 0,!Sn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function qf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_i(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=f=v;continue t}T=T.parentNode}}l=l.return}$o(function(){var q=f,$=An(a),tt=[];t:{var H=ig.get(t);if(H!==void 0){var F=Ya,Tt=t;switch(t){case"keypress":if(Jn(a)===0)break t;case"keydown":case"keyup":F=Wa;break;case"focusin":Tt="focus",F=$a;break;case"focusout":Tt="blur",F=$a;break;case"beforeblur":case"afterblur":F=$a;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=ru;break;case Wm:case tg:case eg:F=Za;break;case ng:F=su;break;case"scroll":case"scrollend":F=Zo;break;case"wheel":F=ts;break;case"copy":case"cut":case"paste":F=Ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=_l;break;case"toggle":case"beforetoggle":F=ou}var _t=(n&4)!==0,Jt=!_t&&(t==="scroll"||t==="scrollend"),P=_t?H!==null?H+"Capture":null:H;_t=[];for(var O=q,z;O!==null;){var J=O;if(z=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||z===null||P===null||(J=aa(O,P),J!=null&&_t.push(Xl(O,J,z))),Jt)break;O=O.return}0<_t.length&&(H=new F(H,Tt,null,a,$),tt.push({event:H,listeners:_t}))}}if((n&7)===0){t:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Ai&&(Tt=a.relatedTarget||a.fromElement)&&(_i(Tt)||Tt[En]))break t;if((F||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Tt=a.relatedTarget||a.toElement,F=q,Tt=Tt?_i(Tt):null,Tt!==null&&(Jt=c(Tt),_t=Tt.tag,Tt!==Jt||_t!==5&&_t!==27&&_t!==6)&&(Tt=null)):(F=null,Tt=q),F!==Tt)){if(_t=bn,J="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_t=_l,J="onPointerLeave",P="onPointerEnter",O="pointer"),Jt=F==null?H:Kn(F),z=Tt==null?H:Kn(Tt),H=new _t(J,O+"leave",F,a,$),H.target=Jt,H.relatedTarget=z,J=null,_i($)===q&&(_t=new _t(P,O+"enter",Tt,a,$),_t.target=z,_t.relatedTarget=Jt,J=_t),Jt=J,F&&Tt)e:{for(_t=F,P=Tt,O=0,z=_t;z;z=Rs(z))O++;for(z=0,J=P;J;J=Rs(J))z++;for(;0<O-z;)_t=Rs(_t),O--;for(;0<z-O;)P=Rs(P),z--;for(;O--;){if(_t===P||P!==null&&_t===P.alternate)break e;_t=Rs(_t),P=Rs(P)}_t=null}else _t=null;F!==null&&Sy(tt,H,F,_t,!1),Tt!==null&&Jt!==null&&Sy(tt,Jt,Tt,_t,!0)}}t:{if(H=q?Kn(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var dt=qm;else if(De(H))if(Hm)dt=k0;else{dt=z0;var It=B0}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&hl(q.elementType)&&(dt=qm):dt=j0;if(dt&&(dt=dt(t,q))){Ci(tt,dt,a,$);break t}It&&It(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&rr(H,"number",H.value)}switch(It=q?Kn(q):window,t){case"focusin":(De(It)||It.contentEditable==="true")&&(es=It,_h=q,Tl=null);break;case"focusout":Tl=_h=es=null;break;case"mousedown":vh=!0;break;case"contextmenu":case"mouseup":case"dragend":vh=!1,Zm(tt,a,$);break;case"selectionchange":if(H0)break;case"keydown":case"keyup":Zm(tt,a,$)}var mt;if(ei)t:{switch(t){case"compositionstart":var vt="onCompositionStart";break t;case"compositionend":vt="onCompositionEnd";break t;case"compositionupdate":vt="onCompositionUpdate";break t}vt=void 0}else Ot?Y(t,a)&&(vt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(vt="onCompositionStart");vt&&(_&&a.locale!=="ko"&&(Ot||vt!=="onCompositionStart"?vt==="onCompositionEnd"&&Ot&&(mt=dl()):(Zn=$,ar="value"in Zn?Zn.value:Zn.textContent,Ot=!0)),It=Xu(q,vt),0<It.length&&(vt=new pl(vt,t,null,a,$),tt.push({event:vt,listeners:It}),mt?vt.data=mt:(mt=at(a),mt!==null&&(vt.data=mt)))),(mt=m?Ce(t,a):Mt(t,a))&&(vt=Xu(q,"onBeforeInput"),0<vt.length&&(It=new pl("onBeforeInput","beforeinput",null,a,$),tt.push({event:It,listeners:vt}),It.data=mt)),RT(tt,t,q,a,$)}Ty(tt,n)})}function Xl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Xu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=aa(t,a),h!=null&&l.unshift(Xl(t,h,f)),h=aa(t,n),h!=null&&l.push(Xl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Sy(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,q=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||q===null||(D=q,h?(q=aa(a,f),q!=null&&v.unshift(Xl(a,q,D))):h||(q=aa(a,f),q!=null&&v.push(Xl(a,q,D)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var IT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function by(t){return(typeof t=="string"?t:""+t).replace(IT,`
`).replace(NT,"")}function Ry(t,n){return n=by(n),by(t)===n}function $u(){}function Zt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(t,""+l);break;case"className":Xn(t,"class",l);break;case"tabIndex":Xn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xn(t,a,l);break;case"style":cl(t,l,f);break;case"data":if(n!=="object"){Xn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(t,n,"name",h.name,h,null),Zt(t,n,"formEncType",h.formEncType,h,null),Zt(t,n,"formMethod",h.formMethod,h,null),Zt(t,n,"formTarget",h.formTarget,h,null)):(Zt(t,n,"encType",h.encType,h,null),Zt(t,n,"method",h.method,h,null),Zt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Qa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$u);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Qa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xt("beforetoggle",t),xt("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hh.get(a)||a,ir(t,a,l))}}function Hf(t,n,a,l,h,f){switch(a){case"style":cl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&xt("scroll",t);break;case"onScrollEnd":l!=null&&xt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ka.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[ve]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ir(t,a,l)}}}function He(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",t),xt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,f,v,a,null)}}h&&Zt(t,n,"srcSet",a.srcSet,a,null),l&&Zt(t,n,"src",a.src,a,null);return;case"input":xt("invalid",t);var T=f=v=h=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":D=$;break;case"defaultChecked":q=$;break;case"value":f=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:Zt(t,n,l,$,a,null)}}na(t,f,T,D,q,v,h,!1),Ga(t);return;case"select":xt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Zt(t,n,h,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?Ti(t,!!l,n,!1):a!=null&&Ti(t,!!l,a,!0);return;case"textarea":xt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Zt(t,n,v,T,a,null)}ia(t,l,h,f),Ga(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Zt(t,n,D,l,a,null)}return;case"dialog":xt("beforetoggle",t),xt("toggle",t),xt("cancel",t),xt("close",t);break;case"iframe":case"object":xt("load",t);break;case"video":case"audio":for(l=0;l<Kl.length;l++)xt(Kl[l],t);break;case"image":xt("error",t),xt("load",t);break;case"details":xt("toggle",t);break;case"embed":case"source":case"link":xt("error",t),xt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Zt(t,n,q,l,a,null)}return;default:if(hl(n)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Hf(t,n,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Zt(t,n,T,l,a,null))}function xT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,D=null,q=null,$=null;for(F in a){var tt=a[F];if(a.hasOwnProperty(F)&&tt!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=tt;default:l.hasOwnProperty(F)||Zt(t,n,F,null,l,tt)}}for(var H in l){var F=l[H];if(tt=a[H],l.hasOwnProperty(H)&&(F!=null||tt!=null))switch(H){case"type":f=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":$=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==tt&&Zt(t,n,H,F,l,tt)}}cn(t,v,T,D,q,$,f,h);return;case"select":F=v=T=H=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(f)||Zt(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=a[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":H=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==D&&Zt(t,n,h,f,l,D)}n=T,a=v,l=F,H!=null?Ti(t,!!a,H,!1):!!l!=!!a&&(n!=null?Ti(t,!!a,n,!0):Ti(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(t,n,v,h,l,f)}Xt(t,H,F);return;case"option":for(var Tt in a)if(H=a[Tt],a.hasOwnProperty(Tt)&&H!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Zt(t,n,Tt,null,l,H)}for(D in l)if(H=l[D],F=a[D],l.hasOwnProperty(D)&&H!==F&&(H!=null||F!=null))switch(D){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Zt(t,n,D,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)H=a[_t],a.hasOwnProperty(_t)&&H!=null&&!l.hasOwnProperty(_t)&&Zt(t,n,_t,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Zt(t,n,q,H,l,F)}return;default:if(hl(n)){for(var Jt in a)H=a[Jt],a.hasOwnProperty(Jt)&&H!==void 0&&!l.hasOwnProperty(Jt)&&Hf(t,n,Jt,void 0,l,H);for($ in l)H=l[$],F=a[$],!l.hasOwnProperty($)||H===F||H===void 0&&F===void 0||Hf(t,n,$,H,l,F);return}}for(var P in a)H=a[P],a.hasOwnProperty(P)&&H!=null&&!l.hasOwnProperty(P)&&Zt(t,n,P,null,l,H);for(tt in l)H=l[tt],F=a[tt],!l.hasOwnProperty(tt)||H===F||H==null&&F==null||Zt(t,n,tt,H,l,F)}var Ff=null,Gf=null;function Zu(t){return t.nodeType===9?t:t.ownerDocument}function wy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Qf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Yf=null;function VT(){var t=window.event;return t&&t.type==="popstate"?t===Yf?!1:(Yf=t,!0):(Yf=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,MT=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(t){return Iy.resolve(null).then(t).catch(LT)}:Dy;function LT(t){setTimeout(function(){throw t})}function Tr(t){return t==="head"}function Ny(t,n){var a=n,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&$l(v.documentElement),a&2&&$l(v.body),a&4)for(a=v.head,$l(a),v=a.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[Jr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(f),ro(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);ro(n)}function Kf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kf(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function UT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Jr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function PT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Bn(t.nextSibling),t===null))return null;return t}function Xf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function BT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var $f=null;function xy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Vy(t,n,a){switch(n=Zu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function $l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);nr(t)}var xn=new Map,Oy=new Set;function Ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ji=lt.d;lt.d={f:zT,r:jT,D:kT,C:qT,L:HT,m:FT,X:QT,S:GT,M:YT};function zT(){var t=ji.f(),n=Hu();return t||n}function jT(t){var n=Yn(t);n!==null&&n.tag===5&&n.type==="form"?Wg(n):ji.r(t)}var ws=typeof document>"u"?null:document;function My(t,n,a){var l=ws;if(l&&typeof n=="string"&&n){var h=Ee(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Oy.has(h)||(Oy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",t),me(n),l.head.appendChild(n)))}}function kT(t){ji.D(t),My("dns-prefetch",t,null)}function qT(t,n){ji.C(t,n),My("preconnect",t,n)}function HT(t,n,a){ji.L(t,n,a);var l=ws;if(l&&t&&n){var h='link[rel="preload"][as="'+Ee(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ee(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ee(a.imageSizes)+'"]')):h+='[href="'+Ee(t)+'"]';var f=h;switch(n){case"style":f=Cs(t);break;case"script":f=Ds(t)}xn.has(f)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),xn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Zl(f))||n==="script"&&l.querySelector(Jl(f))||(n=l.createElement("link"),He(n,"link",t),me(n),l.head.appendChild(n)))}}function FT(t,n){ji.m(t,n);var a=ws;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ee(l)+'"][href="'+Ee(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ds(t)}if(!xn.has(f)&&(t=E({rel:"modulepreload",href:t},n),xn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jl(f)))return}l=a.createElement("link"),He(l,"link",t),me(l),a.head.appendChild(l)}}}function GT(t,n,a){ji.S(t,n,a);var l=ws;if(l&&t){var h=We(l).hoistableStyles,f=Cs(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Zl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=xn.get(f))&&Zf(t,a);var D=v=l.createElement("link");me(D),He(D,"link",t),D._p=new Promise(function(q,$){D.onload=q,D.onerror=$}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Wu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function QT(t,n){ji.X(t,n);var a=ws;if(a&&t){var l=We(a).hoistableScripts,h=Ds(t),f=l.get(h);f||(f=a.querySelector(Jl(h)),f||(t=E({src:t,async:!0},n),(n=xn.get(h))&&Jf(t,n),f=a.createElement("script"),me(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function YT(t,n){ji.M(t,n);var a=ws;if(a&&t){var l=We(a).hoistableScripts,h=Ds(t),f=l.get(h);f||(f=a.querySelector(Jl(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=xn.get(h))&&Jf(t,n),f=a.createElement("script"),me(f),He(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Ly(t,n,a,l){var h=(h=At.current)?Ju(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Cs(a.href),a=We(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Cs(a.href);var f=We(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Zl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),f||KT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ds(a),a=We(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Cs(t){return'href="'+Ee(t)+'"'}function Zl(t){return'link[rel="stylesheet"]['+t+"]"}function Uy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function KT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",a),me(n),t.head.appendChild(n))}function Ds(t){return'[src="'+Ee(t)+'"]'}function Jl(t){return"script[async]"+t}function Py(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ee(a.href)+'"]');if(l)return n.instance=l,me(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),me(l),He(l,"style",h),Wu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Cs(a.href);var f=t.querySelector(Zl(h));if(f)return n.state.loading|=4,n.instance=f,me(f),f;l=Uy(a),(h=xn.get(h))&&Zf(l,h),f=(t.ownerDocument||t).createElement("link"),me(f);var v=f;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),He(f,"link",l),n.state.loading|=4,Wu(f,a.precedence,t),n.instance=f;case"script":return f=Ds(a.src),(h=t.querySelector(Jl(f)))?(n.instance=h,me(h),h):(l=a,(h=xn.get(f))&&(l=E({},a),Jf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),me(h),He(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Wu(l,a.precedence,t));return n.instance}function Wu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tc=null;function By(t,n,a){if(tc===null){var l=new Map,h=tc=new Map;h.set(a,l)}else h=tc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Jr]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function zy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function XT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function jy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Wl=null;function $T(){}function ZT(t,n,a){if(Wl===null)throw Error(s(475));var l=Wl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Cs(a.href),f=t.querySelector(Zl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ec.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,me(f);return}f=t.ownerDocument||t,a=Uy(a),(h=xn.get(h))&&Zf(a,h),f=f.createElement("link"),me(f);var v=f;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),He(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ec.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function JT(){if(Wl===null)throw Error(s(475));var t=Wl;return t.stylesheets&&t.count===0&&Wf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Wf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function ec(){if(this.count--,this.count===0){if(this.stylesheets)Wf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nc=null;function Wf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nc=new Map,n.forEach(WT,t),nc=null,ec.call(t))}function WT(t,n){if(!(n.state.loading&4)){var a=nc.get(t);if(a)var l=a.get(null);else{a=new Map,nc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=ec.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var to={$$typeof:it,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function t1(t,n,a,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ky(t,n,a,l,h,f,v,T,D,q,$,tt){return t=new t1(t,n,a,v,T,D,q,tt),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=Oh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},Ph(f),t}function qy(t){return t?(t=as,t):as}function Hy(t,n,a,l,h,f){h=qy(h),l.context===null?l.context=h:l.pendingContext=h,l=or(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ur(t,l,n),a!==null&&(yn(a,t,n),Nl(a,t,n))}function Fy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function td(t,n){Fy(t,n),(t=t.alternate)&&Fy(t,n)}function Gy(t){if(t.tag===13){var n=rs(t,67108864);n!==null&&yn(n,t,67108864),td(t,67108864)}}var ic=!0;function e1(t,n,a,l){var h=X.T;X.T=null;var f=lt.p;try{lt.p=2,ed(t,n,a,l)}finally{lt.p=f,X.T=h}}function n1(t,n,a,l){var h=X.T;X.T=null;var f=lt.p;try{lt.p=8,ed(t,n,a,l)}finally{lt.p=f,X.T=h}}function ed(t,n,a,l){if(ic){var h=nd(l);if(h===null)qf(t,n,l,rc,a),Yy(t,l);else if(r1(h,t,n,a,l))l.stopPropagation();else if(Yy(t,l),n&4&&-1<i1.indexOf(t)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=On(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-Ye(v);T.entanglements[1]|=D,v&=~D}li(f),(Yt&6)===0&&(ku=vn()+500,Yl(0))}}break;case 13:T=rs(f,2),T!==null&&yn(T,f,2),Hu(),td(f,2)}if(f=nd(l),f===null&&qf(t,n,l,rc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else qf(t,n,l,null,a)}}function nd(t){return t=An(t),id(t)}var rc=null;function id(t){if(rc=null,t=_i(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return rc=t,null}function Qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ah()){case Js:return 2;case Pa:return 8;case Yr:case sh:return 32;case Ba:return 268435456;default:return 32}default:return 32}}var rd=!1,Ar=null,Sr=null,br=null,eo=new Map,no=new Map,Rr=[],i1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(t,n){switch(t){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":eo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":no.delete(n.pointerId)}}function io(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Yn(n),n!==null&&Gy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function r1(t,n,a,l,h){switch(n){case"focusin":return Ar=io(Ar,t,n,a,l,h),!0;case"dragenter":return Sr=io(Sr,t,n,a,l,h),!0;case"mouseover":return br=io(br,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return eo.set(f,io(eo.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,no.set(f,io(no.get(f)||null,t,n,a,l,h)),!0}return!1}function Ky(t){var n=_i(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Ho(t.priority,function(){if(a.tag===13){var l=pn();l=Wi(l);var h=rs(a,l);h!==null&&yn(h,a,l),td(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=nd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ai=l,a.target.dispatchEvent(l),Ai=null}else return n=Yn(a),n!==null&&Gy(n),t.blockedOn=a,!1;n.shift()}return!0}function Xy(t,n,a){ac(t)&&a.delete(n)}function a1(){rd=!1,Ar!==null&&ac(Ar)&&(Ar=null),Sr!==null&&ac(Sr)&&(Sr=null),br!==null&&ac(br)&&(br=null),eo.forEach(Xy),no.forEach(Xy)}function sc(t,n){t.blockedOn===n&&(t.blockedOn=null,rd||(rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,a1)))}var lc=null;function $y(t){lc!==t&&(lc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lc===t&&(lc=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(id(l||a)===null)continue;break}var f=Yn(a);f!==null&&(t.splice(n,3),n-=3,nf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ro(t){function n(D){return sc(D,t)}Ar!==null&&sc(Ar,t),Sr!==null&&sc(Sr,t),br!==null&&sc(br,t),eo.forEach(n),no.forEach(n);for(var a=0;a<Rr.length;a++){var l=Rr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Rr.length&&(a=Rr[0],a.blockedOn===null);)Ky(a),a.blockedOn===null&&Rr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[ve]||null;if(typeof f=="function")v||$y(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[ve]||null)T=v.formAction;else if(id(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),$y(a)}}}function ad(t){this._internalRoot=t}oc.prototype.render=ad.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=pn();Hy(a,l,t,n,null,null)},oc.prototype.unmount=ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Hy(t.current,2,null,t,null,null),Hu(),n[En]=null}};function oc(t){this._internalRoot=t}oc.prototype.unstable_scheduleHydration=function(t){if(t){var n=tr();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Rr.length&&n!==0&&n<Rr[a].priority;a++);Rr.splice(a,0,t),a===0&&Ky(t)}};var Zy=e.version;if(Zy!=="19.1.0")throw Error(s(527,Zy,"19.1.0"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var s1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{he=uc.inject(s1),Qt=uc}catch{}}return so.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=dp,f=mp,v=gp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=ky(t,1,!1,null,null,a,l,h,f,v,T,null),t[En]=n.current,kf(t),new ad(n)},so.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=dp,v=mp,T=gp,D=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),n=ky(t,1,!0,n,a??null,l,h,f,v,T,D,q),n.context=qy(null),a=n.current,l=pn(),l=Wi(l),h=or(l),h.callback=null,ur(a,h,l),a=l,n.current.lanes=a,yi(n,a),li(n),t[En]=n.current,kf(t),new oc(n)},so.version="19.1.0",so}var l_;function y1(){if(l_)return od.exports;l_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),od.exports=p1(),od.exports}var _1=y1();const v1=wv(_1);var lo={},o_;function E1(){if(o_)return lo;o_=1,Object.defineProperty(lo,"__esModule",{value:!0}),lo.parse=d,lo.serialize=p;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function d(S,U){const M=new c,K=S.length;if(K<2)return M;const Q=U?.decode||E;let k=0;do{const Z=S.indexOf("=",k);if(Z===-1)break;const it=S.indexOf(";",k),ht=it===-1?K:it;if(Z>ht){k=S.lastIndexOf(";",Z-1)+1;continue}const st=g(S,k,Z),ft=y(S,Z,st),N=S.slice(st,ft);if(M[N]===void 0){let R=g(S,Z+1,ht),w=y(S,ht,R);const I=Q(S.slice(R,w));M[N]=I}k=ht+1}while(k<K);return M}function g(S,U,M){do{const K=S.charCodeAt(U);if(K!==32&&K!==9)return U}while(++U<M);return M}function y(S,U,M){for(;U>M;){const K=S.charCodeAt(--U);if(K!==32&&K!==9)return U+1}return M}function p(S,U,M){const K=M?.encode||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const Q=K(U);if(!e.test(Q))throw new TypeError(`argument val is invalid: ${U}`);let k=S+"="+Q;if(!M)return k;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);k+="; Max-Age="+M.maxAge}if(M.domain){if(!i.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);k+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);k+="; Path="+M.path}if(M.expires){if(!b(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);k+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(k+="; HttpOnly"),M.secure&&(k+="; Secure"),M.partitioned&&(k+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return k}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return lo}E1();var u_="popstate";function T1(r={}){function e(s,o){let{pathname:c,search:d,hash:g}=s.location;return Ad("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:vo(o)}return S1(e,i,null,r)}function le(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function A1(){return Math.random().toString(36).substring(2,10)}function c_(r,e){return{usr:r.state,key:r.key,idx:e}}function Ad(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?qs(e):e,state:i,key:e&&e.key||s||A1()}}function vo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function qs(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function S1(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",y=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function b(){g="POP";let Q=E(),k=Q==null?null:Q-p;p=Q,y&&y({action:g,location:K.location,delta:k})}function S(Q,k){g="PUSH";let Z=Ad(K.location,Q,k);p=E()+1;let it=c_(Z,p),ht=K.createHref(Z);try{d.pushState(it,"",ht)}catch(st){if(st instanceof DOMException&&st.name==="DataCloneError")throw st;o.location.assign(ht)}c&&y&&y({action:g,location:K.location,delta:1})}function U(Q,k){g="REPLACE";let Z=Ad(K.location,Q,k);p=E();let it=c_(Z,p),ht=K.createHref(Z);d.replaceState(it,"",ht),c&&y&&y({action:g,location:K.location,delta:0})}function M(Q){return b1(Q)}let K={get action(){return g},get location(){return r(o,d)},listen(Q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(u_,b),y=Q,()=>{o.removeEventListener(u_,b),y=null}},createHref(Q){return e(o,Q)},createURL:M,encodeLocation(Q){let k=M(Q);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:S,replace:U,go(Q){return d.go(Q)}};return K}function b1(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),le(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:vo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function Cv(r,e,i="/"){return R1(r,e,i,!1)}function R1(r,e,i,s){let o=typeof e=="string"?qs(e):e,c=Gi(o.pathname||"/",i);if(c==null)return null;let d=Dv(r);w1(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=P1(c);g=L1(d[y],p,s)}return g}function Dv(r,e=[],i=[],s=""){let o=(c,d,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};y.relativePath.startsWith("/")&&(le(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let p=qi([s,y.relativePath]),E=i.concat(y);c.children&&c.children.length>0&&(le(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Dv(c.children,e,E,p)),!(c.path==null&&!c.index)&&e.push({path:p,score:O1(p,c.index),routesMeta:E})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let g of Iv(c.path))o(c,d,g)}),e}function Iv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=Iv(s.join("/")),g=[];return g.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...d),g.map(y=>r.startsWith("/")&&y===""?"/":y)}function w1(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:M1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var C1=/^:[\w-]+$/,D1=3,I1=2,N1=1,x1=10,V1=-2,h_=r=>r==="*";function O1(r,e){let i=r.split("/"),s=i.length;return i.some(h_)&&(s+=V1),e&&(s+=I1),i.filter(o=>!h_(o)).reduce((o,c)=>o+(C1.test(c)?D1:c===""?N1:x1),s)}function M1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function L1(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=bc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),S=y.route;if(!b&&p&&i&&!s[s.length-1].route.index&&(b=bc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:qi([c,b.pathname]),pathnameBase:k1(qi([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=qi([c,b.pathnameBase]))}return d}function bc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=U1(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:b},S)=>{if(E==="*"){let M=g[S]||"";d=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const U=g[S];return b&&!U?p[E]=void 0:p[E]=(U||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:r}}function U1(r,e=!1,i=!0){jn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function P1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Gi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function B1(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?qs(r):r;return{pathname:i?i.startsWith("/")?i:z1(i,e):e,search:q1(s),hash:H1(o)}}function z1(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function fd(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j1(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Zd(r){let e=j1(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Jd(r,e,i,s=!1){let o;typeof r=="string"?o=qs(r):(o={...r},le(!o.pathname||!o.pathname.includes("?"),fd("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),fd("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),fd("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}g=b>=0?e[b]:"/"}let y=B1(o,g),p=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var qi=r=>r.join("/").replace(/\/\/+/g,"/"),k1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),q1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,H1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function F1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Nv=["POST","PUT","PATCH","DELETE"];new Set(Nv);var G1=["GET",...Nv];new Set(G1);var Hs=G.createContext(null);Hs.displayName="DataRouter";var qc=G.createContext(null);qc.displayName="DataRouterState";var xv=G.createContext({isTransitioning:!1});xv.displayName="ViewTransition";var Q1=G.createContext(new Map);Q1.displayName="Fetchers";var Y1=G.createContext(null);Y1.displayName="Await";var qn=G.createContext(null);qn.displayName="Navigation";var No=G.createContext(null);No.displayName="Location";var Hn=G.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var Wd=G.createContext(null);Wd.displayName="RouteError";function K1(r,{relative:e}={}){le(Fs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=G.useContext(qn),{hash:o,pathname:c,search:d}=xo(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:qi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function Fs(){return G.useContext(No)!=null}function Fn(){return le(Fs(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(No).location}var Vv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ov(r){G.useContext(qn).static||G.useLayoutEffect(r)}function Zi(){let{isDataRoute:r}=G.useContext(Hn);return r?lA():X1()}function X1(){le(Fs(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Hs),{basename:e,navigator:i}=G.useContext(qn),{matches:s}=G.useContext(Hn),{pathname:o}=Fn(),c=JSON.stringify(Zd(s)),d=G.useRef(!1);return Ov(()=>{d.current=!0}),G.useCallback((y,p={})=>{if(jn(d.current,Vv),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=Jd(y,JSON.parse(c),o,p.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:qi([e,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[e,i,c,o,r])}G.createContext(null);function Mv(){let{matches:r}=G.useContext(Hn),e=r[r.length-1];return e?e.params:{}}function xo(r,{relative:e}={}){let{matches:i}=G.useContext(Hn),{pathname:s}=Fn(),o=JSON.stringify(Zd(i));return G.useMemo(()=>Jd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $1(r,e){return Lv(r,e)}function Lv(r,e,i,s){le(Fs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=G.useContext(qn),{matches:c}=G.useContext(Hn),d=c[c.length-1],g=d?d.params:{},y=d?d.pathname:"/",p=d?d.pathnameBase:"/",E=d&&d.route;{let k=E&&E.path||"";Uv(y,!E||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let b=Fn(),S;if(e){let k=typeof e=="string"?qs(e):e;le(p==="/"||k.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),S=k}else S=b;let U=S.pathname||"/",M=U;if(p!=="/"){let k=p.replace(/^\//,"").split("/");M="/"+U.replace(/^\//,"").split("/").slice(k.length).join("/")}let K=Cv(r,{pathname:M});jn(E||K!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),jn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=eA(K&&K.map(k=>Object.assign({},k,{params:Object.assign({},g,k.params),pathname:qi([p,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:qi([p,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,i,s);return e&&Q?G.createElement(No.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},Q):Q}function Z1(){let r=sA(),e=F1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:c},"ErrorBoundary")," or"," ",G.createElement("code",{style:c},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),i?G.createElement("pre",{style:o},i):null,d)}var J1=G.createElement(Z1,null),W1=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(Hn.Provider,{value:this.props.routeContext},G.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tA({routeContext:r,match:e,children:i}){let s=G.useContext(Hs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Hn.Provider,{value:r},i)}function eA(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i?.errors;if(c!=null){let y=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);le(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,g=-1;if(i)for(let y=0;y<o.length;y++){let p=o[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=y),p.route.id){let{loaderData:E,errors:b}=i,S=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||S){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((y,p,E)=>{let b,S=!1,U=null,M=null;i&&(b=c&&p.route.id?c[p.route.id]:void 0,U=p.route.errorElement||J1,d&&(g<0&&E===0?(Uv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,M=null):g===E&&(S=!0,M=p.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,E+1)),Q=()=>{let k;return b?k=U:S?k=M:p.route.Component?k=G.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=y,G.createElement(tA,{match:p,routeContext:{outlet:y,matches:K,isDataRoute:i!=null},children:k})};return i&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?G.createElement(W1,{location:i.location,revalidation:i.revalidation,component:U,error:b,children:Q(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):Q()},null)}function tm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nA(r){let e=G.useContext(Hs);return le(e,tm(r)),e}function iA(r){let e=G.useContext(qc);return le(e,tm(r)),e}function rA(r){let e=G.useContext(Hn);return le(e,tm(r)),e}function em(r){let e=rA(r),i=e.matches[e.matches.length-1];return le(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function aA(){return em("useRouteId")}function sA(){let r=G.useContext(Wd),e=iA("useRouteError"),i=em("useRouteError");return r!==void 0?r:e.errors?.[i]}function lA(){let{router:r}=nA("useNavigate"),e=em("useNavigate"),i=G.useRef(!1);return Ov(()=>{i.current=!0}),G.useCallback(async(o,c={})=>{jn(i.current,Vv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var f_={};function Uv(r,e,i){!e&&!f_[r]&&(f_[r]=!0,jn(!1,i))}G.memo(oA);function oA({routes:r,future:e,state:i}){return Lv(r,void 0,i,e)}function Pv({to:r,replace:e,state:i,relative:s}){le(Fs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=G.useContext(qn);jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=G.useContext(Hn),{pathname:d}=Fn(),g=Zi(),y=Jd(r,Zd(c),d,s==="path"),p=JSON.stringify(y);return G.useEffect(()=>{g(JSON.parse(p),{replace:e,state:i,relative:s})},[g,p,s,e,i]),null}function ki(r){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uA({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){le(!Fs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=G.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=qs(i));let{pathname:y="/",search:p="",hash:E="",state:b=null,key:S="default"}=i,U=G.useMemo(()=>{let M=Gi(y,d);return M==null?null:{location:{pathname:M,search:p,hash:E,state:b,key:S},navigationType:s}},[d,y,p,E,b,S,s]);return jn(U!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:G.createElement(qn.Provider,{value:g},G.createElement(No.Provider,{children:e,value:U}))}function cA({children:r,location:e}){return $1(Sd(r),e)}function Sd(r,e=[]){let i=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let c=[...e,o];if(s.type===G.Fragment){i.push.apply(i,Sd(s.props.children,c));return}le(s.type===ki,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Sd(s.props.children,c)),i.push(d)}),i}var pc="get",yc="application/x-www-form-urlencoded";function Hc(r){return r!=null&&typeof r.tagName=="string"}function hA(r){return Hc(r)&&r.tagName.toLowerCase()==="button"}function fA(r){return Hc(r)&&r.tagName.toLowerCase()==="form"}function dA(r){return Hc(r)&&r.tagName.toLowerCase()==="input"}function mA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function gA(r,e){return r.button===0&&(!e||e==="_self")&&!mA(r)}var cc=null;function pA(){if(cc===null)try{new FormData(document.createElement("form"),0),cc=!1}catch{cc=!0}return cc}var yA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dd(r){return r!=null&&!yA.has(r)?(jn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):r}function _A(r,e){let i,s,o,c,d;if(fA(r)){let g=r.getAttribute("action");s=g?Gi(g,e):null,i=r.getAttribute("method")||pc,o=dd(r.getAttribute("enctype"))||yc,c=new FormData(r)}else if(hA(r)||dA(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||g.getAttribute("action");if(s=y?Gi(y,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||pc,o=dd(r.getAttribute("formenctype"))||dd(g.getAttribute("enctype"))||yc,c=new FormData(g,r),!pA()){let{name:p,type:E,value:b}=r;if(E==="image"){let S=p?`${p}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else p&&c.append(p,b)}}else{if(Hc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=pc,s=null,o=yc,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function nm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function vA(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function EA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function TA(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await vA(c,i);return d.links?d.links():[]}return[]}));return RA(s.flat(1).filter(EA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function d_(r,e,i,s,o,c){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):c==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let b=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function AA(r,e,{includeHydrateFallback:i}={}){return SA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function SA(r){return[...new Set(r)]}function bA(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function RA(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(bA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var wA=new Set([100,101,204,205]);function CA(r,e){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":e&&Gi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Bv(){let r=G.useContext(Hs);return nm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function DA(){let r=G.useContext(qc);return nm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var im=G.createContext(void 0);im.displayName="FrameworkContext";function zv(){let r=G.useContext(im);return nm(r,"You must render this element inside a <HydratedRouter> element"),r}function IA(r,e){let i=G.useContext(im),[s,o]=G.useState(!1),[c,d]=G.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:b}=e,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let K=k=>{k.forEach(Z=>{d(Z.isIntersecting)})},Q=new IntersectionObserver(K,{threshold:.5});return S.current&&Q.observe(S.current),()=>{Q.disconnect()}}},[r]),G.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let U=()=>{o(!0)},M=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,S,{}]:[c,S,{onFocus:oo(g,U),onBlur:oo(y,M),onMouseEnter:oo(p,U),onMouseLeave:oo(E,M),onTouchStart:oo(b,U)}]:[!1,S,{}]}function oo(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function NA({page:r,...e}){let{router:i}=Bv(),s=G.useMemo(()=>Cv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?G.createElement(VA,{page:r,matches:s,...e}):null}function xA(r){let{manifest:e,routeModules:i}=zv(),[s,o]=G.useState([]);return G.useEffect(()=>{let c=!1;return TA(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function VA({page:r,matches:e,...i}){let s=Fn(),{manifest:o,routeModules:c}=zv(),{basename:d}=Bv(),{loaderData:g,matches:y}=DA(),p=G.useMemo(()=>d_(r,e,y,o,s,"data"),[r,e,y,o,s]),E=G.useMemo(()=>d_(r,e,y,o,s,"assets"),[r,e,y,o,s]),b=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,K=!1;if(e.forEach(k=>{let Z=o.routes[k.route.id];!Z||!Z.hasLoader||(!p.some(it=>it.route.id===k.route.id)&&k.route.id in g&&c[k.route.id]?.shouldRevalidate||Z.hasClientLoader?K=!0:M.add(k.route.id))}),M.size===0)return[];let Q=CA(r,d);return K&&M.size>0&&Q.searchParams.set("_routes",e.filter(k=>M.has(k.route.id)).map(k=>k.route.id).join(",")),[Q.pathname+Q.search]},[d,g,s,o,p,e,r,c]),S=G.useMemo(()=>AA(E,o),[E,o]),U=xA(E);return G.createElement(G.Fragment,null,b.map(M=>G.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...i})),S.map(M=>G.createElement("link",{key:M,rel:"modulepreload",href:M,...i})),U.map(({key:M,link:K})=>G.createElement("link",{key:M,...K})))}function OA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var jv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jv&&(window.__reactRouterVersion="7.6.3")}catch{}function MA({basename:r,children:e,window:i}){let s=G.useRef();s.current==null&&(s.current=T1({window:i,v5Compat:!0}));let o=s.current,[c,d]=G.useState({action:o.action,location:o.location}),g=G.useCallback(y=>{G.startTransition(()=>d(y))},[d]);return G.useLayoutEffect(()=>o.listen(g),[o,g]),G.createElement(uA,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var kv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eo=G.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:y,to:p,preventScrollReset:E,viewTransition:b,...S},U){let{basename:M}=G.useContext(qn),K=typeof p=="string"&&kv.test(p),Q,k=!1;if(typeof p=="string"&&K&&(Q=p,jv))try{let w=new URL(window.location.href),I=p.startsWith("//")?new URL(w.protocol+p):new URL(p),V=Gi(I.pathname,M);I.origin===w.origin&&V!=null?p=V+I.search+I.hash:k=!0}catch{jn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=K1(p,{relative:o}),[it,ht,st]=IA(s,S),ft=BA(p,{replace:d,state:g,target:y,preventScrollReset:E,relative:o,viewTransition:b});function N(w){e&&e(w),w.defaultPrevented||ft(w)}let R=G.createElement("a",{...S,...st,href:Q||Z,onClick:k||c?e:N,ref:OA(U,ht),target:y,"data-discover":!K&&i==="render"?"true":void 0});return it&&!K?G.createElement(G.Fragment,null,R,G.createElement(NA,{page:Z})):R});Eo.displayName="Link";var LA=G.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:y,...p},E){let b=xo(d,{relative:p.relative}),S=Fn(),U=G.useContext(qc),{navigator:M,basename:K}=G.useContext(qn),Q=U!=null&&HA(b)&&g===!0,k=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,Z=S.pathname,it=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(Z=Z.toLowerCase(),it=it?it.toLowerCase():null,k=k.toLowerCase()),it&&K&&(it=Gi(it,K)||it);const ht=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let st=Z===k||!o&&Z.startsWith(k)&&Z.charAt(ht)==="/",ft=it!=null&&(it===k||!o&&it.startsWith(k)&&it.charAt(k.length)==="/"),N={isActive:st,isPending:ft,isTransitioning:Q},R=st?e:void 0,w;typeof s=="function"?w=s(N):w=[s,st?"active":null,ft?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(N):c;return G.createElement(Eo,{...p,"aria-current":R,className:w,ref:E,style:I,to:d,viewTransition:g},typeof y=="function"?y(N):y)});LA.displayName="NavLink";var UA=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=pc,action:g,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:b,...S},U)=>{let M=kA(),K=qA(g,{relative:p}),Q=d.toLowerCase()==="get"?"get":"post",k=typeof g=="string"&&kv.test(g),Z=it=>{if(y&&y(it),it.defaultPrevented)return;it.preventDefault();let ht=it.nativeEvent.submitter,st=ht?.getAttribute("formmethod")||d;M(ht||it.currentTarget,{fetcherKey:e,method:st,navigate:i,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:b})};return G.createElement("form",{ref:U,method:Q,action:K,onSubmit:s?y:Z,...S,"data-discover":!k&&r==="render"?"true":void 0})});UA.displayName="Form";function PA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qv(r){let e=G.useContext(Hs);return le(e,PA(r)),e}function BA(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=Zi(),y=Fn(),p=xo(r,{relative:c});return G.useCallback(E=>{if(gA(E,e)){E.preventDefault();let b=i!==void 0?i:vo(y)===vo(p);g(r,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[y,g,p,i,s,e,r,o,c,d])}var zA=0,jA=()=>`__${String(++zA)}__`;function kA(){let{router:r}=qv("useSubmit"),{basename:e}=G.useContext(qn),i=aA();return G.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:y,body:p}=_A(s,e);if(o.navigate===!1){let E=o.fetcherKey||jA();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function qA(r,{relative:e}={}){let{basename:i}=G.useContext(qn),s=G.useContext(Hn);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...xo(r||".",{relative:e})},d=Fn();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(E=>E==="")){g.delete("index"),y.filter(b=>b).forEach(b=>g.append("index",b));let E=g.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:qi([i,c.pathname])),vo(c)}function HA(r,e={}){let i=G.useContext(xv);le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qv("useViewTransitionState"),o=xo(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Gi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Gi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return bc(o.pathname,d)!=null||bc(o.pathname,c)!=null}[...wA];const FA=()=>{};var m_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},GA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Fv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,E=c>>2,b=(c&3)<<4|g>>4;let S=(g&15)<<2|p>>6,U=p&63;y||(U=64,d||(S=64)),s.push(i[E],i[b],i[S],i[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Hv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||p==null||b==null)throw new QA;const S=c<<2|g>>4;if(s.push(S),p!==64){const U=g<<4&240|p>>2;if(s.push(U),b!==64){const M=p<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class QA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YA=function(r){const e=Hv(r);return Fv.encodeByteArray(e,!0)},Rc=function(r){return YA(r).replace(/\./g,"")},KA=function(r){try{return Fv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=()=>XA().__FIREBASE_DEFAULTS__,ZA=()=>{if(typeof process>"u"||typeof m_>"u")return;const r=m_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},JA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&KA(r[1]);return e&&JSON.parse(e)},rm=()=>{try{return FA()||$A()||ZA()||JA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WA=r=>{var e,i;return(i=(e=rm())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},tS=r=>{const e=WA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Gv=()=>{var r;return(r=rm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Rc(JSON.stringify(i)),Rc(JSON.stringify(d)),""].join(".")}const mo={};function rS(){const r={prod:[],emulator:[]};for(const e of Object.keys(mo))mo[e]?r.emulator.push(e):r.prod.push(e);return r}function aS(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let g_=!1;function sS(r,e){if(typeof window>"u"||typeof document>"u"||!am(window.location.host)||mo[r]===e||mo[r]||g_)return;mo[r]=e;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=rS().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,U){S.setAttribute("width","24"),S.setAttribute("id",U),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{g_=!0,d()},S}function E(S,U){S.setAttribute("id",U),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=aS(s),U=i("text"),M=document.getElementById(U)||document.createElement("span"),K=i("learnmore"),Q=document.getElementById(K)||document.createElement("a"),k=i("preprendIcon"),Z=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const it=S.element;g(it),E(Q,K);const ht=p();y(Z,k),it.append(Z,M,Q,ht),document.body.appendChild(it)}c?(M.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oS(){var r;const e=(r=rm())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uS(){return!oS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cS(){try{return typeof indexedDB=="object"}catch{return!1}}function hS(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS="FirebaseError";class Gs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=fS,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qv.prototype.create)}}class Qv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?dS(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Gs(o,g,s)}}function dS(r,e){return r.replace(mS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const mS=/\{\$([^}]+)}/g;function wc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(p_(c)&&p_(d)){if(!wc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function p_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r){return r&&r._delegate?r._delegate:r}class To{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new eS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yS(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pS(r){return r===Ia?void 0:r}function yS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new gS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const vS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},ES=Pt.INFO,TS={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},AS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=TS[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yv{constructor(e){this.name=e,this._logLevel=ES,this._logHandler=AS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const SS=(r,e)=>e.some(i=>r instanceof i);let y_,__;function bS(){return y_||(y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RS(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,bd=new WeakMap,Xv=new WeakMap,md=new WeakMap,sm=new WeakMap;function wS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Dr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Kv.set(i,r)}).catch(()=>{}),sm.set(e,r),e}function CS(r){if(bd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});bd.set(r,e)}let Rd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return bd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Xv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Dr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DS(r){Rd=r(Rd)}function IS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(gd(this),e,...i);return Xv.set(s,e.sort?e.sort():[e]),Dr(s)}:RS().includes(r)?function(...e){return r.apply(gd(this),e),Dr(Kv.get(this))}:function(...e){return Dr(r.apply(gd(this),e))}}function NS(r){return typeof r=="function"?IS(r):(r instanceof IDBTransaction&&CS(r),SS(r,bS())?new Proxy(r,Rd):r)}function Dr(r){if(r instanceof IDBRequest)return wS(r);if(md.has(r))return md.get(r);const e=NS(r);return e!==r&&(md.set(r,e),sm.set(e,r)),e}const gd=r=>sm.get(r);function xS(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=Dr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Dr(d.result),y.oldVersion,y.newVersion,Dr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const VS=["get","getKey","getAll","getAllKeys","count"],OS=["put","add","delete","clear"],pd=new Map;function v_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pd.get(e))return pd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=OS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return pd.set(e,c),c}DS(r=>({...r,get:(e,i,s)=>v_(e,i)||r.get(e,i,s),has:(e,i)=>!!v_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(LS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function LS(r){const e=r.getComponent();return e?.type==="VERSION"}const wd="@firebase/app",E_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=new Yv("@firebase/app"),US="@firebase/app-compat",PS="@firebase/analytics-compat",BS="@firebase/analytics",zS="@firebase/app-check-compat",jS="@firebase/app-check",kS="@firebase/auth",qS="@firebase/auth-compat",HS="@firebase/database",FS="@firebase/data-connect",GS="@firebase/database-compat",QS="@firebase/functions",YS="@firebase/functions-compat",KS="@firebase/installations",XS="@firebase/installations-compat",$S="@firebase/messaging",ZS="@firebase/messaging-compat",JS="@firebase/performance",WS="@firebase/performance-compat",tb="@firebase/remote-config",eb="@firebase/remote-config-compat",nb="@firebase/storage",ib="@firebase/storage-compat",rb="@firebase/firestore",ab="@firebase/ai",sb="@firebase/firestore-compat",lb="firebase",ob="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="[DEFAULT]",ub={[wd]:"fire-core",[US]:"fire-core-compat",[BS]:"fire-analytics",[PS]:"fire-analytics-compat",[jS]:"fire-app-check",[zS]:"fire-app-check-compat",[kS]:"fire-auth",[qS]:"fire-auth-compat",[HS]:"fire-rtdb",[FS]:"fire-data-connect",[GS]:"fire-rtdb-compat",[QS]:"fire-fn",[YS]:"fire-fn-compat",[KS]:"fire-iid",[XS]:"fire-iid-compat",[$S]:"fire-fcm",[ZS]:"fire-fcm-compat",[JS]:"fire-perf",[WS]:"fire-perf-compat",[tb]:"fire-rc",[eb]:"fire-rc-compat",[nb]:"fire-gcs",[ib]:"fire-gcs-compat",[rb]:"fire-fst",[sb]:"fire-fst-compat",[ab]:"fire-vertex","fire-js":"fire-js",[lb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cc=new Map,cb=new Map,Dd=new Map;function T_(r,e){try{r.container.addComponent(e)}catch(i){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Dc(r){const e=r.name;if(Dd.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;Dd.set(e,r);for(const i of Cc.values())T_(i,r);for(const i of cb.values())T_(i,r);return!0}function hb(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function fb(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ir=new Qv("app","Firebase",db);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new To("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=ob;function $v(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ir.create("bad-app-name",{appName:String(o)});if(i||(i=Gv()),!i)throw Ir.create("no-options");const c=Cc.get(o);if(c){if(wc(i,c.options)&&wc(s,c.config))return c;throw Ir.create("duplicate-app",{appName:o})}const d=new _S(o);for(const y of Dd.values())d.addComponent(y);const g=new mb(i,s,d);return Cc.set(o,g),g}function pb(r=Cd){const e=Cc.get(r);if(!e&&r===Cd&&Gv())return $v();if(!e)throw Ir.create("no-app",{appName:r});return e}function Ms(r,e,i){var s;let o=(s=ub[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(g.join(" "));return}Dc(new To(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="firebase-heartbeat-database",_b=1,Ao="firebase-heartbeat-store";let yd=null;function Zv(){return yd||(yd=xS(yb,_b,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ao)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ir.create("idb-open",{originalErrorMessage:r.message})})),yd}async function vb(r){try{const i=(await Zv()).transaction(Ao),s=await i.objectStore(Ao).get(Jv(r));return await i.done,s}catch(e){if(e instanceof Gs)Yi.warn(e.message);else{const i=Ir.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(i.message)}}}async function A_(r,e){try{const s=(await Zv()).transaction(Ao,"readwrite");await s.objectStore(Ao).put(e,Jv(r)),await s.done}catch(i){if(i instanceof Gs)Yi.warn(i.message);else{const s=Ir.create("idb-set",{originalErrorMessage:i?.message});Yi.warn(s.message)}}}function Jv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=1024,Tb=30;class Ab{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=S_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Tb){const d=Rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Yi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=S_(),{heartbeatsToSend:s,unsentEntries:o}=Sb(this._heartbeatsCache.heartbeats),c=Rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Yi.warn(i),""}}}function S_(){return new Date().toISOString().substring(0,10)}function Sb(r,e=Eb){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),b_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),b_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class bb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cS()?hS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await vb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return A_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return A_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function b_(r){return Rc(JSON.stringify({version:2,heartbeats:r})).length}function Rb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(r){Dc(new To("platform-logger",e=>new MS(e),"PRIVATE")),Dc(new To("heartbeat",e=>new Ab(e),"PRIVATE")),Ms(wd,E_,r),Ms(wd,E_,"esm2017"),Ms("fire-js","")}wb("");var R_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,Wv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function w(){}w.prototype=R.prototype,N.D=R.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(I,V,L){for(var C=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)C[qt-2]=arguments[qt];return R.prototype[V].apply(I,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,w){w||(w=0);var I=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)I[V]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(V=0;16>V;++V)I[V]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=N.g[0],w=N.g[1],V=N.g[2];var L=N.g[3],C=R+(L^w&(V^L))+I[0]+3614090360&4294967295;R=w+(C<<7&4294967295|C>>>25),C=L+(V^R&(w^V))+I[1]+3905402710&4294967295,L=R+(C<<12&4294967295|C>>>20),C=V+(w^L&(R^w))+I[2]+606105819&4294967295,V=L+(C<<17&4294967295|C>>>15),C=w+(R^V&(L^R))+I[3]+3250441966&4294967295,w=V+(C<<22&4294967295|C>>>10),C=R+(L^w&(V^L))+I[4]+4118548399&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(V^R&(w^V))+I[5]+1200080426&4294967295,L=R+(C<<12&4294967295|C>>>20),C=V+(w^L&(R^w))+I[6]+2821735955&4294967295,V=L+(C<<17&4294967295|C>>>15),C=w+(R^V&(L^R))+I[7]+4249261313&4294967295,w=V+(C<<22&4294967295|C>>>10),C=R+(L^w&(V^L))+I[8]+1770035416&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(V^R&(w^V))+I[9]+2336552879&4294967295,L=R+(C<<12&4294967295|C>>>20),C=V+(w^L&(R^w))+I[10]+4294925233&4294967295,V=L+(C<<17&4294967295|C>>>15),C=w+(R^V&(L^R))+I[11]+2304563134&4294967295,w=V+(C<<22&4294967295|C>>>10),C=R+(L^w&(V^L))+I[12]+1804603682&4294967295,R=w+(C<<7&4294967295|C>>>25),C=L+(V^R&(w^V))+I[13]+4254626195&4294967295,L=R+(C<<12&4294967295|C>>>20),C=V+(w^L&(R^w))+I[14]+2792965006&4294967295,V=L+(C<<17&4294967295|C>>>15),C=w+(R^V&(L^R))+I[15]+1236535329&4294967295,w=V+(C<<22&4294967295|C>>>10),C=R+(V^L&(w^V))+I[1]+4129170786&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^V&(R^w))+I[6]+3225465664&4294967295,L=R+(C<<9&4294967295|C>>>23),C=V+(R^w&(L^R))+I[11]+643717713&4294967295,V=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(V^L))+I[0]+3921069994&4294967295,w=V+(C<<20&4294967295|C>>>12),C=R+(V^L&(w^V))+I[5]+3593408605&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^V&(R^w))+I[10]+38016083&4294967295,L=R+(C<<9&4294967295|C>>>23),C=V+(R^w&(L^R))+I[15]+3634488961&4294967295,V=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(V^L))+I[4]+3889429448&4294967295,w=V+(C<<20&4294967295|C>>>12),C=R+(V^L&(w^V))+I[9]+568446438&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^V&(R^w))+I[14]+3275163606&4294967295,L=R+(C<<9&4294967295|C>>>23),C=V+(R^w&(L^R))+I[3]+4107603335&4294967295,V=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(V^L))+I[8]+1163531501&4294967295,w=V+(C<<20&4294967295|C>>>12),C=R+(V^L&(w^V))+I[13]+2850285829&4294967295,R=w+(C<<5&4294967295|C>>>27),C=L+(w^V&(R^w))+I[2]+4243563512&4294967295,L=R+(C<<9&4294967295|C>>>23),C=V+(R^w&(L^R))+I[7]+1735328473&4294967295,V=L+(C<<14&4294967295|C>>>18),C=w+(L^R&(V^L))+I[12]+2368359562&4294967295,w=V+(C<<20&4294967295|C>>>12),C=R+(w^V^L)+I[5]+4294588738&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^V)+I[8]+2272392833&4294967295,L=R+(C<<11&4294967295|C>>>21),C=V+(L^R^w)+I[11]+1839030562&4294967295,V=L+(C<<16&4294967295|C>>>16),C=w+(V^L^R)+I[14]+4259657740&4294967295,w=V+(C<<23&4294967295|C>>>9),C=R+(w^V^L)+I[1]+2763975236&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^V)+I[4]+1272893353&4294967295,L=R+(C<<11&4294967295|C>>>21),C=V+(L^R^w)+I[7]+4139469664&4294967295,V=L+(C<<16&4294967295|C>>>16),C=w+(V^L^R)+I[10]+3200236656&4294967295,w=V+(C<<23&4294967295|C>>>9),C=R+(w^V^L)+I[13]+681279174&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^V)+I[0]+3936430074&4294967295,L=R+(C<<11&4294967295|C>>>21),C=V+(L^R^w)+I[3]+3572445317&4294967295,V=L+(C<<16&4294967295|C>>>16),C=w+(V^L^R)+I[6]+76029189&4294967295,w=V+(C<<23&4294967295|C>>>9),C=R+(w^V^L)+I[9]+3654602809&4294967295,R=w+(C<<4&4294967295|C>>>28),C=L+(R^w^V)+I[12]+3873151461&4294967295,L=R+(C<<11&4294967295|C>>>21),C=V+(L^R^w)+I[15]+530742520&4294967295,V=L+(C<<16&4294967295|C>>>16),C=w+(V^L^R)+I[2]+3299628645&4294967295,w=V+(C<<23&4294967295|C>>>9),C=R+(V^(w|~L))+I[0]+4096336452&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~V))+I[7]+1126891415&4294967295,L=R+(C<<10&4294967295|C>>>22),C=V+(R^(L|~w))+I[14]+2878612391&4294967295,V=L+(C<<15&4294967295|C>>>17),C=w+(L^(V|~R))+I[5]+4237533241&4294967295,w=V+(C<<21&4294967295|C>>>11),C=R+(V^(w|~L))+I[12]+1700485571&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~V))+I[3]+2399980690&4294967295,L=R+(C<<10&4294967295|C>>>22),C=V+(R^(L|~w))+I[10]+4293915773&4294967295,V=L+(C<<15&4294967295|C>>>17),C=w+(L^(V|~R))+I[1]+2240044497&4294967295,w=V+(C<<21&4294967295|C>>>11),C=R+(V^(w|~L))+I[8]+1873313359&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~V))+I[15]+4264355552&4294967295,L=R+(C<<10&4294967295|C>>>22),C=V+(R^(L|~w))+I[6]+2734768916&4294967295,V=L+(C<<15&4294967295|C>>>17),C=w+(L^(V|~R))+I[13]+1309151649&4294967295,w=V+(C<<21&4294967295|C>>>11),C=R+(V^(w|~L))+I[4]+4149444226&4294967295,R=w+(C<<6&4294967295|C>>>26),C=L+(w^(R|~V))+I[11]+3174756917&4294967295,L=R+(C<<10&4294967295|C>>>22),C=V+(R^(L|~w))+I[2]+718787259&4294967295,V=L+(C<<15&4294967295|C>>>17),C=w+(L^(V|~R))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.u=function(N,R){R===void 0&&(R=N.length);for(var w=R-this.blockSize,I=this.B,V=this.h,L=0;L<R;){if(V==0)for(;L<=w;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(I[V++]=N.charCodeAt(L++),V==this.blockSize){o(this,I),V=0;break}}else for(;L<R;)if(I[V++]=N[L++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;var w=8*this.o;for(R=N.length-8;R<N.length;++R)N[R]=w&255,w/=256;for(this.u(N),N=Array(16),R=w=0;4>R;++R)for(var I=0;32>I;I+=8)N[w++]=this.g[R]>>>I&255;return N};function c(N,R){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=R(N)}function d(N,R){this.h=R;for(var w=[],I=!0,V=N.length-1;0<=V;V--){var L=N[V]|0;I&&L==R||(w[V]=L,I=!1)}this.g=w}var g={};function y(N){return-128<=N&&128>N?c(N,function(R){return new d([R|0],0>R?-1:0)}):new d([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return b;if(0>N)return Q(p(-N));for(var R=[],w=1,I=0;N>=w;I++)R[I]=N/w|0,w*=4294967296;return new d(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return Q(E(N.substring(1),R));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=p(Math.pow(R,8)),I=b,V=0;V<N.length;V+=8){var L=Math.min(8,N.length-V),C=parseInt(N.substring(V,V+L),R);8>L?(L=p(Math.pow(R,L)),I=I.j(L).add(p(C))):(I=I.j(w),I=I.add(p(C)))}return I}var b=y(0),S=y(1),U=y(16777216);r=d.prototype,r.m=function(){if(K(this))return-Q(this).m();for(var N=0,R=1,w=0;w<this.g.length;w++){var I=this.i(w);N+=(0<=I?I:4294967296+I)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(M(this))return"0";if(K(this))return"-"+Q(this).toString(N);for(var R=p(Math.pow(N,6)),w=this,I="";;){var V=ht(w,R).g;w=k(w,V.j(R));var L=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=V,M(w))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function M(N){if(N.h!=0)return!1;for(var R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function K(N){return N.h==-1}r.l=function(N){return N=k(this,N),K(N)?-1:M(N)?0:1};function Q(N){for(var R=N.g.length,w=[],I=0;I<R;I++)w[I]=~N.g[I];return new d(w,~N.h).add(S)}r.abs=function(){return K(this)?Q(this):this},r.add=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],I=0,V=0;V<=R;V++){var L=I+(this.i(V)&65535)+(N.i(V)&65535),C=(L>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);I=C>>>16,L&=65535,C&=65535,w[V]=C<<16|L}return new d(w,w[w.length-1]&-2147483648?-1:0)};function k(N,R){return N.add(Q(R))}r.j=function(N){if(M(this)||M(N))return b;if(K(this))return K(N)?Q(this).j(Q(N)):Q(Q(this).j(N));if(K(N))return Q(this.j(Q(N)));if(0>this.l(U)&&0>N.l(U))return p(this.m()*N.m());for(var R=this.g.length+N.g.length,w=[],I=0;I<2*R;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<N.g.length;V++){var L=this.i(I)>>>16,C=this.i(I)&65535,qt=N.i(V)>>>16,zt=N.i(V)&65535;w[2*I+2*V]+=C*zt,Z(w,2*I+2*V),w[2*I+2*V+1]+=L*zt,Z(w,2*I+2*V+1),w[2*I+2*V+1]+=C*qt,Z(w,2*I+2*V+1),w[2*I+2*V+2]+=L*qt,Z(w,2*I+2*V+2)}for(I=0;I<R;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=R;I<2*R;I++)w[I]=0;return new d(w,0)};function Z(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function it(N,R){this.g=N,this.h=R}function ht(N,R){if(M(R))throw Error("division by zero");if(M(N))return new it(b,b);if(K(N))return R=ht(Q(N),R),new it(Q(R.g),Q(R.h));if(K(R))return R=ht(N,Q(R)),new it(Q(R.g),R.h);if(30<N.g.length){if(K(N)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,I=R;0>=I.l(N);)w=st(w),I=st(I);var V=ft(w,1),L=ft(I,1);for(I=ft(I,2),w=ft(w,2);!M(I);){var C=L.add(I);0>=C.l(N)&&(V=V.add(w),L=C),I=ft(I,1),w=ft(w,1)}return R=k(N,V.j(R)),new it(V,R)}for(V=b;0<=N.l(R);){for(w=Math.max(1,Math.floor(N.m()/R.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=p(w),C=L.j(R);K(C)||0<C.l(N);)w-=I,L=p(w),C=L.j(R);M(L)&&(L=S),V=V.add(L),N=k(N,C)}return new it(V,N)}r.A=function(N){return ht(this,N).h},r.and=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)&N.i(I);return new d(w,this.h&N.h)},r.or=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)|N.i(I);return new d(w,this.h|N.h)},r.xor=function(N){for(var R=Math.max(this.g.length,N.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)^N.i(I);return new d(w,this.h^N.h)};function st(N){for(var R=N.g.length+1,w=[],I=0;I<R;I++)w[I]=N.i(I)<<1|N.i(I-1)>>>31;return new d(w,N.h)}function ft(N,R){var w=R>>5;R%=32;for(var I=N.g.length-w,V=[],L=0;L<I;L++)V[L]=0<R?N.i(L+w)>>>R|N.i(L+w+1)<<32-R:N.i(L+w);return new d(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Wv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,Nr=d}).apply(typeof R_<"u"?R_:typeof self<"u"?self:typeof window<"u"?window:{});var hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tE,uo,eE,_c,Id,nE,iE,rE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof hc=="object"&&hc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var B=u[A];if(!(B in _))break t;_=_[B]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,B={next:function(){if(!A&&_<u.length){var Y=_++;return{value:m(Y,u[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function U(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function M(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,B,Y){for(var at=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)at[Ot-2]=arguments[Ot];return m.prototype[B].apply(A,at)}}function K(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function Q(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(y(A)){const B=u.length||0,Y=A.length||0;u.length=B+Y;for(let at=0;at<Y;at++)u[B+at]=A[at]}else u.push(A)}}class k{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){return/^[\s\xa0]*$/.test(u)}function it(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ht(u){return ht[" "](u),u}ht[" "]=function(){};var st=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function ft(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function N(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function R(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)u[_]=A[_];for(let Y=0;Y<w.length;Y++)_=w[Y],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function L(u){g.setTimeout(()=>{throw u},0)}function C(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class qt{constructor(){this.h=this.g=null}add(m,_){const A=zt.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var zt=new k(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,gt=!1,jt=new qt,x=()=>{const u=g.Promise.resolve(void 0);lt=()=>{u.then(nt)}};var nt=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){L(_)}var m=zt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}gt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var yt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Dt(u,m){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(st){t:{try{ht(m.nodeName);var B=!0;break t}catch{}B=!1}B||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:At[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}M(Dt,rt);var At={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),ee=0;function Gn(u,m,_,A,B){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=B,this.key=++ee,this.da=this.fa=!1}function Ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gi(u){this.src=u,this.g={},this.h=0}gi.prototype.add=function(u,m,_,A,B){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var at=Gr(u,m,A,B);return-1<at?(m=u[at],_||(m.fa=!1)):(m=new Gn(m,this.src,Y,!!A,B),m.fa=_,u.push(m)),m};function Fr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],B=Array.prototype.indexOf.call(A,m,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(A,B,1),Y&&(Ji(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Gr(u,m,_,A){for(var B=0;B<u.length;++B){var Y=u[B];if(!Y.da&&Y.listener==m&&Y.capture==!!_&&Y.ha==A)return B}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),Zs={};function jo(u,m,_,A,B){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)jo(u,m[Y],_,A,B);return null}return _=ko(_),u&&u[Ve]?u.K(m,_,p(A)?!!A.capture:!1,B):vn(u,m,_,!1,A,B)}function vn(u,m,_,A,B,Y){if(!m)throw Error("Invalid event type");var at=p(B)?!!B.capture:!!B,Ot=Ba(u);if(Ot||(u[Qr]=Ot=new gi(u)),_=Ot.add(m,_,A,at,Y),_.proxy)return _;if(A=ah(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)yt||(B=at),B===void 0&&(B=!1),u.addEventListener(m.toString(),A,B);else if(u.attachEvent)u.attachEvent(Yr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ah(){function u(_){return m.call(u.src,u.listener,_)}const m=sh;return u}function Js(u,m,_,A,B){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)Js(u,m[Y],_,A,B);else A=p(A)?!!A.capture:!!A,_=ko(_),u&&u[Ve]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],_=Gr(Y,_,A,B),-1<_&&(Ji(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ba(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Gr(m,_,A,B)),(_=-1<u?m[u]:null)&&Pa(_))}function Pa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ve])Fr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Yr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Ba(m))?(Fr(_,u),_.h==0&&(_.src=null,m[Qr]=null)):Ji(u)}}}function Yr(u){return u in Zs?Zs[u]:Zs[u]="on"+u}function sh(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Pa(u),u=_.call(A,m)}return u}function Ba(u){return u=u[Qr],u instanceof gi?u:null}var Ws="__closure_events_fn_"+(1e9*Math.random()>>>0);function ko(u){return typeof u=="function"?u:(u[Ws]||(u[Ws]=function(m){return u.handleEvent(m)}),u[Ws])}function he(){ot.call(this),this.i=new gi(this),this.M=this,this.F=null}M(he,ot),he.prototype[Ve]=!0,he.prototype.removeEventListener=function(u,m,_,A){Js(this,u,m,_,A)};function Qt(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new rt(m,u);else if(m instanceof rt)m.target=m.target||u;else{var B=m;m=new rt(A,u),I(m,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var at=m.g=_[Y];B=un(at,A,!0,m)&&B}if(at=m.g=u,B=un(at,A,!0,m)&&B,B=un(at,A,!1,m)&&B,_)for(Y=0;Y<_.length;Y++)at=m.g=_[Y],B=un(at,A,!1,m)&&B}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Ji(_[A]);delete u.g[m],u.h--}}this.F=null},he.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},he.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function un(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,Y=0;Y<m.length;++Y){var at=m[Y];if(at&&!at.da&&at.capture==_){var Ot=at.listener,Ce=at.ha||at.src;at.fa&&Fr(u.i,at),B=Ot.call(Ce,A)!==!1&&B}}return B&&!A.defaultPrevented}function Ye(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function qo(u){u.g=Ye(()=>{u.g=null,u.i&&(u.i=!1,qo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class lh extends ot{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){ot.call(this),this.h=u,this.g={}}M(Kr,ot);var Xr=[];function $r(u){ft(u.g,function(m,_){this.g.hasOwnProperty(_)&&Pa(m)},u),u.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),$r(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,za=g.JSON.parse,Zr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function tl(){}tl.prototype.h=null;function el(u){return u.h||(u.h=u.i())}function nl(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){rt.call(this,"d")}M(yi,rt);function il(){rt.call(this,"c")}M(il,rt);var Qn={},rl=null;function Wi(){return rl=rl||new he}Qn.La="serverreachability";function ja(u){rt.call(this,Qn.La,u)}M(ja,rt);function tr(u){const m=Wi();Qt(m,new ja(m))}Qn.STAT_EVENT="statevent";function Ho(u,m){rt.call(this,Qn.STAT_EVENT,u),this.stat=m}M(Ho,rt);function ae(u){const m=Wi();Qt(m,new Ho(m,u))}Qn.Ma="timingevent";function we(u,m){rt.call(this,Qn.Ma,u),this.size=m}M(we,rt);function ve(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function al(u,m,_,A,B,Y){u.info(function(){if(u.g)if(Y)for(var at="",Ot=Y.split("&"),Ce=0;Ce<Ot.length;Ce++){var Mt=Ot[Ce].split("=");if(1<Mt.length){var Me=Mt[0];Mt=Mt[1];var De=Me.split("_");at=2<=De.length&&De[1]=="type"?at+(Me+"="+Mt+"&"):at+(Me+"=redacted&")}}else at=null;else at=Y;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+m+`
`+_+`
`+at})}function oh(u,m,_,A,B,Y,at){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+m+`
`+_+`
`+Y+" "+at})}function er(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Jr(u,_)+(A?" "+A:"")})}function Fo(u,m){u.info(function(){return"TIMEOUT: "+m})}En.prototype.info=function(){};function Jr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var at=1;at<B.length;at++)B[at]=""}}}}return On(_)}catch{return m}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function Kn(){}M(Kn,tl),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Yn=new Kn;function We(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var sl={},ka={};function Mn(u,m,_){u.L=1,u.v=ia(cn(m)),u.m=_,u.P=!0,vi(u,null)}function vi(u,m){u.F=Date.now(),Wr(u),u.A=cn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),fl(_.i,"t",A),u.C=0,_=u.j.J,u.h=new me,u.g=su(u.j,_?m:null,!u.m),0<u.O&&(u.M=new lh(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(Xr[0]=B.toString()),B=Xr);for(var Y=0;Y<B.length;Y++){var at=jo(_,B[Y],A||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),tr(),al(u.i,u.u,u.A,u.l,u.R,u.m)}We.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},We.prototype.Y=function(u){try{if(u==this.g)t:{const De=bn(this.g);var m=this.g.Ba();const Ci=this.g.Z();if(!(3>De)&&(De!=3||this.g&&(this.h.h||this.g.oa()||Jo(this.g)))){this.J||De!=4||m==7||(m==8||0>=Ci?tr(3):tr(2)),ir(this);var _=this.g.Z();this.X=_;e:if(Go(this)){var A=Jo(this.g);u="";var B=A.length,Y=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Xn(this);var at="";break e}this.h.i=new g.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(Y&&m==B-1)});A.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,oh(this.i,this.u,this.A,this.l,this.R,De,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,Ce=this.g;if((Ot=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ot)){var Mt=Ot;break e}}Mt=null}if(_=Mt)er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ta(this,_);else{this.o=!1,this.s=3,ae(12),ze(this),Xn(this);break t}}if(this.P){_=!0;let je;for(;!this.J&&this.C<at.length;)if(je=Qo(this,at),je==ka){De==4&&(this.s=4,ae(14),_=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(je==sl){this.s=4,ae(15),er(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else er(this.i,this.l,je,null),ta(this,je);if(Go(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||at.length!=0||this.h.h||(this.s=1,ae(16),_=!1),this.o=this.o&&_,!_)er(this.i,this.l,at,"[Invalid Chunked Response]"),ze(this),Xn(this);else if(0<at.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),ha(Me),Me.M=!0,ae(11))}}else er(this.i,this.l,at,null),ta(this,at);De==4&&ze(this),this.o&&!this.J&&(De==4?iu(this.j,this):(this.o=!1,Wr(this)))}else dh(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),ze(this),Xn(this)}}}catch{}finally{}};function Go(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qo(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?ka:(_=Number(m.substring(_,A)),isNaN(_)?sl:(A+=1,A+_>m.length?ka:(m=m.slice(A,A+_),u.C=A+_,m)))}We.prototype.cancel=function(){this.J=!0,ze(this)};function Wr(u){u.S=Date.now()+u.I,Yo(u,u.I)}function Yo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ve(S(u.ba,u),m)}function ir(u){u.B&&(g.clearTimeout(u.B),u.B=null)}We.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fo(this.i,this.A),this.L!=2&&(tr(),ae(17)),ze(this),this.s=2,Xn(this)):Yo(this,this.S-u)};function Xn(u){u.j.G==0||u.J||iu(u.j,u)}function ze(u){ir(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,$r(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ta(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||ll(_.h,u))){if(!u.K&&ll(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Wa(_),Za(_);else break t;yl(_),ae(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=ve(S(_.Za,_),6e3));if(1>=Ha(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((u.K||_.g==u)&&Wa(_),!Z(m))for(B=_.Da.g.parse(m),m=0;m<B.length;m++){let Mt=B[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Me=Mt[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));const De=Mt[4];De!=null&&(_.Aa=De,_.j.info("SVER="+_.Aa));const Ci=Mt[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(A=1.5*Ci,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const je=u.g;if(je){const ni=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var Y=A.h;Y.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Fa(Y,Y.h),Y.h=null))}if(A.D){const vl=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;vl&&(A.ya=vl,Xt(A.I,A.D,vl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var at=u;if(A.qa=au(A,A.J?A.ia:null,A.W),at.K){tn(A.h,at);var Ot=at,Ce=A.L;Ce&&(Ot.I=Ce),Ot.B&&(ir(Ot),Wr(Ot)),A.g=at}else eu(A);0<_.i.length&&Ja(_)}else Mt[0]!="stop"&&Mt[0]!="close"||wi(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?wi(_,7):gl(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}tr(4)}catch{}}var Ko=class{constructor(u,m){this.g=u,this.map=m}};function Ei(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ha(u){return u.h?1:u.g?u.g.size:0}function ll(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fa(u,m){u.g?u.g.add(m):u.h=m}function tn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ei.prototype.cancel=function(){if(this.i=ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ol(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return K(u.i)}function uh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Ga(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function ul(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ga(u),A=uh(u),B=A.length,Y=0;Y<B;Y++)m.call(void 0,A[Y],_&&_[Y],u)}var ea=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ch(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),B=null;if(0<=A){var Y=u[_].substring(0,A);B=u[_].substring(A+1)}else Y=u[_];m(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ee(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ee){this.h=u.h,na(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.s),this.l=u.l;var m=u.i,_=new Ai;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ti(this,_),this.m=u.m}else u&&(m=String(u).match(ea))?(this.h=!1,na(this,m[1]||"",!0),this.o=Tn(m[2]||""),this.g=Tn(m[3]||"",!0),rr(this,m[4]),this.l=Tn(m[5]||"",!0),Ti(this,m[6]||"",!0),this.m=Tn(m[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}Ee.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ra(m,cl,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ra(m,cl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ra(_,_.charAt(0)=="/"?hh:hl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ra(_,Qa)),u.join("")};function cn(u){return new Ee(u)}function na(u,m,_){u.j=_?Tn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ti(u,m,_){m instanceof Ai?(u.i=m,$o(u.i,u.h)):(_||(m=ra(m,fh)),u.i=new Ai(m,u.h))}function Xt(u,m,_){u.i.set(m,_)}function ia(u){return Xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ra(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Xo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var cl=/[#\/\?@]/g,hl=/[#\?:]/g,hh=/[#\?]/g,fh=/[#\?@]/g,Qa=/#/g;function Ai(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&ch(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ai.prototype,r.add=function(u,m){An(this),this.i=null,u=$n(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Si(u,m){An(u),m=$n(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bi(u,m){return An(u),m=$n(u,m),u.g.has(m)}r.forEach=function(u,m){An(this),this.g.forEach(function(_,A){_.forEach(function(B){u.call(m,B,A,this)},this)},this)},r.na=function(){An(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const B=u[A];for(let Y=0;Y<B.length;Y++)_.push(m[A])}return _},r.V=function(u){An(this);let m=[];if(typeof u=="string")bi(this,u)&&(m=m.concat(this.g.get($n(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return An(this),this.i=null,u=$n(this,u),bi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function fl(u,m,_){Si(u,m),0<_.length&&(u.i=null,u.g.set($n(u,m),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const Y=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var B=Y;at[A]!==""&&(B+="="+encodeURIComponent(String(at[A]))),u.push(B)}}return this.i=u.join("&")};function $n(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $o(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(Si(this,A),fl(this,B,_))},u)),u.j=m}function aa(u,m){const _=new En;if(g.Image){const A=new Image;A.onload=U(Sn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=U(Sn,_,"TestLoadImage: error",!1,m,A),A.onabort=U(Sn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=U(Sn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ln(u,m){const _=new En,A=new AbortController,B=setTimeout(()=>{A.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(B),Y.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function sa(){this.g=new Zr}function Zn(u,m,_){const A=_||"";try{ul(u,function(B,Y){let at=B;p(B)&&(at=On(B)),m.push(A+Y+"="+encodeURIComponent(at))})}catch(B){throw m.push(A+"type="+encodeURIComponent("_badmap")),B}}function ar(u){this.l=u.Ub||null,this.j=u.eb||!1}M(ar,tl),ar.prototype.g=function(){return new Ri(this.l,this.j)},ar.prototype.i=function(u){return function(){return u}}({});function Ri(u,m){he.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ri,he),r=Ri.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function dl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Jn(this):Wn(this),this.readyState==3&&dl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Jn(this))},r.Qa=function(u){this.g&&(this.response=u,Jn(this))},r.ga=function(){this.g&&Jn(this)};function Jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Wn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ml(u){let m="";return ft(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Oe(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=ml(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Xt(u,m,_))}function Ht(u){he.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ht,he);var Ya=/^https?$/i,la=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?el(this.o):el(Yn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){Zo(this,Y);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(la,m,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,at]of _)this.g.setRequestHeader(Y,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oa(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Zo(this,Y)}};function Zo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ka(u),ti(u)}function Ka(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qt(this,"complete"),Qt(this,"abort"),ti(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ti(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xa(this):this.bb())},r.bb=function(){Xa(this)};function Xa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Ye(u.Ea,0,u);else if(Qt(u,"readystatechange"),bn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=at===0){var B=String(u.D).match(ea)[1]||null;!B&&g.self&&g.self.location&&(B=g.self.location.protocol.slice(0,-1)),A=!Ya.test(B?B.toLowerCase():"")}_=A}if(_)Qt(u,"complete"),Qt(u,"success");else{u.m=6;try{var Y=2<bn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Ka(u)}}finally{ti(u)}}}}function ti(u,m){if(u.g){oa(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Qt(u,"ready");try{_.onreadystatechange=A}catch{}}}function oa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),za(m)}};function Jo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function dh(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(Z(u[A]))continue;var _=V(u[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=m[B]||[];m[B]=Y,Y.push(_)}N(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function $a(u){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,u),this.cb=ua("retryDelaySeedMs",1e4,u),this.Wa=ua("forwardChannelMaxRetries",2,u),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(u&&u.concurrentRequestLimit),this.Da=new sa,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=$a.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){ae(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=au(this,null,this.W),Ja(this)};function gl(u){if(Wo(u),u.G==3){var m=u.U++,_=cn(u.I);if(Xt(_,"SID",u.K),Xt(_,"RID",m),Xt(_,"TYPE","terminate"),ca(u,_),m=new We(u,u.j,m),m.L=2,m.v=ia(cn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Wr(m)}ru(u)}function Za(u){u.g&&(ha(u),u.g.cancel(),u.g=null)}function Wo(u){Za(u),u.u&&(g.clearTimeout(u.u),u.u=null),Wa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ja(u){if(!qa(u.h)&&!u.s){u.s=!0;var m=u.Ga;lt||x(),gt||(lt(),gt=!0),jt.add(m,u),u.B=0}}function mh(u,m){return Ha(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ve(S(u.Ga,u,m),_l(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new We(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=R(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=tu(this,B,m),_=cn(this.I),Xt(_,"RID",u),Xt(_,"CVER",22),this.D&&Xt(_,"X-HTTP-Session-Id",this.D),ca(this,_),Y&&(this.O?m="headers="+encodeURIComponent(String(ml(Y)))+"&"+m:this.m&&Oe(_,this.m,Y)),Fa(this.h,B),this.Ua&&Xt(_,"TYPE","init"),this.P?(Xt(_,"$req",m),Xt(_,"SID","null"),B.T=!0,Mn(B,_,null)):Mn(B,_,m),this.G=2}}else this.G==3&&(u?pl(this,u):this.i.length==0||qa(this.h)||pl(this))};function pl(u,m){var _;m?_=m.l:_=u.U++;const A=cn(u.I);Xt(A,"SID",u.K),Xt(A,"RID",_),Xt(A,"AID",u.T),ca(u,A),u.m&&u.o&&Oe(A,u.m,u.o),_=new We(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tu(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fa(u.h,_),Mn(_,A,m)}function ca(u,m){u.H&&ft(u.H,function(_,A){Xt(m,A,_)}),u.l&&ul({},function(_,A){Xt(m,A,_)})}function tu(u,m,_){_=Math.min(u.i.length,_);var A=u.l?S(u.l.Na,u.l,u):null;t:{var B=u.i;let Y=-1;for(;;){const at=["count="+_];Y==-1?0<_?(Y=B[0].g,at.push("ofs="+Y)):Y=0:at.push("ofs="+Y);let Ot=!0;for(let Ce=0;Ce<_;Ce++){let Mt=B[Ce].g;const Me=B[Ce].map;if(Mt-=Y,0>Mt)Y=Math.max(0,B[Ce].g-100),Ot=!1;else try{Zn(Me,at,"req"+Mt+"_")}catch{A&&A(Me)}}if(Ot){A=at.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function eu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;lt||x(),gt||(lt(),gt=!0),jt.add(m,u),u.v=0}}function yl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ve(S(u.Fa,u),_l(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ve(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Za(this),nu(this))};function ha(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new We(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=cn(u.qa);Xt(m,"RID","rpc"),Xt(m,"SID",u.K),Xt(m,"AID",u.T),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Xt(m,"TO",u.ja),Xt(m,"TYPE","xmlhttp"),ca(u,m),u.m&&u.o&&Oe(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ia(cn(m)),_.m=null,_.P=!0,vi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Za(this),yl(this),ae(19))};function Wa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function iu(u,m){var _=null;if(u.g==m){Wa(u),ha(u),u.g=null;var A=2}else if(ll(u.h,m))_=m.D,tn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;A=Wi(),Qt(A,new we(A,_)),Ja(u)}else eu(u);else if(B=m.s,B==3||B==0&&0<m.X||!(A==1&&mh(u,m)||A==2&&yl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),B){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function _l(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),A=u.Xa;const B=!A;A=new Ee(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||na(A,"https"),ia(A),B?aa(A.toString(),_):Ln(A.toString(),_)}else ae(2);u.G=0,u.l&&u.l.sa(m),ru(u),Wo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const m=ol(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ka,m),Q(u.ka,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.ra()}}function au(u,m,_){var A=_ instanceof Ee?cn(_):new Ee(_);if(A.g!="")m&&(A.g=m+"."+A.g),rr(A,A.s);else{var B=g.location;A=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var Y=new Ee(null);A&&na(Y,A),m&&(Y.g=m),B&&rr(Y,B),_&&(Y.l=_),A=Y}return _=u.D,m=u.ya,_&&m&&Xt(A,_,m),Xt(A,"VER",u.la),ca(u,A),A}function su(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new ar({eb:_})):new Ht(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}r=lu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ts(){}ts.prototype.g=function(u,m){return new en(u,m)};function en(u,m){he.call(this),this.g=new $a(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!Z(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!Z(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ei(this)}M(en,he),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){gl(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=On(u),u=_);m.i.push(new Ko(m.Ya++,u)),m.G==3&&Ja(m)},en.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,en.aa.N.call(this)};function ou(u){yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}M(ou,yi);function uu(){il.call(this),this.status=1}M(uu,il);function ei(u){this.g=u}M(ei,lu),ei.prototype.ua=function(){Qt(this.g,"a")},ei.prototype.ta=function(u){Qt(this.g,new ou(u))},ei.prototype.sa=function(u){Qt(this.g,new uu)},ei.prototype.ra=function(){Qt(this.g,"b")},ts.prototype.createWebChannel=ts.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,rE=function(){return new ts},iE=function(){return Wi()},nE=Qn,Id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,_c=nr,_i.COMPLETE="complete",eE=_i,nl.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",he.prototype.listen=he.prototype.K,uo=nl,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,tE=Ht}).apply(typeof hc<"u"?hc:typeof self<"u"?self:typeof window<"u"?window:{});const w_="@firebase/firestore",C_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new Yv("@firebase/firestore");function Ns(){return Oa.logLevel}function ct(r,...e){if(Oa.logLevel<=Pt.DEBUG){const i=e.map(lm);Oa.debug(`Firestore (${Qs}): ${r}`,...i)}}function Ki(r,...e){if(Oa.logLevel<=Pt.ERROR){const i=e.map(lm);Oa.error(`Firestore (${Qs}): ${r}`,...i)}}function Lr(r,...e){if(Oa.logLevel<=Pt.WARN){const i=e.map(lm);Oa.warn(`Firestore (${Qs}): ${r}`,...i)}}function lm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,aE(r,s,i)}function aE(r,e,i){let s=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ki(s),new Error(s)}function Gt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||aE(e,o,s)}function bt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class Db{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Ib{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new sE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class Nb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new Nb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fb(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ob(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ct(r,e){return r<e?-1:r>e?1:0}function Nd(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const c=lE(),d=Mb(c.encode(I_(r,i)),c.encode(I_(e,i)));return d!==0?d:Ct(s,o)}}i+=s>65535?2:1}return Ct(r.length,e.length)}function I_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Mb(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Ct(r[i],e[i]);return Ct(r.length,e.length)}function Ps(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__name__";class oi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Et(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Et(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=oi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ct(e.length,i.length)}static compareSegments(e,i){const s=oi.isNumericId(e),o=oi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?oi.extractNumericId(e).compare(oi.extractNumericId(i)):Nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}}class ie extends oi{construct(e,i,s){return new ie(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ut(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new ie(i)}static emptyPath(){return new ie([])}}const Lb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends oi{construct(e,i,s){return new Ge(e,i,s)}static isValidIdentifier(e){return Lb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N_}static keyField(){return new Ge([N_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ut(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ut(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ut(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ie.fromString(e))}static fromName(e){return new pt(ie.fromString(e).popFirst(5))}static empty(){return new pt(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ie.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(r,e,i){if(!i)throw new ut(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Ub(r,e,i,s){if(e===!0&&s===!0)throw new ut(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function x_(r){if(!pt.isDocumentKey(r))throw new ut(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function V_(r){if(pt.isDocumentKey(r))throw new ut(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Xi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fc(r);throw new ut(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,e){const i={typeString:r};return e&&(i.value=e),i}function Vo(r,e){if(!uE(r))throw new ut(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ut(W.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=-62135596800,M_=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*M_);return new re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<O_)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/M_}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vo(e,re._jsonSchema))return new re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Re("string",re._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new re(0,0))}static max(){return new St(new re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=-1;function Pb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new Ur(o,pt.empty(),e)}function Bb(r){return new Ur(r.readTime,r.key,So)}class Ur{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ur(St.min(),pt.empty(),So)}static max(){return new Ur(St.max(),pt.empty(),So)}}function zb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,e.documentKey),i!==0?i:Ct(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==jb)throw r;ct("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new et((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof et?i:et.resolve(i)}catch(i){return et.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):et.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):et.reject(i)}static resolve(e){return new et((i,s)=>{i(e)})}static reject(e){return new et((i,s)=>{s(e)})}static waitFor(e){return new et((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},y=>s(y))}),d=!0,c===o&&i()})}static or(e){let i=et.resolve(!1);for(const s of e)i=i.next(o=>o?et.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new et((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;i(e[p]).next(E=>{d[p]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new et((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function qb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ks(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Gc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=-1;function Qc(r){return r==null}function Ic(r){return r===0&&1/r==-1/0}function Hb(r){return typeof r=="number"&&Number.isInteger(r)&&!Ic(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="";function Fb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=L_(e)),e=Gb(r.get(i),e);return L_(e)}function Gb(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case cE:i+="";break;default:i+=c}}return i}function L_(r){return r+cE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function qr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function hE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,i){this.comparator=e,this.root=i||Fe.EMPTY}insert(e,i){return new ce(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}}class fc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Fe.RED,this.left=o??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Fe(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Et(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Fe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof xe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new xe(this.comparator);return i.data=e,i}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new _n([])}unionWith(e){let i=new xe(Ge.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new fE("Invalid base64 string: "+c):c}}(e);return new Qe(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(r){if(Gt(!!r,39018),typeof r=="string"){let e=0;const i=Qb.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Br(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="server_timestamp",mE="__type__",gE="__previous_value__",pE="__local_write_time__";function cm(r){var e,i;return((i=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mE])===null||i===void 0?void 0:i.stringValue)===dE}function Yc(r){const e=r.mapValue.fields[gE];return cm(e)?Yc(e):e}function bo(r){const e=Pr(r.mapValue.fields[pE].timestampValue);return new re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,i,s,o,c,d,g,y,p,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const Nc="(default)";class Ro{constructor(e,i){this.projectId=e,this.database=i||Nc}static empty(){return new Ro("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof Ro&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__type__",Kb="__max__",dc={mapValue:{}},_E="__vector__",xc="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cm(r)?4:$b(r)?9007199254740991:Xb(r)?10:11:Et(28295,{value:r})}function mi(r,e){if(r===e)return!0;const i=zr(r);if(i!==zr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return bo(r).isEqual(bo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Pr(o.timestampValue),g=Pr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Br(o.bytesValue).isEqual(Br(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ye(o.doubleValue),g=ye(c.doubleValue);return d===g?Ic(d)===Ic(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Ps(r.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(U_(d)!==U_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!mi(d[y],g[y])))return!1;return!0}(r,e);default:return Et(52216,{left:r})}}function wo(r,e){return(r.values||[]).find(i=>mi(i,e))!==void 0}function Bs(r,e){if(r===e)return 0;const i=zr(r),s=zr(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(r.booleanValue,e.booleanValue);case 2:return function(c,d){const g=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,e);case 3:return B_(r.timestampValue,e.timestampValue);case 4:return B_(bo(r),bo(e));case 5:return Nd(r.stringValue,e.stringValue);case 6:return function(c,d){const g=Br(c),y=Br(d);return g.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Ct(g[p],y[p]);if(E!==0)return E}return Ct(g.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Ct(ye(c.latitude),ye(d.latitude));return g!==0?g:Ct(ye(c.longitude),ye(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return z_(r.arrayValue,e.arrayValue);case 10:return function(c,d){var g,y,p,E;const b=c.fields||{},S=d.fields||{},U=(g=b[xc])===null||g===void 0?void 0:g.arrayValue,M=(y=S[xc])===null||y===void 0?void 0:y.arrayValue,K=Ct(((p=U?.values)===null||p===void 0?void 0:p.length)||0,((E=M?.values)===null||E===void 0?void 0:E.length)||0);return K!==0?K:z_(U,M)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===dc.mapValue&&d===dc.mapValue)return 0;if(c===dc.mapValue)return 1;if(d===dc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let b=0;b<y.length&&b<E.length;++b){const S=Nd(y[b],E[b]);if(S!==0)return S;const U=Bs(g[y[b]],p[E[b]]);if(U!==0)return U}return Ct(y.length,E.length)}(r.mapValue,e.mapValue);default:throw Et(23264,{le:i})}}function B_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ct(r,e);const i=Pr(r),s=Pr(e),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function z_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Bs(i[o],s[o]);if(c)return c}return Ct(i.length,s.length)}function zs(r){return xd(r)}function xd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Pr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Br(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=xd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${xd(i.fields[d])}`;return o+"}"}(r.mapValue):Et(61005,{value:r})}function vc(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yc(r);return e?16+vc(e):16;case 5:return 2*r.stringValue.length;case 6:return Br(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+vc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return qr(s.fields,(c,d)=>{o+=c.length+vc(d)}),o}(r.mapValue);default:throw Et(13486,{value:r})}}function j_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Vd(r){return!!r&&"integerValue"in r}function hm(r){return!!r&&"arrayValue"in r}function k_(r){return!!r&&"nullValue"in r}function q_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ec(r){return!!r&&"mapValue"in r}function Xb(r){var e,i;return((i=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yE])===null||i===void 0?void 0:i.stringValue)===_E}function go(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return qr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=go(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=go(r.arrayValue.values[i]);return e}return Object.assign({},r)}function $b(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Kb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=go(i)}setAll(e){let i=Ge.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=go(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){qr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new on(go(this.value))}}function vE(r){const e=[];return qr(r.fields,(i,s)=>{const o=new Ge([i]);if(Ec(s)){const c=vE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Je(e,0,St.min(),St.min(),St.min(),on.empty(),0)}static newFoundDocument(e,i,s,o){return new Je(e,1,i,St.min(),s,o,0)}static newNoDocument(e,i){return new Je(e,2,i,St.min(),St.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,St.min(),St.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,i){this.position=e,this.inclusive=i}}function H_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Bs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function F_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!mi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Zb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{}class be extends EE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Wb(e,i,s):i==="array-contains"?new nR(e,s):i==="in"?new iR(e,s):i==="not-in"?new rR(e,s):i==="array-contains-any"?new aR(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new tR(e,s):new eR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Bs(i,this.value)):i!==null&&zr(this.value)===zr(i)&&this.matchesComparison(Bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends EE{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new kn(e,i)}matches(e){return TE(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function TE(r){return r.op==="and"}function AE(r){return Jb(r)&&TE(r)}function Jb(r){for(const e of r.filters)if(e instanceof kn)return!1;return!0}function Od(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+zs(r.value);if(AE(r))return r.filters.map(e=>Od(e)).join(",");{const e=r.filters.map(i=>Od(i)).join(",");return`${r.op}(${e})`}}function SE(r,e){return r instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&mi(s.value,o.value)}(r,e):r instanceof kn?function(s,o){return o instanceof kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&SE(d,o.filters[g]),!0):!1}(r,e):void Et(19439)}function bE(r){return r instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${zs(i.value)}`}(r):r instanceof kn?function(i){return i.op.toString()+" {"+i.getFilters().map(bE).join(" ,")+"}"}(r):"Filter"}class Wb extends be{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class tR extends be{constructor(e,i){super(e,"in",i),this.keys=RE("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class eR extends be{constructor(e,i){super(e,"not-in",i),this.keys=RE("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function RE(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class nR extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hm(i)&&wo(i.arrayValue,this.value)}}class iR extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&wo(this.value.arrayValue,i)}}class rR extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!wo(this.value.arrayValue,i)}}class aR extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>wo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function G_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new sR(r,e,i,s,o,c,d)}function fm(r){const e=bt(r);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Od(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Qc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>zs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>zs(s)).join(",")),e.Pe=i}return e.Pe}function dm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Zb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!SE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!F_(r.startAt,e.startAt)&&F_(r.endAt,e.endAt)}function Md(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function lR(r,e,i,s,o,c,d,g){return new Oo(r,e,i,s,o,c,d,g)}function mm(r){return new Oo(r)}function Q_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wE(r){return r.collectionGroup!==null}function po(r){const e=bt(r);if(e.Te===null){e.Te=[];const i=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Ge.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.Te.push(new Oc(c,s))}),i.has(Ge.keyField().canonicalString())||e.Te.push(new Oc(Ge.keyField(),s))}return e.Te}function ui(r){const e=bt(r);return e.Ie||(e.Ie=oR(e,po(r))),e.Ie}function oR(r,e){if(r.limitType==="F")return G_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Oc(o.field,c)});const i=r.endAt?new Vc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vc(r.startAt.position,r.startAt.inclusive):null;return G_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Ld(r,e){const i=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Ud(r,e,i){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Kc(r,e){return dm(ui(r),ui(e))&&r.limitType===e.limitType}function CE(r){return`${fm(ui(r))}|lt:${r.limitType}`}function xs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>bE(o)).join(", ")}]`),Qc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>zs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>zs(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function Xc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of po(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,y){const p=H_(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,po(s),o)||s.endAt&&!function(d,g,y){const p=H_(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,po(s),o))}(r,e)}function uR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DE(r){return(e,i)=>{let s=!1;for(const o of po(r)){const c=cR(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function cR(r,e,i){const s=r.field.isKeyField()?pt.comparator(e.key,i.key):function(c,d,g){const y=d.data.field(c),p=g.data.field(c);return y!==null&&p!==null?Bs(y,p):Et(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return hE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new ce(pt.comparator);function $i(){return hR}const IE=new ce(pt.comparator);function co(...r){let e=IE;for(const i of r)e=e.insert(i.key,i);return e}function NE(r){let e=IE;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Na(){return yo()}function xE(){return yo()}function yo(){return new La(r=>r.toString(),(r,e)=>r.isEqual(e))}const fR=new ce(pt.comparator),dR=new xe(pt.comparator);function Vt(...r){let e=dR;for(const i of r)e=e.add(i);return e}const mR=new xe(Ct);function gR(){return mR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function VE(r){return{integerValue:""+r}}function pR(r,e){return Hb(e)?VE(e):gm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function yR(r,e,i){return r instanceof Mc?function(o,c){const d={fields:{[mE]:{stringValue:dE},[pE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&cm(c)&&(c=Yc(c)),c&&(d.fields[gE]=c),{mapValue:d}}(i,e):r instanceof Co?ME(r,e):r instanceof Do?LE(r,e):function(o,c){const d=OE(o,c),g=Y_(d)+Y_(o.Ee);return Vd(d)&&Vd(o.Ee)?VE(g):gm(o.serializer,g)}(r,e)}function _R(r,e,i){return r instanceof Co?ME(r,e):r instanceof Do?LE(r,e):i}function OE(r,e){return r instanceof Lc?function(s){return Vd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Mc extends $c{}class Co extends $c{constructor(e){super(),this.elements=e}}function ME(r,e){const i=UE(e);for(const s of r.elements)i.some(o=>mi(o,s))||i.push(s);return{arrayValue:{values:i}}}class Do extends $c{constructor(e){super(),this.elements=e}}function LE(r,e){let i=UE(e);for(const s of r.elements)i=i.filter(o=>!mi(o,s));return{arrayValue:{values:i}}}class Lc extends $c{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function Y_(r){return ye(r.integerValue||r.doubleValue)}function UE(r){return hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function vR(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Co&&o instanceof Co||s instanceof Do&&o instanceof Do?Ps(s.elements,o.elements,mi):s instanceof Lc&&o instanceof Lc?mi(s.Ee,o.Ee):s instanceof Mc&&o instanceof Mc}(r.transform,e.transform)}class ER{constructor(e,i){this.version=e,this.transformResults=i}}class ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Zc{}function PE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new zE(r.key,ci.none()):new Mo(r.key,r.data,ci.none());{const i=r.data,s=on.empty();let o=new xe(Ge.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Hr(r.key,s,new _n(o.toArray()),ci.none())}}function TR(r,e,i){r instanceof Mo?function(o,c,d){const g=o.value.clone(),y=X_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Hr?function(o,c,d){if(!Tc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=X_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(BE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function _o(r,e,i,s){return r instanceof Mo?function(c,d,g,y){if(!Tc(c.precondition,d))return g;const p=c.value.clone(),E=$_(c.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(r,e,i,s):r instanceof Hr?function(c,d,g,y){if(!Tc(c.precondition,d))return g;const p=$_(c.fieldTransforms,y,d),E=d.data;return E.setAll(BE(c)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,e,i,s):function(c,d,g){return Tc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function AR(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=OE(s.transform,o||null);c!=null&&(i===null&&(i=on.empty()),i.set(s.field,c))}return i||null}function K_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ps(s,o,(c,d)=>vR(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Mo extends Zc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Hr extends Zc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function X_(r,e,i){const s=new Map;Gt(r.length===i.length,32656,{Ae:i.length,Re:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,_R(d,g,i[o]))}return s}function $_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,yR(c,d,e))}return s}class zE extends Zc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SR extends Zc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&TR(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=_o(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=_o(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=xE();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=PE(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,(i,s)=>K_(i,s))&&Ps(this.baseMutations,e.baseMutations,(i,s)=>K_(i,s))}}class pm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return fR}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new pm(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,Ut;function CR(r){switch(r){case W.OK:return Et(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function jE(r){if(r===void 0)return Ki("GRPC error has no .code"),W.UNKNOWN;switch(r){case Se.OK:return W.OK;case Se.CANCELLED:return W.CANCELLED;case Se.UNKNOWN:return W.UNKNOWN;case Se.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Se.INTERNAL:return W.INTERNAL;case Se.UNAVAILABLE:return W.UNAVAILABLE;case Se.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Se.NOT_FOUND:return W.NOT_FOUND;case Se.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Se.ABORTED:return W.ABORTED;case Se.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Se.DATA_LOSS:return W.DATA_LOSS;default:return Et(39323,{code:r})}}(Ut=Se||(Se={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR=new Nr([4294967295,4294967295],0);function Z_(r){const e=lE().encode(r),i=new Wv;return i.update(e),new Uint8Array(i.digest())}function J_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Nr([i,s],0),new Nr([o,c],0)]}class ym{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ho(`Invalid padding: ${i}`);if(s<0)throw new ho(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ho(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ho(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=Nr.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(Nr.fromNumber(s)));return o.compare(DR)===1&&(o=new Nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=Z_(e),[s,o]=J_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new ym(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=Z_(e),[s,o]=J_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ho extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Lo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Jc(St.min(),o,new ce(Ct),$i(),Vt())}}class Lo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Lo(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class kE{constructor(e,i){this.targetId=e,this.De=i}}class qE{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class W_{constructor(){this.ve=0,this.Ce=tv(),this.Fe=Qe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Vt(),i=Vt(),s=Vt();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:c})}}),new Lo(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=tv()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class IR{constructor(e){this.We=e,this.Ge=new Map,this.ze=$i(),this.je=mc(),this.Je=mc(),this.He=new ce(Ct)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:Et(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const c=o.target;if(Md(c))if(s===0){const d=new pt(c.path);this.Xe(i,d,Je.newNoDocument(d,St.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),y=g?this.ut(g,e,d):1;if(y!==0){this.rt(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,p)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Br(s).toUint8Array()}catch(y){if(y instanceof fE)return Lr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new ym(d,o,c)}catch(y){return Lr(y instanceof ho?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,c,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&Md(g.target)){const y=new pt(g.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,Je.newNoDocument(y,e))}c.Ne&&(i.set(d,c.Le()),c.ke())}});let s=Vt();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const p=this.st(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const o=new Jc(e,i,this.He,this.ze,s);return this.ze=$i(),this.je=mc(),this.Je=mc(),this.He=new ce(Ct),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new W_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new xe(Ct),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new xe(Ct),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new W_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function mc(){return new ce(pt.comparator)}function tv(){return new ce(pt.comparator)}const NR={asc:"ASCENDING",desc:"DESCENDING"},xR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VR={and:"AND",or:"OR"};class OR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Pd(r,e){return r.useProto3Json||Qc(e)?e:{value:e}}function Uc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function MR(r,e){return Uc(r,e.toTimestamp())}function hi(r){return Gt(!!r,49232),St.fromTimestamp(function(i){const s=Pr(i);return new re(s.seconds,s.nanos)}(r))}function _m(r,e){return Bd(r,e).canonicalString()}function Bd(r,e){const i=function(o){return new ie(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function FE(r){const e=ie.fromString(r);return Gt(XE(e),10190,{key:e.toString()}),e}function zd(r,e){return _m(r.databaseId,e.path)}function _d(r,e){const i=FE(e);if(i.get(1)!==r.databaseId.projectId)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(QE(i))}function GE(r,e){return _m(r.databaseId,e)}function LR(r){const e=FE(r);return e.length===4?ie.emptyPath():QE(e)}function jd(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function QE(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ev(r,e,i){return{name:zd(r,e),fields:i.value.mapValue.fields}}function UR(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Et(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(p,E){return p.useProto3Json?(Gt(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(p){const E=p.code===void 0?W.UNKNOWN:jE(p.code);return new ut(E,p.message||"")}(d);i=new qE(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_d(r,s.document.name),c=hi(s.document.updateTime),d=s.document.createTime?hi(s.document.createTime):St.min(),g=new on({mapValue:{fields:s.document.fields}}),y=Je.newFoundDocument(o,c,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];i=new Ac(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_d(r,s.document),c=s.readTime?hi(s.readTime):St.min(),d=Je.newNoDocument(o,c),g=s.removedTargetIds||[];i=new Ac([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_d(r,s.document),c=s.removedTargetIds||[];i=new Ac([],c,o,null)}else{if(!("filter"in e))return Et(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new wR(o,c),g=s.targetId;i=new kE(g,d)}}return i}function PR(r,e){let i;if(e instanceof Mo)i={update:ev(r,e.key,e.value)};else if(e instanceof zE)i={delete:zd(r,e.key)};else if(e instanceof Hr)i={update:ev(r,e.key,e.data),updateMask:QR(e.fieldMask)};else{if(!(e instanceof SR))return Et(16599,{Rt:e.type});i={verify:zd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Co)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Do)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Lc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw Et(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:MR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Et(27497)}(r,e.precondition)),i}function BR(r,e){return r&&r.length>0?(Gt(e!==void 0,14353),r.map(i=>function(o,c){let d=o.updateTime?hi(o.updateTime):hi(c);return d.isEqual(St.min())&&(d=hi(c)),new ER(d,o.transformResults||[])}(i,e))):[]}function zR(r,e){return{documents:[GE(r,e.path)]}}function jR(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=GE(r,o);const c=function(p){if(p.length!==0)return KE(kn.create(p,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(p){if(p.length!==0)return p.map(E=>function(S){return{field:Vs(S.field),direction:HR(S.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Pd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:i,parent:o}}function kR(r){let e=LR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(b){const S=YE(b);return S instanceof kn&&AE(S)?S.getFilters():[S]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(S=>function(M){return new Oc(Os(M.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(S))}(i.orderBy));let g=null;i.limit&&(g=function(b){let S;return S=typeof b=="object"?b.value:b,Qc(S)?null:S}(i.limit));let y=null;i.startAt&&(y=function(b){const S=!!b.before,U=b.values||[];return new Vc(U,S)}(i.startAt));let p=null;return i.endAt&&(p=function(b){const S=!b.before,U=b.values||[];return new Vc(U,S)}(i.endAt)),lR(e,o,d,c,g,"F",y,p)}function qR(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function YE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Os(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Os(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Os(i.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Os(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}}(r):r.fieldFilter!==void 0?function(i){return be.create(Os(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return kn.create(i.compositeFilter.filters.map(s=>YE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}}(i.compositeFilter.op))}(r):Et(30097,{filter:r})}function HR(r){return NR[r]}function FR(r){return xR[r]}function GR(r){return VR[r]}function Vs(r){return{fieldPath:r.canonicalString()}}function Os(r){return Ge.fromServerFormat(r.fieldPath)}function KE(r){return r instanceof be?function(i){if(i.op==="=="){if(q_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NAN"}};if(k_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(q_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NAN"}};if(k_(i.value))return{unaryFilter:{field:Vs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(i.field),op:FR(i.op),value:i.value}}}(r):r instanceof kn?function(i){const s=i.getFilters().map(o=>KE(o));return s.length===1?s[0]:{compositeFilter:{op:GR(i.op),filters:s}}}(r):Et(54877,{filter:r})}function QR(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function XE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,i,s,o,c=St.min(),d=St.min(),g=Qe.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.gt=e}}function KR(r){const e=kR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.Dn=new $R}addToCollectionParentIndex(e,i){return this.Dn.add(i),et.resolve()}getCollectionParents(e,i){return et.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return et.resolve()}deleteFieldIndex(e,i){return et.resolve()}deleteAllFieldIndexes(e){return et.resolve()}createTargetIndexes(e,i){return et.resolve()}getDocumentsMatchingTarget(e,i){return et.resolve(null)}getIndexType(e,i){return et.resolve(0)}getFieldIndexes(e,i){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,i){return et.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,i){return et.resolve(Ur.min())}updateCollectionGroup(e,i,s){return et.resolve()}updateIndexEntries(e,i){return et.resolve()}}class $R{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new xe(ie.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln($E,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new js(0)}static ur(){return new js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="LruGarbageCollector",ZR=1048576;function rv([r,e],[i,s]){const o=Ct(r,i);return o===0?Ct(e,s):o}class JR{constructor(e){this.Tr=e,this.buffer=new xe(rv),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();rv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class WR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ct(iv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ks(i)?ct(iv,"Ignoring IndexedDB error during garbage collection: ",i):await Ys(i)}await this.Rr(3e5)})}}class tw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return et.resolve(Gc.ue);const s=new JR(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(nv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nv):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,c,d,g,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,g=Date.now(),this.removeTargets(e,s,i))).next(b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(p=Date.now(),Ns()<=Pt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${b} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function ew(r,e){return new tw(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(){this.changes=new La(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?et.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&_o(s.mutation,o,_n.empty(),re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=Na();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=co();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Na();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=$i();const d=yo(),g=function(){return yo()}();return i.forEach((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Hr)?c=c.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),_o(E.mutation,p,E.mutation.getFieldMask(),re.now())):d.set(p.key,_n.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((p,E)=>d.set(p,E)),i.forEach((p,E)=>{var b;return g.set(p,new iw(E,(b=d.get(p))!==null&&b!==void 0?b:null))}),g))}recalculateAndSaveOverlays(e,i){const s=yo();let o=new ce((d,g)=>d-g),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let E=s.get(y)||_n.empty();E=g.applyToLocalView(p,E),s.set(y,E);const b=(o.get(g.batchId)||Vt()).add(y);o=o.insert(g.batchId,b)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,b=xE();E.forEach(S=>{if(!c.has(S)){const U=PE(i.get(S),s.get(S));U!==null&&b.set(S,U),c=c.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,b))}return et.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):wE(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):et.resolve(Na());let g=So,y=c;return d.next(p=>et.forEach(p,(E,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),c.get(E)?et.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{y=y.insert(E,S)}))).next(()=>this.populateOverlays(e,p,c)).next(()=>this.computeViews(e,y,p,Vt())).next(E=>({batchId:g,changes:NE(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=co();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=co();return this.indexManager.getCollectionParents(e,c).next(g=>et.forEach(g,y=>{const p=function(b,S){return new Oo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(E=>{E.forEach((b,S)=>{d=d.insert(b,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Je.newInvalidDocument(E)))});let g=co();return d.forEach((y,p)=>{const E=c.get(y);E!==void 0&&_o(E.mutation,p,_n.empty(),re.now()),Xc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return et.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}}(i)),et.resolve()}getNamedQuery(e,i){return et.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:KR(o.bundledQuery),readTime:hi(o.readTime)}}(i)),et.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.overlays=new ce(pt.comparator),this.kr=new Map}getOverlay(e,i){return et.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Na();return et.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.wt(e,i,c)}),et.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),et.resolve()}getOverlaysForCollection(e,i,s){const o=Na(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return et.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ce((p,E)=>p-E);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let E=c.get(p.largestBatchId);E===null&&(E=Na(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Na(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,E)=>g.set(p,E)),!(g.size()>=o)););return et.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new RR(i,s));let c=this.kr.get(i);c===void 0&&(c=Vt(),this.kr.set(i,c)),this.kr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return et.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,et.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.qr=new xe(Be.Qr),this.$r=new xe(Be.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Be(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Be(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new pt(new ie([])),s=new Be(i,e),o=new Be(i,e+1),c=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new pt(new ie([])),s=new Be(i,e),o=new Be(i,e+1);let c=Vt();return this.$r.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Be(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Be{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return pt.comparator(e.key,i.key)||Ct(e.Hr,i.Hr)}static Ur(e,i){return Ct(e.Hr,i.Hr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new xe(Be.Qr)}checkEmpty(e){return et.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bR(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Be(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return et.resolve(d)}lookupMutationBatch(e,i){return et.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return et.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(this.mutationQueue.length===0?um:this.er-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);c.push(g)}),et.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new xe(Ct);return i.forEach(o=>{const c=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{s=s.add(g.Hr)})}),et.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Be(new pt(c),0);let g=new xe(Ct);return this.Yr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Hr)),!0)},d),et.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return et.forEach(i.mutations,o=>{const c=new Be(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Be(i,0),o=this.Yr.firstAfterOrEqual(s);return et.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,et.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.ni=e,this.docs=function(){return new ce(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return et.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let s=$i();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))}),et.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=$i();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||zb(Bb(E),s)<=0||(o.has(E.key)||Xc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return et.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Et(9500)}ri(e,i){return et.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new cw(this)}getSize(e){return et.resolve(this.size)}}class cw extends nw{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),et.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.persistence=e,this.ii=new La(i=>fm(i),dm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new vm,this.targetCount=0,this._i=js.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),et.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new js(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,et.resolve()}updateTargetData(e,i){return this.hr(i),et.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),et.waitFor(c).next(()=>o)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return et.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),et.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),et.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),et.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return et.resolve(s)}containsKey(e,i){return et.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,i){this.ai={},this.overlays={},this.ui=new Gc(0),this.ci=!1,this.ci=!0,this.li=new lw,this.referenceDelegate=e(this),this.hi=new hw(this),this.indexManager=new XR,this.remoteDocumentCache=function(o){return new uw(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new YR(i),this.Ti=new aw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new sw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new ow(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){ct("MemoryPersistence","Starting transaction:",e);const o=new fw(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,i){return et.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class fw extends kb{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.Ai=new vm,this.Ri=null}static Vi(e){return new Em(e)}get mi(){if(this.Ri)return this.Ri;throw Et(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),et.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),et.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),et.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.mi,s=>{const o=pt.fromPath(s);return this.fi(e,o).next(c=>{c||i.removeEntry(o,St.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return et.or([()=>et.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Pc{constructor(e,i){this.persistence=e,this.gi=new La(s=>Fb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ew(this,i)}static Vi(e,i){return new Pc(e,i)}Ii(){}di(e){return et.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return et.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(c=>c?et.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(s++,c.removeEntry(d,St.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),et.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),et.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),et.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),et.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=vc(e.data.value)),i}Sr(e,i,s){return et.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return et.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Tm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return uS()?8:qb(lS())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ps(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new dw;return this.ws(e,i,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>c.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(Ns()<=Pt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",xs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),et.resolve()):(Ns()<=Pt.DEBUG&&ct("QueryEngine","Query:",xs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Ns()<=Pt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",xs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(i))):et.resolve())}ps(e,i){if(Q_(i))return et.resolve(null);let s=ui(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ud(i,null,"F"),s=ui(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Vt(...c);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const p=this.bs(i,g);return this.Ds(i,p,d,y.readTime)?this.ps(e,Ud(i,null,"F")):this.vs(e,p,i,y)}))})))}ys(e,i,s,o){return Q_(i)||o.isEqual(St.min())?et.resolve(null):this.gs.getDocuments(e,s).next(c=>{const d=this.bs(i,c);return this.Ds(i,d,s,o)?et.resolve(null):(Ns()<=Pt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xs(i)),this.vs(e,d,i,Pb(o,So)).next(g=>g))})}bs(e,i){let s=new xe(DE(e));return i.forEach((o,c)=>{Xc(e,c)&&(s=s.add(c))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,i,s){return Ns()<=Pt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",xs(i)),this.gs.getDocumentsMatchingQuery(e,i,Ur.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="LocalStore",gw=3e8;class pw{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new ce(Ct),this.Ms=new La(c=>fm(c),dm),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function yw(r,e,i,s){return new pw(r,e,i,s)}async function JE(r,e){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let y=Vt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next(p=>({Bs:p,removedBatchIds:d,addedBatchIds:g}))})})}function _w(r,e){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,y,p,E){const b=p.batch,S=b.keys();let U=et.resolve();return S.forEach(M=>{U=U.next(()=>E.getEntry(y,M)).next(K=>{const Q=p.docVersions.get(M);Gt(Q!==null,48541),K.version.compareTo(Q)<0&&(b.applyToRemoteDocument(K,p),K.isValidDocument()&&(K.setReadTime(p.commitVersion),E.addEntry(K)))})}),U.next(()=>g.mutationQueue.removeMutationBatch(y,b))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Vt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function WE(r){const e=bt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function vw(r,e){const i=bt(r),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;g.push(i.hi.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.hi.addMatchingKeys(c,E.addedDocuments,b)));let U=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?U=U.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),o=o.insert(b,U),function(K,Q,k){return K.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=gw?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(S,U,E)&&g.push(i.hi.updateTargetData(c,U))});let y=$i(),p=Vt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(Ew(c,d,e.documentUpdates).next(E=>{y=E.Ls,p=E.ks})),!s.isEqual(St.min())){const E=i.hi.getLastRemoteSnapshotVersion(c).next(b=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return et.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(i.Fs=o,c))}function Ew(r,e,i){let s=Vt(),o=Vt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=$i();return i.forEach((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(St.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ct(Am,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{Ls:d,ks:o}})}function Tw(r,e){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=um),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Aw(r,e){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(c=>c?(o=c,et.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new Cr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function kd(r,e,i){const s=bt(r),o=s.Fs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ks(d))throw d;ct(Am,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function av(r,e,i){const s=bt(r);let o=St.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,E){const b=bt(y),S=b.Ms.get(E);return S!==void 0?et.resolve(b.Fs.get(S)):b.hi.getTargetData(p,E)}(s,d,ui(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?c:Vt())).next(g=>(Sw(s,uR(e),g),{documents:g,qs:c})))}function Sw(r,e,i){let s=r.xs.get(e)||St.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.xs.set(e,s)}class sv{constructor(){this.activeTargetIds=gR()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bw{constructor(){this.Fo=new sv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new sv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="ConnectivityMonitor";class ov{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ct(lv,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ct(lv,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=null;function qd(){return gc===null?gc=function(){return 268435456+Math.round(2147483648*Math.random())}():gc++,"0x"+gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="RestConnection",ww={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Cw{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Nc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,c){const d=qd(),g=this.Go(e,i.toUriEncodedString());ct(vd,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,o,c);const{host:p}=new URL(g),E=am(p);return this.jo(e,g,y,s,E).then(b=>(ct(vd,`Received RPC '${e}' ${d}: `,b),b),b=>{throw Lr(vd,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",s),b})}Jo(e,i,s,o,c,d){return this.Wo(e,i,s,o,c)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}Go(e,i){const s=ww[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class Iw extends Cw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,c){const d=qd();return new Promise((g,y)=>{const p=new tE;p.setWithCredentials(!0),p.listenOnce(eE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _c.NO_ERROR:const b=p.getResponseJson();ct($e,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case _c.TIMEOUT:ct($e,`RPC '${e}' ${d} timed out`),y(new ut(W.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const S=p.getStatus();if(ct($e,`RPC '${e}' ${d} failed with status:`,S,"response text:",p.getResponseText()),S>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const M=U?.error;if(M&&M.status&&M.message){const K=function(k){const Z=k.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Z)>=0?Z:W.UNKNOWN}(M.status);y(new ut(K,M.message))}else y(new ut(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ut(W.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{c_:e,streamId:d,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ct($e,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);ct($e,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",E,s,15)})}P_(e,i,s){const o=qd(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=rE(),g=iE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");ct($e,`Creating RPC '${e}' stream ${o}: ${E}`,y);const b=d.createWebChannel(E,y);this.T_(b);let S=!1,U=!1;const M=new Dw({Ho:Q=>{U?ct($e,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(S||(ct($e,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ct($e,`RPC '${e}' stream ${o} sending:`,Q),b.send(Q))},Yo:()=>b.close()}),K=(Q,k,Z)=>{Q.listen(k,it=>{try{Z(it)}catch(ht){setTimeout(()=>{throw ht},0)}})};return K(b,uo.EventType.OPEN,()=>{U||(ct($e,`RPC '${e}' stream ${o} transport opened.`),M.s_())}),K(b,uo.EventType.CLOSE,()=>{U||(U=!0,ct($e,`RPC '${e}' stream ${o} transport closed`),M.__(),this.I_(b))}),K(b,uo.EventType.ERROR,Q=>{U||(U=!0,Lr($e,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),M.__(new ut(W.UNAVAILABLE,"The operation could not be completed")))}),K(b,uo.EventType.MESSAGE,Q=>{var k;if(!U){const Z=Q.data[0];Gt(!!Z,16349);const it=Z,ht=it?.error||((k=it[0])===null||k===void 0?void 0:k.error);if(ht){ct($e,`RPC '${e}' stream ${o} received error:`,ht);const st=ht.status;let ft=function(w){const I=Se[w];if(I!==void 0)return jE(I)}(st),N=ht.message;ft===void 0&&(ft=W.INTERNAL,N="Unknown error status: "+st+" with message "+ht.message),U=!0,M.__(new ut(ft,N)),b.close()}else ct($e,`RPC '${e}' stream ${o} received:`,Z),M.a_(Z)}}),K(g,nE.STAT_EVENT,Q=>{Q.stat===Id.PROXY?ct($e,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===Id.NOPROXY&&ct($e,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.o_()},0),M}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function Ed(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r){return new OR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="PersistentStream";class e0{constructor(e,i,s,o,c,d,g,y){this.Fi=e,this.w_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new t0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(Ki(i.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new ut(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ct(uv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(ct(uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nw extends e0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=UR(this.serializer,e),s=function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?hi(d.readTime):St.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=jd(this.serializer),i.addTarget=function(c,d){let g;const y=d.target;if(g=Md(y)?{documents:zR(c,y)}:{query:jR(c,y).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=HE(c,d.resumeToken);const p=Pd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=Uc(c,d.snapshotVersion.toTimestamp());const p=Pd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const s=qR(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=jd(this.serializer),i.removeTarget=e,this.k_(i)}}class xw extends e0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=BR(e.writeResults,e.commitTime),s=hi(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=jd(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>PR(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{}class Ow extends Vw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Bd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(W.UNKNOWN,c.toString())})}Jo(e,i,s,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,Bd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(W.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Mw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ki(i),this._a=!1):ct("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class Lw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{Ua(this)&&(ct(Ma,"Restarting streams for network reachability change."),await async function(y){const p=bt(y);p.Ia.add(4),await Uo(p),p.Aa.set("Unknown"),p.Ia.delete(4),await th(p)}(this))})}),this.Aa=new Mw(s,o)}}async function th(r){if(Ua(r))for(const e of r.da)await e(!0)}async function Uo(r){for(const e of r.da)await e(!1)}function n0(r,e){const i=bt(r);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),wm(i)?Rm(i):Xs(i).x_()&&bm(i,e))}function Sm(r,e){const i=bt(r),s=Xs(i);i.Ta.delete(e),s.x_()&&i0(i,e),i.Ta.size===0&&(s.x_()?s.B_():Ua(i)&&i.Aa.set("Unknown"))}function bm(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Xs(r).H_(e)}function i0(r,e){r.Ra.$e(e),Xs(r).Y_(e)}function Rm(r){r.Ra=new IR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Xs(r).start(),r.Aa.aa()}function wm(r){return Ua(r)&&!Xs(r).M_()&&r.Ta.size>0}function Ua(r){return bt(r).Ia.size===0}function r0(r){r.Ra=void 0}async function Uw(r){r.Aa.set("Online")}async function Pw(r){r.Ta.forEach((e,i)=>{bm(r,e)})}async function Bw(r,e){r0(r),wm(r)?(r.Aa.la(e),Rm(r)):r.Aa.set("Unknown")}async function zw(r,e,i){if(r.Aa.set("Online"),e instanceof qE&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(r,e)}catch(s){ct(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bc(r,s)}else if(e instanceof Ac?r.Ra.Ye(e):e instanceof kE?r.Ra.it(e):r.Ra.et(e),!i.isEqual(St.min()))try{const s=await WE(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ta.get(p);E&&c.Ta.set(p,E.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const E=c.Ta.get(y);if(!E)return;c.Ta.set(y,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),i0(c,y);const b=new Cr(E.target,y,p,E.sequenceNumber);bm(c,b)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){ct(Ma,"Failed to raise snapshot:",s),await Bc(r,s)}}async function Bc(r,e,i){if(!Ks(e))throw e;r.Ia.add(1),await Uo(r),r.Aa.set("Offline"),i||(i=()=>WE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ct(Ma,"Retrying IndexedDB access"),await i(),r.Ia.delete(1),await th(r)})}function a0(r,e){return e().catch(i=>Bc(r,i,e))}async function eh(r){const e=bt(r),i=jr(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:um;for(;jw(e);)try{const o=await Tw(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,kw(e,o)}catch(o){await Bc(e,o)}s0(e)&&l0(e)}function jw(r){return Ua(r)&&r.Pa.length<10}function kw(r,e){r.Pa.push(e);const i=jr(r);i.x_()&&i.Z_&&i.X_(e.mutations)}function s0(r){return Ua(r)&&!jr(r).M_()&&r.Pa.length>0}function l0(r){jr(r).start()}async function qw(r){jr(r).na()}async function Hw(r){const e=jr(r);for(const i of r.Pa)e.X_(i.mutations)}async function Fw(r,e,i){const s=r.Pa.shift(),o=pm.from(s,e,i);await a0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await eh(r)}async function Gw(r,e){e&&jr(r).Z_&&await async function(s,o){if(function(d){return CR(d)&&d!==W.ABORTED}(o.code)){const c=s.Pa.shift();jr(s).N_(),await a0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await eh(s)}}(r,e),s0(r)&&l0(r)}async function cv(r,e){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),ct(Ma,"RemoteStore received new credentials");const s=Ua(i);i.Ia.add(3),await Uo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await th(i)}async function Qw(r,e){const i=bt(r);e?(i.Ia.delete(2),await th(i)):e||(i.Ia.add(2),await Uo(i),i.Aa.set("Unknown"))}function Xs(r){return r.Va||(r.Va=function(i,s,o){const c=bt(i);return c.ia(),new Nw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:Uw.bind(null,r),e_:Pw.bind(null,r),n_:Bw.bind(null,r),J_:zw.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),wm(r)?Rm(r):r.Aa.set("Unknown")):(await r.Va.stop(),r0(r))})),r.Va}function jr(r){return r.ma||(r.ma=function(i,s,o){const c=bt(i);return c.ia(),new xw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:qw.bind(null,r),n_:Gw.bind(null,r),ea:Hw.bind(null,r),ta:Fw.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await eh(r)):(await r.ma.stop(),r.Pa.length>0&&(ct(Ma,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Cm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(r,e){if(Ki("AsyncQueue",`${e}: ${r}`),Ks(r))return new ut(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{static emptySet(e){return new Ls(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=co(),this.sortedSet=new ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ls;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.fa=new ce(pt.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):Et(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class ks{constructor(e,i,s,o,c,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ks(e,i,Ls.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Kw{constructor(){this.queries=fv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=bt(i),c=o.queries;o.queries=fv(),c.forEach((d,g)=>{for(const y of g.wa)y.onError(s)})})(this,new ut(W.ABORTED,"Firestore shutting down"))}}function fv(){return new La(r=>CE(r),Kc)}async function o0(r,e){const i=bt(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.ba()&&(s=2):(c=new Yw,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await i.onListen(o,!0);break;case 1:c.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Dm(d,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.wa.push(e),e.va(i.onlineState),c.ya&&e.Ca(c.ya)&&Im(i)}async function u0(r,e){const i=bt(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Xw(r,e){const i=bt(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&Im(i)}function $w(r,e,i){const s=bt(r),o=s.queries.get(e);if(o)for(const c of o.wa)c.onError(i);s.queries.delete(e)}function Im(r){r.Da.forEach(e=>{e.next()})}var Hd,dv;(dv=Hd||(Hd={})).Fa="default",dv.Cache="cache";class c0{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ks(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Hd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.key=e}}class f0{constructor(e){this.key=e}}class Zw{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Vt(),this.mutatedKeys=Vt(),this.Xa=DE(e),this.eu=new Ls(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new hv,o=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),U=Xc(this.query,b)?b:null,M=!!S&&this.mutatedKeys.has(S.key),K=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let Q=!1;S&&U?S.data.isEqual(U.data)?M!==K&&(s.track({type:3,doc:U}),Q=!0):this.iu(S,U)||(s.track({type:2,doc:U}),Q=!0,(y&&this.Xa(U,y)>0||p&&this.Xa(U,p)<0)&&(g=!0)):!S&&U?(s.track({type:0,doc:U}),Q=!0):S&&!U&&(s.track({type:1,doc:S}),Q=!0,(y||p)&&(g=!0)),Q&&(U?(d=d.add(U),c=K?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{eu:d,ru:s,Ds:g,mutatedKeys:c}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((E,b)=>function(U,M){const K=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{At:Q})}};return K(U)-K(M)}(E.type,b.type)||this.Xa(E.doc,b.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],y=this.Za.size===0&&this.current&&!o?1:0,p=y!==this.Ya;return this.Ya=y,d.length!==0||p?{snapshot:new ks(this.query,e.eu,c,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new hv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Vt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new f0(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new h0(s))}),i}uu(e){this.Ha=e.qs,this.Za=Vt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return ks.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Nm="SyncEngine";class Jw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Ww{constructor(e){this.key=e,this.lu=!1}}class t2{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new La(g=>CE(g),Kc),this.Tu=new Map,this.Iu=new Set,this.du=new ce(pt.comparator),this.Eu=new Map,this.Au=new vm,this.Ru={},this.Vu=new Map,this.mu=js.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function e2(r,e,i=!0){const s=_0(r);let o;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await d0(s,e,i,!0),o}async function n2(r,e){const i=_0(r);await d0(i,e,!0,!1)}async function d0(r,e,i,s){const o=await Aw(r.localStore,ui(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await i2(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&n0(r.remoteStore,o),g}async function i2(r,e,i,s,o){r.gu=(b,S,U)=>async function(K,Q,k,Z){let it=Q.view.nu(k);it.Ds&&(it=await av(K.localStore,Q.query,!1).then(({documents:N})=>Q.view.nu(N,it)));const ht=Z&&Z.targetChanges.get(Q.targetId),st=Z&&Z.targetMismatches.get(Q.targetId)!=null,ft=Q.view.applyChanges(it,K.isPrimaryClient,ht,st);return gv(K,Q.targetId,ft._u),ft.snapshot}(r,b,S,U);const c=await av(r.localStore,e,!0),d=new Zw(e,c.qs),g=d.nu(c.documents),y=Lo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),p=d.applyChanges(g,r.isPrimaryClient,y);gv(r,i,p._u);const E=new Jw(e,i,d);return r.Pu.set(e,E),r.Tu.has(i)?r.Tu.get(i).push(e):r.Tu.set(i,[e]),p.snapshot}async function r2(r,e,i){const s=bt(r),o=s.Pu.get(e),c=s.Tu.get(o.targetId);if(c.length>1)return s.Tu.set(o.targetId,c.filter(d=>!Kc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await kd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Sm(s.remoteStore,o.targetId),Fd(s,o.targetId)}).catch(Ys)):(Fd(s,o.targetId),await kd(s.localStore,o.targetId,!0))}async function a2(r,e){const i=bt(r),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Sm(i.remoteStore,s.targetId))}async function s2(r,e,i){const s=d2(r);try{const o=await function(d,g){const y=bt(d),p=re.now(),E=g.reduce((U,M)=>U.add(M.key),Vt());let b,S;return y.persistence.runTransaction("Locally write mutations","readwrite",U=>{let M=$i(),K=Vt();return y.Os.getEntries(U,E).next(Q=>{M=Q,M.forEach((k,Z)=>{Z.isValidDocument()||(K=K.add(k))})}).next(()=>y.localDocuments.getOverlayedDocuments(U,M)).next(Q=>{b=Q;const k=[];for(const Z of g){const it=AR(Z,b.get(Z.key).overlayedDocument);it!=null&&k.push(new Hr(Z.key,it,vE(it.value.mapValue),ci.exists(!0)))}return y.mutationQueue.addMutationBatch(U,p,k,g)}).next(Q=>{S=Q;const k=Q.applyToLocalDocumentSet(b,K);return y.documentOverlayCache.saveOverlays(U,Q.batchId,k)})}).then(()=>({batchId:S.batchId,changes:NE(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.Ru[d.currentUser.toKey()];p||(p=new ce(Ct)),p=p.insert(g,y),d.Ru[d.currentUser.toKey()]=p}(s,o.batchId,i),await Po(s,o.changes),await eh(s.remoteStore)}catch(o){const c=Dm(o,"Failed to persist write");i.reject(c)}}async function m0(r,e){const i=bt(r);try{const s=await vw(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Eu.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Gt(d.lu,14607):o.removedDocuments.size>0&&(Gt(d.lu,42227),d.lu=!1))}),await Po(i,s,e)}catch(s){await Ys(s)}}function mv(r,e,i){const s=bt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=bt(d);y.onlineState=g;let p=!1;y.queries.forEach((E,b)=>{for(const S of b.wa)S.va(g)&&(p=!0)}),p&&Im(y)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function l2(r,e,i){const s=bt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),c=o&&o.key;if(c){let d=new ce(pt.comparator);d=d.insert(c,Je.newNoDocument(c,St.min()));const g=Vt().add(c),y=new Jc(St.min(),new Map,new ce(Ct),d,g);await m0(s,y),s.du=s.du.remove(c),s.Eu.delete(e),xm(s)}else await kd(s.localStore,e,!1).then(()=>Fd(s,e,i)).catch(Ys)}async function o2(r,e){const i=bt(r),s=e.batch.batchId;try{const o=await _w(i.localStore,e);p0(i,s,null),g0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Po(i,o)}catch(o){await Ys(o)}}async function u2(r,e,i){const s=bt(r);try{const o=await function(d,g){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next(b=>(Gt(b!==null,37113),E=b.keys(),y.mutationQueue.removeMutationBatch(p,b))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>y.localDocuments.getDocuments(p,E))})}(s.localStore,e);p0(s,e,i),g0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Po(s,o)}catch(o){await Ys(o)}}function g0(r,e){(r.Vu.get(e)||[]).forEach(i=>{i.resolve()}),r.Vu.delete(e)}function p0(r,e,i){const s=bt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Fd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),i&&r.hu.pu(s,i);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||y0(r,s)})}function y0(r,e){r.Iu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Sm(r.remoteStore,i),r.du=r.du.remove(e),r.Eu.delete(i),xm(r))}function gv(r,e,i){for(const s of i)s instanceof h0?(r.Au.addReference(s.key,e),c2(r,s)):s instanceof f0?(ct(Nm,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||y0(r,s.key)):Et(19791,{yu:s})}function c2(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Iu.has(s)||(ct(Nm,"New document in limbo: "+i),r.Iu.add(s),xm(r))}function xm(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const i=new pt(ie.fromString(e)),s=r.mu.next();r.Eu.set(s,new Ww(i)),r.du=r.du.insert(i,s),n0(r.remoteStore,new Cr(ui(mm(i.path)),s,"TargetPurposeLimboResolution",Gc.ue))}}async function Po(r,e,i){const s=bt(r),o=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,y)=>{d.push(s.gu(y,e,i).then(p=>{var E;if((p||i)&&s.isPrimaryClient){const b=p?!p.fromCache:(E=i?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(p){o.push(p);const b=Tm.Es(y.targetId,p);c.push(b)}}))}),await Promise.all(d),s.hu.J_(o),await async function(y,p){const E=bt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>et.forEach(p,S=>et.forEach(S.Is,U=>E.persistence.referenceDelegate.addReference(b,S.targetId,U)).next(()=>et.forEach(S.ds,U=>E.persistence.referenceDelegate.removeReference(b,S.targetId,U)))))}catch(b){if(!Ks(b))throw b;ct(Am,"Failed to update sequence numbers: "+b)}for(const b of p){const S=b.targetId;if(!b.fromCache){const U=E.Fs.get(S),M=U.snapshotVersion,K=U.withLastLimboFreeSnapshotVersion(M);E.Fs=E.Fs.insert(S,K)}}}(s.localStore,c))}async function h2(r,e){const i=bt(r);if(!i.currentUser.isEqual(e)){ct(Nm,"User change. New user:",e.toKey());const s=await JE(i.localStore,e);i.currentUser=e,function(c,d){c.Vu.forEach(g=>{g.forEach(y=>{y.reject(new ut(W.CANCELLED,d))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Po(i,s.Bs)}}function f2(r,e){const i=bt(r),s=i.Eu.get(e);if(s&&s.lu)return Vt().add(s.key);{let o=Vt();const c=i.Tu.get(e);if(!c)return o;for(const d of c){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function _0(r){const e=bt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=m0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=f2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l2.bind(null,e),e.hu.J_=Xw.bind(null,e.eventManager),e.hu.pu=$w.bind(null,e.eventManager),e}function d2(r){const e=bt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u2.bind(null,e),e}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return yw(this.persistence,new mw,e.initialUser,this.serializer)}Du(e){return new ZE(Em.Vi,this.serializer)}bu(e){return new bw}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class m2 extends zc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){Gt(this.persistence.referenceDelegate instanceof Pc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new WR(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new ZE(s=>Pc.Vi(s,i),this.serializer)}}class Gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=h2.bind(null,this.syncEngine),await Qw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Kw}()}createDatastore(e){const i=Wc(e.databaseInfo.databaseId),s=function(c){return new Iw(c)}(e.databaseInfo);return function(c,d,g,y){return new Ow(c,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new Lw(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>mv(this.syncEngine,i,0),function(){return ov.C()?new ov:new Rw}())}createSyncEngine(e,i){return function(o,c,d,g,y,p,E){const b=new t2(o,c,d,g,y,p);return E&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=bt(o);ct(Ma,"RemoteStore shutting down."),c.Ia.add(5),await Uo(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Gd.provider={build:()=>new Gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class g2{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ct(kr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ct(kr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Dm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Td(r,e){r.asyncQueue.verifyOperationInProgress(),ct(kr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await JE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Lr("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{ct("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Lr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function pv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await p2(r);ct(kr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>cv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>cv(e.remoteStore,o)),r._onlineComponents=e}async function p2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(kr,"Using user provided OfflineComponentProvider");try{await Td(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Lr("Error using user provided cache. Falling back to memory cache: "+i),await Td(r,new zc)}}else ct(kr,"Using default OfflineComponentProvider"),await Td(r,new m2(void 0));return r._offlineComponents}async function E0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(kr,"Using user provided OnlineComponentProvider"),await pv(r,r._uninitializedComponentsProvider._online)):(ct(kr,"Using default OnlineComponentProvider"),await pv(r,new Gd))),r._onlineComponents}function y2(r){return E0(r).then(e=>e.syncEngine)}async function T0(r){const e=await E0(r),i=e.eventManager;return i.onListen=e2.bind(null,e.syncEngine),i.onUnlisten=r2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=n2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=a2.bind(null,e.syncEngine),i}function _2(r,e,i={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,p){const E=new v0({next:S=>{E.Ou(),d.enqueueAndForget(()=>u0(c,b));const U=S.docs.has(g);!U&&S.fromCache?p.reject(new ut(W.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&S.fromCache&&y&&y.source==="server"?p.reject(new ut(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new c0(mm(g.path),E,{includeMetadataChanges:!0,ka:!0});return o0(c,b)}(await T0(r),r.asyncQueue,e,i,s)),s.promise}function v2(r,e,i={}){const s=new Hi;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,p){const E=new v0({next:S=>{E.Ou(),d.enqueueAndForget(()=>u0(c,b)),S.fromCache&&y.source==="server"?p.reject(new ut(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),b=new c0(g,E,{includeMetadataChanges:!0,ka:!0});return o0(c,b)}(await T0(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firestore.googleapis.com",_v=!0;class vv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ut(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S0,this.ssl=_v}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:_v;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZR)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ub("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nh{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Cb;switch(s.type){case"firstParty":return new xb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=yv.get(i);s&&(ct("ComponentProvider","Removing Datastore"),yv.delete(i),s.terminate())}(this),Promise.resolve()}}function E2(r,e,i,s={}){var o;r=Xi(r,nh);const c=am(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),y=`${e}:${i}`;c&&(nS(`https://${y}`),sS("Firestore",!0)),d.host!==S0&&d.host!==y&&Lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:s});if(!wc(p,g)&&(r._setSettings(p),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=Ze.MOCK_USER;else{E=iS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ut(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ze(S)}r._authCredentials=new Db(new sE(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $s(this.firestore,e,this._query)}}class _e{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _e(this.firestore,e,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Vo(i,_e._jsonSchema))return new _e(e,s||null,new pt(ie.fromString(i.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Re("string",_e._jsonSchemaVersion),referencePath:Re("string")};class xr extends $s{constructor(e,i,s){super(e,i,mm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _e(this.firestore,null,new pt(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function T2(r,e,...i){if(r=Qi(r),oE("collection","path",e),r instanceof nh){const s=ie.fromString(e,...i);return V_(s),new xr(r,null,s)}{if(!(r instanceof _e||r instanceof xr))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(e,...i));return V_(s),new xr(r.firestore,null,s)}}function Vr(r,e,...i){if(r=Qi(r),arguments.length===1&&(e=om.newId()),oE("doc","path",e),r instanceof nh){const s=ie.fromString(e,...i);return x_(s),new _e(r,null,new pt(s))}{if(!(r instanceof _e||r instanceof xr))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ie.fromString(e,...i));return x_(s),new _e(r.firestore,r instanceof xr?r.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="AsyncQueue";class Tv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new t0(this,"async_queue_retry"),this.oc=()=>{const s=Ed();s&&ct(Ev,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=Ed();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=Ed();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Hi;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ks(e))throw e;ct(Ev,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Ki("INTERNAL UNHANDLED ERROR: ",Av(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=Cm.createAndSchedule(this,e,i,s,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&Et(47125,{hc:Av(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function Av(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Bo extends nh{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Tv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tv(e),this._firestoreClient=void 0,await e}}}function b0(r,e){const i=typeof r=="object"?r:pb(),s=typeof r=="string"?r:Nc,o=hb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=tS("firestore");c&&E2(o,...c)}return o}function Vm(r){if(r._terminated)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||A2(r),r._firestoreClient}function A2(r){var e,i,s;const o=r._freezeSettings(),c=function(g,y,p,E){return new Yb(g,y,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,A0(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new g2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const y=g?._online.build();return{_offline:g?._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Qe.fromBase64String(e))}catch(i){throw new ut(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Vn(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vo(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Re("string",Vn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ut(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ut(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ut(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(Vo(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Re("string",fi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vo(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new di(e.vectorValues);throw new ut(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Re("string",di._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^__.*__$/;class b2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Mo(e,this.data,i,this.fieldTransforms)}}class R0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Hr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function w0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ec:r})}}class Mm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return jc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(w0(this.Ec)&&S2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class R2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Wc(e)}Dc(e,i,s,o=!1){return new Mm({Ec:e,methodName:i,bc:s,path:Ge.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(r){const e=r._freezeSettings(),i=Wc(r._databaseId);return new R2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function w2(r,e,i,s,o,c={}){const d=r.Dc(c.merge||c.mergeFields?2:0,e,i,o);Um("Data must be an object, but it was:",d,s);const g=C0(s,d);let y,p;if(c.merge)y=new _n(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const S=Qd(e,b,i);if(!d.contains(S))throw new ut(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);I0(E,S)||E.push(S)}y=new _n(E),p=d.fieldTransforms.filter(b=>y.covers(b.field))}else y=null,p=d.fieldTransforms;return new b2(new on(g),y,p)}class rh extends Om{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function C2(r,e,i,s){const o=r.Dc(1,e,i);Um("Data must be an object, but it was:",o,s);const c=[],d=on.empty();qr(s,(y,p)=>{const E=Pm(e,y,i);p=Qi(p);const b=o.gc(E);if(p instanceof rh)c.push(E);else{const S=zo(p,b);S!=null&&(c.push(E),d.set(E,S))}});const g=new _n(c);return new R0(d,g,o.fieldTransforms)}function D2(r,e,i,s,o,c){const d=r.Dc(1,e,i),g=[Qd(e,s,i)],y=[o];if(c.length%2!=0)throw new ut(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)g.push(Qd(e,c[S])),y.push(c[S+1]);const p=[],E=on.empty();for(let S=g.length-1;S>=0;--S)if(!I0(p,g[S])){const U=g[S];let M=y[S];M=Qi(M);const K=d.gc(U);if(M instanceof rh)p.push(U);else{const Q=zo(M,K);Q!=null&&(p.push(U),E.set(U,Q))}}const b=new _n(p);return new R0(E,b,d.fieldTransforms)}function I2(r,e,i,s=!1){return zo(i,r.Dc(s?4:3,e))}function zo(r,e){if(D0(r=Qi(r)))return Um("Unsupported field value:",e,r),C0(r,e);if(r instanceof Om)return function(s,o){if(!w0(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let y=zo(g,o.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=Qi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:Uc(o.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uc(o.serializer,c)}}if(s instanceof fi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vn)return{bytesValue:HE(o.serializer,s._byteString)};if(s instanceof _e){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:_m(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof di)return function(d,g){return{mapValue:{fields:{[yE]:{stringValue:_E},[xc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.wc("VectorValues must only contain numeric values.");return gm(g.serializer,p)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Fc(s)}`)}(r,e)}function C0(r,e){const i={};return hE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(r,(s,o)=>{const c=zo(o,e.Vc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function D0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof fi||r instanceof Vn||r instanceof _e||r instanceof Om||r instanceof di)}function Um(r,e,i){if(!D0(i)||!uE(i)){const s=Fc(i);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Qd(r,e,i){if((e=Qi(e))instanceof ih)return e._internalPath;if(typeof e=="string")return Pm(r,e);throw jc("Field path arguments must be of type string or ",r,!1,void 0,i)}const N2=new RegExp("[~\\*/\\[\\]]");function Pm(r,e,i){if(e.search(N2)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new ih(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function jc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ut(W.INVALID_ARGUMENT,g+r+y)}function I0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(x0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class x2 extends N0{data(){return super.data()}}function x0(r,e){return typeof e=="string"?Pm(r,e):e instanceof ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}class O2 extends Bm{}function M2(r,e,...i){let s=[];e instanceof Bm&&s.push(e),s=s.concat(i),function(c){const d=c.filter(y=>y instanceof jm).length,g=c.filter(y=>y instanceof zm).length;if(d>1||d>0&&g>0)throw new ut(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class zm extends O2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new zm(e,i,s)}_apply(e){const i=this._parse(e);return V0(e._query,i),new $s(e.firestore,e.converter,Ld(e._query,i))}_parse(e){const i=Lm(e.firestore);return function(c,d,g,y,p,E,b){let S;if(p.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ut(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){bv(b,E);const M=[];for(const K of b)M.push(Sv(y,c,K));S={arrayValue:{values:M}}}else S=Sv(y,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||bv(b,E),S=I2(g,d,b,E==="in"||E==="not-in");return be.create(p,E,S)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class jm extends Bm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new jm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:kn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const y of g)V0(d,y),d=Ld(d,y)}(e._query,i),new $s(e.firestore,e.converter,Ld(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Sv(r,e,i){if(typeof(i=Qi(i))=="string"){if(i==="")throw new ut(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wE(e)&&i.indexOf("/")!==-1)throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ie.fromString(i));if(!pt.isDocumentKey(s))throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return j_(r,new pt(s))}if(i instanceof _e)return j_(r,i._key);throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fc(i)}.`)}function bv(r,e){if(!Array.isArray(r)||r.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V0(r,e){const i=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class L2{convertValue(e,i="none"){switch(zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Et(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return qr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[xc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ye(d.doubleValue));return new di(c)}convertGeoPoint(e){return new fi(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Yc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(bo(e));default:return null}}convertTimestamp(e){const i=Pr(e);return new re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ie.fromString(e);Gt(XE(s),9688,{name:e});const o=new Ro(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||Ki(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(r,e,i){let s;return s=r?i&&(i.merge||i.mergeFields)?r.toFirestore(e,i):r.toFirestore(e):e,s}class fo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends N0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(x0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=xa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Re("string",xa._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Sc extends xa{data(e={}){return super.data(e)}}class Us{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new fo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Sc(this._firestore,this._userDataWriter,s.key,s,new fo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new Sc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new fo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new Sc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new fo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:P2(g.type),doc:y,oldIndex:p,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Us._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r){r=Xi(r,_e);const e=Xi(r.firestore,Bo);return _2(Vm(e),r._key).then(i=>j2(e,r,i))}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:Re("string",Us._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class O0 extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new _e(this.firestore,null,i)}}function B2(r){r=Xi(r,$s);const e=Xi(r.firestore,Bo),i=Vm(e),s=new O0(e);return V2(r._query),v2(i,r._query).then(o=>new Us(e,s,r,o))}function M0(r,e,i){r=Xi(r,_e);const s=Xi(r.firestore,Bo),o=U2(r.converter,e,i);return L0(s,[w2(Lm(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ci.none())])}function z2(r,e,i,...s){r=Xi(r,_e);const o=Xi(r.firestore,Bo),c=Lm(o);let d;return d=typeof(e=Qi(e))=="string"||e instanceof ih?D2(c,"updateDoc",r._key,e,i,s):C2(c,"updateDoc",r._key,e),L0(o,[d.toMutation(r._key,ci.exists(!0))])}function L0(r,e){return function(s,o){const c=new Hi;return s.asyncQueue.enqueueAndForget(async()=>s2(await y2(s),o,c)),c.promise}(Vm(r),e)}function j2(r,e,i){const s=i.docs.get(e._key),o=new O0(r);return new xa(r,o,e._key,s,new fo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Qs=o})(gb),Dc(new To("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Bo(new Ib(s.getProvider("auth-internal")),new Vb(d,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ut(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(p.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ms(w_,C_,e),Ms(w_,C_,"esm2017")})();var k2="firebase",q2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(k2,q2,"app");const H2={BASE_URL:"/TanngoAPP/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyDId6UBjuGdf2ub6ap7phoRyX8tX0rcmHA",VITE_FIREBASE_APP_ID:"1:27385567412:web:2d30db854bf30e2a3adfe1",VITE_FIREBASE_AUTH_DOMAIN:"tanngoapp-5c0eb.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"27385567412",VITE_FIREBASE_PROJECT_ID:"tanngoapp-5c0eb",VITE_FIREBASE_STORAGE_BUCKET:"tanngoapp-5c0eb.firebasestorage.app"},F2=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"];F2.forEach(r=>{H2[r]||console.error(`錯誤：缺少必要的環境變數 ${r}`)});const G2={apiKey:"AIzaSyDId6UBjuGdf2ub6ap7phoRyX8tX0rcmHA",authDomain:"tanngoapp-5c0eb.firebaseapp.com",projectId:"tanngoapp-5c0eb",storageBucket:"tanngoapp-5c0eb.firebasestorage.app",messagingSenderId:"27385567412",appId:"1:27385567412:web:2d30db854bf30e2a3adfe1"},U0=$v(G2),Mr=b0(U0),Va={USER:"User",SEAN:"Sean",N5:"N5"},Q2=async r=>{try{const e=Vr(Mr,Va.USER,r),i=await Or(e);if(!i.exists())throw new Error(`用戶${r}不存在`);const s=i.data();return console.log("userData:"+s.N5_record),s.N5_record||{}}catch(e){return console.error("獲取 N5 記錄時出錯:",e),{}}},Y2=async(r,e,i)=>{try{const s=Vr(Mr,Va.USER,r),o=await Or(s);let c={};if(o.exists())c=o.data();else{alert(`用戶${r}不存在`);return}const d={...c,N5_record:{...c.N5_record||{},[e]:i},updatedAt:new Date().toISOString()};return await M0(s,d,{merge:!0}),d.N5_record}catch(s){throw console.error("更新 N5 記錄時出錯:",s),s}},K2=async r=>{const e=M2(T2(Mr,Va.USER_WORDS,r,Va.WORDS));return(await B2(e)).docs.map(s=>({id:s.id,...s.data()}))},P0=G.createContext(),X2=b0(U0);function km(){return G.useContext(P0)}function $2({children:r}){const[e,i]=G.useState(null),[s,o]=G.useState(!0),c=async(y,p)=>{try{const E=Vr(X2,"User",y),b=await Or(E);if(b.exists()){const S=b.data();if(S.pwd===p)return console.log("username:"+S.name),i(S.name),localStorage.setItem("currentUser",JSON.stringify({name:S.name})),{success:!0}}return{success:!1,message:"用戶名或密碼錯誤"}}catch(E){return console.error("登入時出錯:",E),{success:!1,message:"登入時發生錯誤"}}},d=()=>{i(null),localStorage.removeItem("currentUser")};G.useEffect(()=>{const y=localStorage.getItem("currentUser");y&&i(JSON.parse(y).name),o(!1)},[]);const g={currentUser:e,login:c,logout:d,isAuthenticated:!!e};return j.jsx(P0.Provider,{value:g,children:!s&&r})}const Z2="_layout_8sxxb_1",J2="_main_8sxxb_7",Rv={layout:Z2,main:J2},Fi=({children:r})=>j.jsx("div",{className:Rv.layout,children:j.jsx("main",{className:Rv.main,children:r})}),W2="_homePage_1ceyl_1",tC="_title_1ceyl_10",eC="_levelSelection_1ceyl_16",nC="_btn_1ceyl_21",iC="_primary_1ceyl_34",rC="_secondary_1ceyl_39",Ca={homePage:W2,title:tC,levelSelection:eC,btn:nC,primary:iC,secondary:rC},aC=()=>j.jsx(Fi,{children:j.jsxs("div",{className:Ca.homePage,children:[j.jsx("h1",{className:Ca.title,children:"日文單字間隔複習"}),j.jsxs("div",{className:Ca.levelSelection,children:[j.jsx(Eo,{to:"/n5",className:`${Ca.btn} ${Ca.primary}`,children:"N5"}),j.jsx(Eo,{to:"/n4",className:`${Ca.btn} ${Ca.secondary}`,children:"N4"})]})]})}),Yd=["noun","verb","adj","adj-na","adv","loanword"],kc=[1,2,4,7,14,30],Io=()=>new Date().toISOString().split("T")[0],Kd=(r,e)=>{const i=new Date(r);return i.setDate(i.getDate()+e),i.toISOString().split("T")[0]},Xd=async r=>{try{return r?await K2(r):(console.error("無法載入單字資料:缺少用戶ID"),[])}catch(e){return console.error("從 Firebase 載入單字資料失敗:",e),[]}},sC=async(r,e)=>{{console.error("無法儲存單字資料:缺少用戶ID");return}},lC="_levelPage_clw5t_2",oC="_pageTitle_clw5t_8",uC="_categoryList_clw5t_13",cC="_categoryItem_clw5t_19",hC="_highlight_clw5t_36",fC="_modalOverlay_clw5t_48",dC="_modal_clw5t_48",mC="_modalActions_clw5t_82",ue={levelPage:lC,pageTitle:oC,categoryList:uC,categoryItem:cC,highlight:hC,modalOverlay:fC,modal:dC,modalActions:mC},gC=()=>{const[r,e]=G.useState([]),[i,s]=G.useState(!0),o=Zi(),c=Io();if(G.useEffect(()=>{(async()=>{const y=await Xd();e(y),s(!1)})()},[]),i)return j.jsx("div",{children:"載入中..."});const d=new Map;return Yd.forEach(g=>d.set(g,!1)),r.forEach(g=>{g.jlptLevel==="N4"&&new Date(g.nextReview)<=new Date(c)&&d.set(g.category,!0)}),j.jsx(Fi,{children:j.jsxs("div",{className:ue.levelPage,children:[j.jsx("h1",{className:ue.pageTitle,children:"N4 單字分類"}),j.jsx("div",{className:ue.categoryList,children:Yd.map(g=>j.jsxs("div",{className:`${ue.categoryItem} ${d.get(g)?ue.highlight:""}`,onClick:()=>o(`/n4/review/${g}`),children:[g,d.get(g)&&j.jsx("span",{children:"🔥"})]},g))})]})})},pC=(r,e)=>{const i=new Date(r);return i.setDate(i.getDate()+e),i.toISOString().split("T")[0]},yC=()=>{const r=JSON.parse(localStorage.getItem("currentUser")).name,[e,i]=G.useState({}),[s,o]=G.useState(!0),[c,d]=G.useState(!1),[g,y]=G.useState(""),[p,E]=G.useState(""),[b,S]=G.useState(0),U=Zi(),M=async k=>{try{const Z=Vr(Mr,Va.N5,`${k}`),it=await Or(Z);return it.exists()&&it.data().words.length||0}catch(Z){return console.error(`獲取 ${k} 單字總數時出錯:`,Z),0}};G.useEffect(()=>{(async()=>{if(!r){o(!1);return}try{console.log("currentUser:",r);const Z=await Q2(r);console.log("record:",JSON.stringify(Z,null,2)),console.log("record type:",typeof Z),console.log("record keys:",Object.keys(Z)),i(Z)}catch(Z){console.error("載入 N5 學習記錄時出錯:",Z),i({})}finally{o(!1)}})()},[r]),G.useEffect(()=>{g&&M(g).then(k=>{S(k)})},[g]);const K=async()=>{if(!(!g||!p||!r)){o(!0);try{const k=Vr(Mr,Va.N5,`${g}`),Z=await Or(k);if(!Z.exists())throw new Error(`找不到 ${g} 的單字資料`);const ht=Z.data().words||[],st=ht.length;if(st===0)throw new Error("該分類沒有可用的單字");const ft=new Date().toISOString().split("T")[0],N=ht.map((L,C)=>{const qt=Math.floor(C/p);return{...L,nextReview:pC(ft,qt)}}),R=`N5_${g}`,w=Vr(Mr,Va.SEAN,R),I=await Or(w),V={words:N,total:st,category:g,level:"N5",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...I.exists()?I.data():{}};await M0(w,V),U(`/n5/review/${g}`)}catch(k){console.error("初始化學習記錄時出錯:",k),alert(`初始化失敗: ${k.message}`)}finally{o(!1),d(!1)}}},Q=async k=>{console.log("category:",k);const Z=e[k]||"";if(console.log("status:"+Z),!Z)console.log("未開始學習"),y(k),d(!0);else{console.log("已經開始學習");const it=new Date(Z),ht=new Date;console.log("reviewDate:"+it),console.log("today:"+ht),it<=ht?(console.log("需要複習"),U(`/n5/review/${k}`)):(console.log("不需要複習"),alert(`還未到達${k}的複習日期`))}};return s?j.jsx(Fi,{children:j.jsx("div",{className:ue.loading,children:"載入中..."})}):r?j.jsxs(Fi,{children:[j.jsxs("div",{className:ue.levelPage,children:[j.jsx("h1",{className:ue.pageTitle,children:"N5 單字分類"}),j.jsx("div",{className:ue.categoryList,children:Yd.map(k=>{const Z=e[k]||"",it=Z?new Date(Z)>new Date?ue.completed:ue.highlight:"";return j.jsxs("div",{className:`${ue.categoryItem} ${it}`,onClick:()=>Q(k),children:[j.jsx("div",{className:ue.categoryName,children:k}),j.jsx("div",{className:ue.status,children:Z?new Date(Z)<=new Date?"需要複習":"已完成":"開始學習"})]},k)})})]}),c&&j.jsx("div",{className:ue.modalOverlay,children:j.jsxs("div",{className:ue.modal,children:[j.jsxs("h3",{children:["設定每日學習目標 - ",g]}),j.jsx("p",{children:"請設定您每天想要學習的單字數量："}),j.jsxs("div",{className:ue.goalContainer,children:[j.jsx("input",{type:"number",min:"1",max:"50",value:p,onChange:k=>{const Z=parseInt(k.target.value);E(Math.min(Math.max(1,Z),50))},className:ue.goalInput}),j.jsxs("span",{className:ue.totalWords,children:["共 ",b," 個單字，預計 ",Math.ceil(b/p)," 天完成"]})]}),j.jsxs("div",{className:ue.modalActions,children:[j.jsx("button",{onClick:()=>d(!1),className:ue.cancelButton,disabled:s,children:"取消"}),j.jsx("button",{onClick:K,className:ue.confirmButton,disabled:!p||s,children:s?"處理中...":"開始學習"})]})]})})]}):j.jsx(Fi,{children:j.jsx("div",{className:ue.unauthorized,children:j.jsx("p",{children:"請先登入以查看 N5 單字"})})})},_C="_reviewPage_unygp_1",vC="_progress_unygp_11",EC="_flashcard_unygp_22",TC="_cardContent_unygp_39",AC="_word_unygp_43",SC="_reading_unygp_51",bC="_meaning_unygp_58",RC="_example_unygp_70",wC="_jp_unygp_78",CC="_zh_unygp_84",DC="_buttons_unygp_100",IC="_navButtonContainer_unygp_108",NC="_navButton_unygp_108",xC="_buttonGroup_unygp_134",VC="_rememberButton_unygp_142",OC="_forgotButton_unygp_142",MC="_bottomButtons_unygp_178",LC="_toggleButton_unygp_185",Ft={reviewPage:_C,progress:vC,flashcard:EC,cardContent:TC,word:AC,reading:SC,meaning:bC,example:RC,jp:wC,zh:CC,buttons:DC,navButtonContainer:IC,navButton:NC,buttonGroup:xC,rememberButton:VC,forgotButton:OC,bottomButtons:MC,toggleButton:LC},UC=()=>{const{category:r}=Mv(),[e,i]=G.useState([]),[s,o]=G.useState(0),[c,d]=G.useState(!1),[g,y]=G.useState([]),[p,E]=G.useState(!0),b=Zi();G.useEffect(()=>{(async()=>{const Z=await Xd(),it=Io(),ht=Z.filter(st=>st.jlptLevel==="N4"&&st.category===r&&new Date(st.nextReview)<=new Date(it));i(ht),E(!1)})()},[r]);const S=(k,Z)=>{i(it=>{const ht=it.map(st=>st.id===k?{...st,...Z}:st);return Xd().then(st=>{st.map(ft=>ft.id===k?{...ft,...Z}:ft),sC()}),ht})},U=()=>{K(!0)},M=()=>{K(!1)},K=k=>{if(s>=e.length)return;const Z=e[s],it=Io();let ht,st;if(k){ht=Math.min(Z.level+1,kc.length);const ft=kc[ht-1];st=Kd(new Date,ft)}else ht=1,st=Kd(new Date,1);S(Z.id,{level:ht,nextReview:st,reviewHistory:[...Z.reviewHistory||[],it]}),y([...g,{word:Z.word,remembered:k,level:ht}]),s<e.length-1?(o(s+1),d(!1)):b("/summary",{state:{results:g}})};if(p)return j.jsx("div",{children:"載入中..."});if(e.length===0)return j.jsx("div",{children:"沒有需要複習的單字！"});const Q=e[s];return j.jsx(Fi,{children:j.jsxs("div",{className:Ft.reviewPage,children:[j.jsxs("div",{className:Ft.progress,children:["進度: ",s+1," / ",e.length]}),j.jsxs("div",{className:`${Ft.flashcard} ${c?Ft.flipped:""}`,onClick:()=>d(!c),children:[j.jsxs("div",{className:Ft.cardFront,children:[j.jsx("h2",{children:Q.word}),j.jsx("p",{children:Q.reading})]}),j.jsxs("div",{className:Ft.cardBack,children:[j.jsx("h2",{children:Q.meaning}),Q.example&&j.jsxs("div",{className:Ft.example,children:[j.jsx("p",{children:Q.example.jp}),j.jsx("p",{children:Q.example.zh})]})]})]}),j.jsxs("div",{className:Ft.buttons,children:[j.jsx("button",{className:Ft.forgotButton,onClick:M,children:"忘記了"}),j.jsx("button",{className:Ft.rememberButton,onClick:U,children:"記得了"})]})]})})},PC=()=>{const r=JSON.parse(localStorage.getItem("currentUser")).name,{category:e}=Mv(),[i,s]=G.useState([]),[o,c]=G.useState([]),[d,g]=G.useState(0),[y,p]=G.useState(!1),[E,b]=G.useState([]),[S,U]=G.useState(!0),[M,K]=G.useState(""),Q=Zi();G.useEffect(()=>{(async()=>{if(r)try{U(!0);const N=Io(),R=`N5_${e}`,w=Vr(Mr,r,R),I=await Or(w);if(!I.exists()){console.error("未找到單字數據");return}const V=I.data().words;if(console.log("data: ",V),s(V),V.length>=2){const C=V.filter(qt=>qt.nextReview);if(C.length>=2){const qt=[...new Set(C.map(zt=>zt.nextReview.split("T")[0]))].sort();if(console.log("所有不重複的日期:",qt),qt.length>=2){const zt=qt[1];console.log("第二個不重複的日期:",zt),K(zt)}else console.log("不重複的日期不足 2 個"),K("")}else console.log("有 nextReview 的單字不足 2 個"),K("")}else console.log("單字數量不足 2 個"),K("");const L=V.filter(C=>!C.nextReview||new Date(C.nextReview)<=new Date(N));c(L)}catch(N){console.error("加載單字時出錯:",N)}finally{U(!1)}})()},[e,r]);const k=()=>{d>0&&(g(ft=>ft-1),setIsFlipped(!1),b(ft=>ft.slice(0,-1)))},Z=async ft=>{if(r)try{const N=`N5_${e}`,R=Vr(Mr,r,N);if((await Or(R)).exists()){const I=i.map(V=>{const L=ft.find(C=>C.id===V.id);return L?{...V,...L}:V});await z2(R,{words:I,updatedAt:new Date().toISOString()}),console.log("批次更新單字完成")}}catch(N){throw console.error("批量更新單字時出錯:",N),N}},it=async ft=>{const N=Io(),R=o[d];let w,I;if(ft){w=Math.min((R.level||1)+1,kc.length);const zt=kc[w-2];I=Kd(N,zt)}else w=R.level,I=N;const V={...R,level:w,lastReviewed:N,nextReview:I},L=[...o];L[d]=V,c(L),p(!1);const C={wordId:R.id,word:R.word,reading:R.reading,meaning:R.meaning,remembered:ft,level:w,nextReview:I},qt=[...E,C];if(b(qt),d<o.length-1)console.log("移動到下一個單字，當前索引:",d,"總單字數:",o.length),g(d+1);else try{console.log("所有單字複習完成，準備更新記錄..."),await Z(L),await ht(L),console.log("準備導向總結頁面，結果:",qt),Q("/summary",{state:{results:qt,category:e?e.charAt(0).toUpperCase()+e.slice(1):"N5"},replace:!0})}catch(zt){console.error("更新記錄時出錯:",zt),console.log("出錯，但仍嘗試導向總結頁面"),Q("/summary",{state:{results:qt||[],category:e?e.charAt(0).toUpperCase()+e.slice(1):"N5"},replace:!0})}},ht=async ft=>{if(!r)return;let N;try{ft.forEach(w=>{N=ft.reduce((I,V)=>V.nextReview<I?V.nextReview:I,ft[0].nextReview)}),console.log("這次複習中最小的日期:"+N),console.log("所有單字中第二小的日期:"+M);const R=N<M?N:M;await Y2(r,e,R)}catch(R){console.error("更新 N5_record 時出錯:",R)}};if(S)return j.jsx("div",{className:Ft.loading,children:"載入中..."});if(o.length===0)return j.jsx("div",{className:Ft.noWords,children:"沒有需要複習的單字！"});const st=o[d];return j.jsx(Fi,{children:j.jsxs("div",{className:Ft.reviewPage,children:[j.jsxs("div",{className:Ft.progress,children:["進度: ",d+1," / ",o.length,st.level&&j.jsxs("span",{children:[" | 等級: ",st.level]})]}),j.jsx("div",{className:Ft.flashcard,onClick:()=>p(!y),children:j.jsxs("div",{className:Ft.cardContent,children:[j.jsx("h2",{className:Ft.word,children:st.word}),j.jsx("p",{className:Ft.reading,children:y?st.reading:"點擊顯示讀音"}),y&&j.jsxs(j.Fragment,{children:[j.jsx("h3",{className:Ft.meaning,children:st.meaning}),st.example&&j.jsxs("div",{className:Ft.example,children:[j.jsx("p",{className:Ft.jp,children:st.example.jp}),j.jsx("p",{className:Ft.zh,children:st.example.zh})]})]})]})}),j.jsxs("div",{className:Ft.buttons,children:[j.jsx("div",{className:Ft.navButtonContainer,children:j.jsx("button",{className:Ft.navButton,onClick:ft=>{ft.stopPropagation(),k()},disabled:d===0,children:"← 上一個"})}),j.jsxs("div",{className:Ft.buttonGroup,children:[j.jsxs("button",{className:Ft.forgotButton,onClick:ft=>{ft.stopPropagation(),it(!1)},children:[j.jsx("span",{children:"✕"})," 忘惹"]}),j.jsxs("button",{className:Ft.rememberButton,onClick:ft=>{ft.stopPropagation(),it(!0)},children:[j.jsx("span",{children:"✓"})," 記住惹"]})]}),j.jsx("div",{className:Ft.bottomButtons,children:j.jsx("button",{className:Ft.toggleButton,onClick:ft=>{ft.stopPropagation(),p(!y)},children:y?"隱藏答案":"顯示答案"})})]})]})})},BC="_summaryContainer_47qvw_1",zC="_statsContainer_47qvw_21",jC="_statItem_47qvw_33",kC="_statNumber_47qvw_46",qC="_remembered_47qvw_52",HC="_forgotten_47qvw_55",FC="_statLabel_47qvw_59",GC="_wordsList_47qvw_66",QC="_wordsGrid_47qvw_71",YC="_wordItem_47qvw_78",KC="_forgottenWord_47qvw_93",XC="_wordContent_47qvw_98",$C="_japanese_47qvw_102",ZC="_reading_47qvw_109",JC="_meaning_47qvw_115",WC="_statusIndicator_47qvw_121",tD="_backButton_47qvw_141",te={summaryContainer:BC,statsContainer:zC,statItem:jC,statNumber:kC,remembered:qC,forgotten:HC,statLabel:FC,wordsList:GC,wordsGrid:QC,wordItem:YC,forgottenWord:KC,wordContent:XC,japanese:$C,reading:ZC,meaning:JC,statusIndicator:WC,backButton:tD},eD=()=>{const r=Fn(),e=Zi(),{results:i=[],category:s="N5"}=r.state||{},o=i.length,c=i.filter(E=>E.remembered).length,d=o-c,g=o>0?Math.round(c/o*100):0,y=()=>{switch(s){case"N5":return"/n5";case"N4":return"/n4";default:return"/n5"}},p=()=>{e(y())};return j.jsx(Fi,{children:j.jsxs("div",{className:te.summaryContainer,children:[j.jsx("h1",{children:"複習完成！"}),j.jsxs("div",{className:te.statsContainer,children:[j.jsxs("div",{className:te.statItem,children:[j.jsx("div",{className:te.statNumber,children:o}),j.jsx("div",{className:te.statLabel,children:"總複習單字"})]}),j.jsxs("div",{className:te.statItem,children:[j.jsx("div",{className:`${te.statNumber} ${te.remembered}`,children:c}),j.jsx("div",{className:te.statLabel,children:"記住"})]}),j.jsxs("div",{className:te.statItem,children:[j.jsx("div",{className:`${te.statNumber} ${d>0?te.forgotten:""}`,children:d}),j.jsx("div",{className:te.statLabel,children:"忘記"})]}),j.jsxs("div",{className:te.statItem,children:[j.jsxs("div",{className:te.statNumber,children:[g,"%"]}),j.jsx("div",{className:te.statLabel,children:"正確率"})]})]}),j.jsxs("div",{className:te.wordsList,children:[j.jsx("h2",{children:"單字列表"}),j.jsx("div",{className:te.wordsGrid,children:i.map((E,b)=>j.jsxs("div",{className:`${te.wordItem} ${E.remembered?"":te.forgottenWord}`,children:[j.jsxs("div",{className:te.wordContent,children:[j.jsxs("div",{className:te.wordText,children:[j.jsx("span",{className:te.japanese,children:E.word}),j.jsx("span",{className:te.reading,children:E.reading||""})]}),j.jsx("div",{className:te.meaning,children:E.meaning})]}),j.jsx("div",{className:te.statusIndicator,children:E.remembered?"✓":"✕"})]},`${E.wordId||b}`))})]}),j.jsxs("button",{className:te.backButton,onClick:p,children:["返回",s,"目錄"]})]})})},nD="_loginContainer_ljnw0_1",iD="_loginBox_ljnw0_13",rD="_loginForm_ljnw0_30",aD="_formGroup_ljnw0_36",sD="_error_ljnw0_64",lD="_loginButton_ljnw0_74",Da={loginContainer:nD,loginBox:iD,loginForm:rD,formGroup:aD,error:sD,loginButton:lD},oD=()=>{const[r,e]=G.useState(""),[i,s]=G.useState(""),[o,c]=G.useState(""),[d,g]=G.useState(!1),{login:y}=km(),p=Zi(),b=Fn().state?.from?.pathname||"/",S=async U=>{if(U.preventDefault(),c(""),!r||!i){c("請輸入用戶名和密碼");return}try{g(!0);const M=await y(r,i);M.success?p(b,{replace:!0}):c(M.message||"登入失敗")}catch(M){console.error("登入時出錯:",M),c("登入時發生錯誤")}finally{g(!1)}};return j.jsx(Fi,{children:j.jsx("div",{className:Da.loginContainer,children:j.jsxs("div",{className:Da.loginBox,children:[j.jsx("h2",{children:"登入"}),o&&j.jsx("div",{className:Da.error,children:o}),j.jsxs("form",{onSubmit:S,className:Da.loginForm,children:[j.jsxs("div",{className:Da.formGroup,children:[j.jsx("label",{htmlFor:"username",children:"用戶名"}),j.jsx("input",{id:"username",type:"text",value:r,onChange:U=>e(U.target.value),disabled:d,placeholder:"請輸入用戶名"})]}),j.jsxs("div",{className:Da.formGroup,children:[j.jsx("label",{htmlFor:"password",children:"密碼"}),j.jsx("input",{id:"password",type:"password",value:i,onChange:U=>s(U.target.value),disabled:d,placeholder:"請輸入密碼"})]}),j.jsx("button",{type:"submit",className:Da.loginButton,disabled:d,children:d?"登入中...":"登入"})]})]})})})},uD="_navbar_22qo8_1",cD="_logo_22qo8_13",hD="_navLinks_22qo8_23",fD="_navLink_22qo8_23",dD="_loginButton_22qo8_43",mD="_logoutButton_22qo8_54",gD="_userSection_22qo8_65",pD="_username_22qo8_71",zn={navbar:uD,logo:cD,navLinks:hD,navLink:fD,loginButton:dD,logoutButton:mD,userSection:gD,username:pD},yD=()=>{const{currentUser:r,logout:e}=km(),i=Zi(),s=async()=>{try{await e(),i("/login")}catch(o){console.error("登出失敗:",o)}};return j.jsxs("nav",{className:zn.navbar,children:[j.jsx(Eo,{to:"/",className:zn.logo,children:"日文單字間隔複習"}),j.jsx("div",{className:zn.navLinks,children:r?j.jsxs(j.Fragment,{children:[j.jsx("button",{onClick:()=>i("/n5"),className:zn.navLink,children:"N5"}),j.jsx("button",{onClick:()=>i("/n4"),className:zn.navLink,children:"N4"}),j.jsxs("div",{className:zn.userSection,children:[j.jsxs("span",{className:zn.username,children:["歡迎, ",r.name]}),j.jsx("button",{onClick:s,className:`${zn.navLink} ${zn.logoutButton}`,children:"登出"})]})]}):j.jsx("button",{onClick:()=>i("/login"),className:`${zn.navLink} ${zn.loginButton}`,children:"登入"})})]})},Is=({children:r})=>{const{currentUser:e}=km(),i=Fn();return e?r:j.jsx(Pv,{to:"/login",state:{from:i},replace:!0})},_D=()=>j.jsxs(cA,{children:[j.jsx(ki,{path:"/login",element:j.jsx(oD,{})}),j.jsx(ki,{path:"/",element:j.jsx(Is,{children:j.jsx(aC,{})})}),j.jsx(ki,{path:"/n4",element:j.jsx(Is,{children:j.jsx(gC,{})})}),j.jsx(ki,{path:"/n5",element:j.jsx(Is,{children:j.jsx(yC,{})})}),j.jsx(ki,{path:"/n4/review/:category",element:j.jsx(Is,{children:j.jsx(UC,{})})}),j.jsx(ki,{path:"/n5/review/:category",element:j.jsx(Is,{children:j.jsx(PC,{})})}),j.jsx(ki,{path:"/summary",element:j.jsx(Is,{children:j.jsx(eD,{})})}),j.jsx(ki,{path:"*",element:j.jsx(Pv,{to:"/",replace:!0})})]}),vD=()=>j.jsx($2,{children:j.jsxs("div",{className:"app",children:[j.jsx(yD,{}),j.jsx("div",{className:"content",children:j.jsx(_D,{})})]})});v1.createRoot(document.getElementById("root")).render(j.jsx(h1.StrictMode,{children:j.jsx(MA,{basename:"/TanngoAPP/",children:j.jsx(vD,{})})}));
