(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function mv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var rd={exports:{}},no={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function FT(){if(Gy)return no;Gy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return no.Fragment=e,no.jsx=i,no.jsxs=i,no}var Fy;function QT(){return Fy||(Fy=1,rd.exports=FT()),rd.exports}var U=QT(),ad={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function YT(){if(Qy)return Ct;Qy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,$={};function Q(V,nt,lt){this.props=V,this.context=nt,this.refs=$,this.updater=lt||B}Q.prototype.isReactComponent={},Q.prototype.setState=function(V,nt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,nt,"setState")},Q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function P(){}P.prototype=Q.prototype;function X(V,nt,lt){this.props=V,this.context=nt,this.refs=$,this.updater=lt||B}var rt=X.prototype=new P;rt.constructor=X,L(rt,Q.prototype),rt.isPureReactComponent=!0;var ut=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},Et=Object.prototype.hasOwnProperty;function x(V,nt,lt,at,gt,It){return lt=It.ref,{$$typeof:a,type:V,key:nt,ref:lt!==void 0?lt:null,props:It}}function A(V,nt){return x(V.type,nt,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function D(V){var nt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return nt[lt]})}var I=/\/+/g;function O(V,nt){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):nt.toString(36)}function C(){}function Rt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(nt){V.status==="pending"&&(V.status="fulfilled",V.value=nt)},function(nt){V.status==="pending"&&(V.status="rejected",V.reason=nt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function bt(V,nt,lt,at,gt){var It=typeof V;(It==="undefined"||It==="boolean")&&(V=null);var St=!1;if(V===null)St=!0;else switch(It){case"bigint":case"string":case"number":St=!0;break;case"object":switch(V.$$typeof){case a:case e:St=!0;break;case E:return St=V._init,bt(St(V._payload),nt,lt,at,gt)}}if(St)return gt=gt(V),St=at===""?"."+O(V,0):at,ut(gt)?(lt="",St!=null&&(lt=St.replace(I,"$&/")+"/"),bt(gt,nt,lt,"",function(Kn){return Kn})):gt!=null&&(w(gt)&&(gt=A(gt,lt+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(I,"$&/")+"/")+St)),nt.push(gt)),1;St=0;var Ve=at===""?".":at+":";if(ut(V))for(var ne=0;ne<V.length;ne++)at=V[ne],It=Ve+O(at,ne),St+=bt(at,nt,lt,It,gt);else if(ne=b(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(at=V.next()).done;)at=at.value,It=Ve+O(at,ne++),St+=bt(at,nt,lt,It,gt);else if(It==="object"){if(typeof V.then=="function")return bt(Rt(V),nt,lt,at,gt);throw nt=String(V),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return St}function Y(V,nt,lt){if(V==null)return V;var at=[],gt=0;return bt(V,at,"","",function(It){return nt.call(lt,It,gt++)}),at}function et(V){if(V._status===-1){var nt=V._result;nt=nt(),nt.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=nt)}if(V._status===1)return V._result.default;throw V._result}var mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ht(){}return Ct.Children={map:Y,forEach:function(V,nt,lt){Y(V,function(){nt.apply(this,arguments)},lt)},count:function(V){var nt=0;return Y(V,function(){nt++}),nt},toArray:function(V){return Y(V,function(nt){return nt})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ct.Component=Q,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=X,Ct.StrictMode=s,Ct.Suspense=y,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ct.H.useMemoCache(V)}},Ct.cache=function(V){return function(){return V.apply(null,arguments)}},Ct.cloneElement=function(V,nt,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=L({},V.props),gt=V.key,It=void 0;if(nt!=null)for(St in nt.ref!==void 0&&(It=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!Et.call(nt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&nt.ref===void 0||(at[St]=nt[St]);var St=arguments.length-2;if(St===1)at.children=lt;else if(1<St){for(var Ve=Array(St),ne=0;ne<St;ne++)Ve[ne]=arguments[ne+2];at.children=Ve}return x(V.type,gt,void 0,void 0,It,at)},Ct.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ct.createElement=function(V,nt,lt){var at,gt={},It=null;if(nt!=null)for(at in nt.key!==void 0&&(It=""+nt.key),nt)Et.call(nt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(gt[at]=nt[at]);var St=arguments.length-2;if(St===1)gt.children=lt;else if(1<St){for(var Ve=Array(St),ne=0;ne<St;ne++)Ve[ne]=arguments[ne+2];gt.children=Ve}if(V&&V.defaultProps)for(at in St=V.defaultProps,St)gt[at]===void 0&&(gt[at]=St[at]);return x(V,It,void 0,void 0,null,gt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(V){return{$$typeof:g,render:V}},Ct.isValidElement=w,Ct.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:et}},Ct.memo=function(V,nt){return{$$typeof:p,type:V,compare:nt===void 0?null:nt}},Ct.startTransition=function(V){var nt=ct.T,lt={};ct.T=lt;try{var at=V(),gt=ct.S;gt!==null&&gt(lt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ht,mt)}catch(It){mt(It)}finally{ct.T=nt}},Ct.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Ct.use=function(V){return ct.H.use(V)},Ct.useActionState=function(V,nt,lt){return ct.H.useActionState(V,nt,lt)},Ct.useCallback=function(V,nt){return ct.H.useCallback(V,nt)},Ct.useContext=function(V){return ct.H.useContext(V)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(V,nt){return ct.H.useDeferredValue(V,nt)},Ct.useEffect=function(V,nt,lt){var at=ct.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return at.useEffect(V,nt)},Ct.useId=function(){return ct.H.useId()},Ct.useImperativeHandle=function(V,nt,lt){return ct.H.useImperativeHandle(V,nt,lt)},Ct.useInsertionEffect=function(V,nt){return ct.H.useInsertionEffect(V,nt)},Ct.useLayoutEffect=function(V,nt){return ct.H.useLayoutEffect(V,nt)},Ct.useMemo=function(V,nt){return ct.H.useMemo(V,nt)},Ct.useOptimistic=function(V,nt){return ct.H.useOptimistic(V,nt)},Ct.useReducer=function(V,nt,lt){return ct.H.useReducer(V,nt,lt)},Ct.useRef=function(V){return ct.H.useRef(V)},Ct.useState=function(V){return ct.H.useState(V)},Ct.useSyncExternalStore=function(V,nt,lt){return ct.H.useSyncExternalStore(V,nt,lt)},Ct.useTransition=function(){return ct.H.useTransition()},Ct.version="19.1.0",Ct}var Yy;function Gd(){return Yy||(Yy=1,ad.exports=YT()),ad.exports}var H=Gd();const KT=mv(H);var sd={exports:{}},io={},ld={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function XT(){return Ky||(Ky=1,function(a){function e(Y,et){var mt=Y.length;Y.push(et);t:for(;0<mt;){var Ht=mt-1>>>1,V=Y[Ht];if(0<o(V,et))Y[Ht]=et,Y[mt]=V,mt=Ht;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var et=Y[0],mt=Y.pop();if(mt!==et){Y[0]=mt;t:for(var Ht=0,V=Y.length,nt=V>>>1;Ht<nt;){var lt=2*(Ht+1)-1,at=Y[lt],gt=lt+1,It=Y[gt];if(0>o(at,mt))gt<V&&0>o(It,at)?(Y[Ht]=It,Y[gt]=mt,Ht=gt):(Y[Ht]=at,Y[lt]=mt,Ht=lt);else if(gt<V&&0>o(It,mt))Y[Ht]=It,Y[gt]=mt,Ht=gt;else break t}}return et}function o(Y,et){var mt=Y.sortIndex-et.sortIndex;return mt!==0?mt:Y.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,R=null,b=3,B=!1,L=!1,$=!1,Q=!1,P=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function ut(Y){for(var et=i(p);et!==null;){if(et.callback===null)s(p);else if(et.startTime<=Y)s(p),et.sortIndex=et.expirationTime,e(y,et);else break;et=i(p)}}function ct(Y){if($=!1,ut(Y),!L)if(i(y)!==null)L=!0,Et||(Et=!0,O());else{var et=i(p);et!==null&&bt(ct,et.startTime-Y)}}var Et=!1,x=-1,A=5,w=-1;function D(){return Q?!0:!(a.unstable_now()-w<A)}function I(){if(Q=!1,Et){var Y=a.unstable_now();w=Y;var et=!0;try{t:{L=!1,$&&($=!1,X(x),x=-1),B=!0;var mt=b;try{e:{for(ut(Y),R=i(y);R!==null&&!(R.expirationTime>Y&&D());){var Ht=R.callback;if(typeof Ht=="function"){R.callback=null,b=R.priorityLevel;var V=Ht(R.expirationTime<=Y);if(Y=a.unstable_now(),typeof V=="function"){R.callback=V,ut(Y),et=!0;break e}R===i(y)&&s(y),ut(Y)}else s(y);R=i(y)}if(R!==null)et=!0;else{var nt=i(p);nt!==null&&bt(ct,nt.startTime-Y),et=!1}}break t}finally{R=null,b=mt,B=!1}et=void 0}}finally{et?O():Et=!1}}}var O;if(typeof rt=="function")O=function(){rt(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Rt=C.port2;C.port1.onmessage=I,O=function(){Rt.postMessage(null)}}else O=function(){P(I,0)};function bt(Y,et){x=P(function(){Y(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Y){Y.callback=null},a.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var et=3;break;default:et=b}var mt=b;b=et;try{return Y()}finally{b=mt}},a.unstable_requestPaint=function(){Q=!0},a.unstable_runWithPriority=function(Y,et){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var mt=b;b=Y;try{return et()}finally{b=mt}},a.unstable_scheduleCallback=function(Y,et,mt){var Ht=a.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Ht+mt:Ht):mt=Ht,Y){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=mt+V,Y={id:E++,callback:et,priorityLevel:Y,startTime:mt,expirationTime:V,sortIndex:-1},mt>Ht?(Y.sortIndex=mt,e(p,Y),i(y)===null&&Y===i(p)&&($?(X(x),x=-1):$=!0,bt(ct,mt-Ht))):(Y.sortIndex=V,e(y,Y),L||B||(L=!0,Et||(Et=!0,O()))),Y},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(Y){var et=b;return function(){var mt=b;b=et;try{return Y.apply(this,arguments)}finally{b=mt}}}}(od)),od}var Xy;function $T(){return Xy||(Xy=1,ld.exports=XT()),ld.exports}var ud={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function ZT(){if($y)return Xe;$y=1;var a=Gd();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:p,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,E)},Xe.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},Xe.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Xe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Xe.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,R=g(E,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,B=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:R,integrity:b,fetchPriority:B}):E==="script"&&s.d.X(y,{crossOrigin:R,integrity:b,fetchPriority:B,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xe.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Xe.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,R=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xe.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Xe.requestFormReset=function(y){s.d.r(y)},Xe.unstable_batchedUpdates=function(y,p){return y(p)},Xe.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var Zy;function JT(){if(Zy)return ud.exports;Zy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),ud.exports=ZT(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function WT(){if(Jy)return io;Jy=1;var a=$T(),e=Gd(),i=JT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===r){v=!0,r=h,l=f;break}if(T===l){v=!0,l=h,r=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===r){v=!0,r=f,l=h;break}if(T===l){v=!0,l=f,r=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Et=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case L:return"Fragment";case Q:return"Profiler";case $:return"StrictMode";case ct:return"Suspense";case Et:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case rt:return(t.displayName||"Context")+".Provider";case X:return(t._context.displayName||"Context")+".Consumer";case ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Rt(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return Rt(t(n))}catch{}}return null}var bt=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Ht=[],V=-1;function nt(t){return{current:t}}function lt(t){0>V||(t.current=Ht[V],Ht[V]=null,V--)}function at(t,n){V++,Ht[V]=t.current,t.current=n}var gt=nt(null),It=nt(null),St=nt(null),Ve=nt(null);function ne(t,n){switch(at(St,n),at(It,t),at(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?_y(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=_y(n),t=vy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(gt),at(gt,t)}function Kn(){lt(gt),lt(It),lt(St)}function Ji(t){t.memoizedState!==null&&at(Ve,t);var n=gt.current,r=vy(n,t.type);n!==r&&(at(It,t),at(gt,r))}function vi(t){It.current===t&&(lt(gt),lt(It)),Ve.current===t&&(lt(Ve),Zl._currentValue=mt)}var qr=Object.prototype.hasOwnProperty,Hr=a.unstable_scheduleCallback,Gr=a.unstable_cancelCallback,Ks=a.unstable_shouldYield,Uo=a.unstable_requestPaint,Sn=a.unstable_now,ih=a.unstable_getCurrentPriorityLevel,Xs=a.unstable_ImmediatePriority,La=a.unstable_UserBlockingPriority,Fr=a.unstable_NormalPriority,rh=a.unstable_LowPriority,Pa=a.unstable_IdlePriority,$s=a.log,Lo=a.unstable_setDisableYieldValue,he=null,Yt=null;function fn(t){if(typeof $s=="function"&&Lo(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(he,t)}catch{}}var Ye=Math.clz32?Math.clz32:Qr,Po=Math.log,ah=Math.LN2;function Qr(t){return t>>>=0,t===0?32:31-(Po(t)/ah|0)|0}var Yr=256,Kr=4194304;function Ln(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ba(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Ln(l):(v&=T,v!==0?h=Ln(v):r||(r=T&~t,r!==0&&(h=Ln(r))))):(T=l&~f,T!==0?h=Ln(T):v!==0?h=Ln(v):r||(r=l&~t,r!==0&&(h=Ln(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Xr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Zs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Js(){var t=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),t}function Ws(){var t=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),t}function Ei(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Ti(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tl(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(r=v&~r;0<r;){var Z=31-Ye(r),W=1<<Z;T[Z]=0,N[Z]=-1;var G=q[Z];if(G!==null)for(q[Z]=null,Z=0;Z<G.length;Z++){var F=G[Z];F!==null&&(F.lane&=-536870913)}r&=~W}l!==0&&Xn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Xn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function el(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function za(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function tr(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:By(t.type))}function Bo(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var ae=Math.random().toString(36).slice(2),be="__reactFiber$"+ae,_e="__reactProps$"+ae,An="__reactContainer$"+ae,nl="__reactEvents$"+ae,sh="__reactListeners$"+ae,er="__reactHandles$"+ae,zo="__reactResources$"+ae,$r="__reactMarker$"+ae;function nr(t){delete t[be],delete t[_e],delete t[nl],delete t[sh],delete t[er]}function Si(t){var n=t[be];if(n)return n;for(var r=t.parentNode;r;){if(n=r[An]||r[be]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ay(t);t!==null;){if(r=t[be])return r;t=Ay(t)}return n}t=r,r=t.parentNode}return null}function $n(t){if(t=t[be]||t[An]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function We(t){var n=t[zo];return n||(n=t[zo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function me(t){t[$r]=!0}var il=new Set,ja={};function Pn(t,n){Ai(t,n),Ai(t+"Capture",n)}function Ai(t,n){for(ja[t]=n,t=0;t<n.length;t++)il.add(n[t])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},Zr={};function qo(t){return qr.call(Zr,t)?!0:qr.call(ko,t)?!1:jo.test(t)?Zr[t]=!0:(ko[t]=!0,!1)}function ir(t,n,r){if(qo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function ze(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Jr,Ho;function bi(t){if(Jr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",Ho=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+t+Ho}var ka=!1;function qa(t,n){if(!t||ka)return"";ka=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var G=F}Reflect.construct(t,[],W)}else{try{W.call()}catch(F){G=F}t.call(W.prototype)}}else{try{throw Error()}catch(F){G=F}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&G&&typeof F.stack=="string")return[F.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var N=v.split(`
`),q=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===q.length)for(l=N.length-1,h=q.length-1;1<=l&&0<=h&&N[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==q[h]){var Z=`
`+N[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{ka=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?bi(r):""}function rl(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return qa(t.type,!1);case 11:return qa(t.type.render,!1);case 1:return qa(t.type,!0);case 31:return bi("Activity");default:return""}}function Ha(t){try{var n="";do n+=rl(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function al(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function lh(t){var n=al(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ga(t){t._valueTracker||(t._valueTracker=lh(t))}function sl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=al(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oh=/[\n"\\]/g;function ve(t){return t.replace(oh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function dn(t,n,r,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?rr(t,v,tn(n)):r!=null?rr(t,v,tn(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function ta(t,n,r,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function rr(t,n,r){n==="number"&&Wr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function wi(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function $t(t,n,r){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+tn(r):""}function ea(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(bt(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=tn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function bn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||na.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ll(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&Go(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Go(t,f,n[f])}function ol(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return ch.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ri=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Di=null;function ul(t){var n=$n(t);if(n&&(t=n.stateNode)){var r=t[_e]||null;t:switch(t=n.stateNode,n.type){case"input":if(dn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ve(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[_e]||null;if(!h)throw Error(s(90));dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&sl(l)}break t;case"textarea":$t(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&wi(t,!!r.multiple,n,!1)}}}var Wn=!1;function Fo(t,n,r){if(Wn)return t(n,r);Wn=!0;try{var l=t(n);return l}finally{if(Wn=!1,(Ci!==null||Di!==null)&&(Bu(),Ci&&(n=Ci,t=Di,Di=Ci=null,ul(n),t)))for(n=0;n<t.length;n++)ul(t[n])}}function ia(t,n){var r=t.stateNode;if(r===null)return null;var l=r[_e]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rn=!1;if(Bn)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Rn=!1}var ti=null,ar=null,Ni=null;function cl(){if(Ni)return Ni;var t,n=ar,r=n.length,l,h="value"in ti?ti.value:ti.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ei(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function hl(){return!1}function Oe(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ni:hl,this.isPropagationStopped=hl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),n}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Oe(Ft),aa=E({},Ft,{view:0,detail:0}),Qo=Oe(aa),Ya,Ka,ii,sa=E({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(Ya=t.screenX-ii.screenX,Ka=t.screenY-ii.screenY):Ka=Ya=0,ii=t),Ya)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),Cn=Oe(sa),Yo=E({},sa,{dataTransfer:0}),hh=Oe(Yo),la=E({},aa,{relatedTarget:0}),Xa=Oe(la),fl=E({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=Oe(fl),Ko=E({},Ft,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Za=Oe(Ko),fh=E({},Ft,{data:0}),dl=Oe(fh),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$o={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ml(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=$o[t])?!!n[t]:!1}function ua(){return ml}var Zo=E({},aa,{key:function(t){if(t.key){var n=oa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ja=Oe(Zo),Jo=E({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gl=Oe(Jo),xi=E({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),Wo=Oe(xi),tu=E({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),eu=Oe(tu),nu=E({},sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=Oe(nu),en=E({},Ft,{newState:0,oldState:0}),iu=Oe(en),ru=[9,13,27,32],ri=Bn&&"CompositionEvent"in window,u=null;Bn&&"documentMode"in document&&(u=document.documentMode);var m=Bn&&"TextEvent"in window&&!u,_=Bn&&(!ri||u&&8<u&&11>=u),S=" ",j=!1;function K(t,n){switch(t){case"keyup":return ru.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pt=!1;function we(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(j=!0,S);case"textInput":return t=n.data,t===S&&j?null:t;default:return null}}function Bt(t,n){if(Pt)return t==="compositionend"||!ri&&K(t,n)?(t=cl(),Ni=ar=ti=null,Pt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Me={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Me[t.type]:n==="textarea"}function Ii(t,n,r,l){Ci?Di?Di.push(l):Di=[l]:Ci=l,n=Gu(n,"onChange"),0<n.length&&(r=new Qa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var je=null,ai=null;function pl(t){dy(t,0)}function au(t){var n=Zn(t);if(sl(n))return t}function Mm(t,n){if(t==="change")return n}var Um=!1;if(Bn){var dh;if(Bn){var mh="oninput"in document;if(!mh){var Lm=document.createElement("div");Lm.setAttribute("oninput","return;"),mh=typeof Lm.oninput=="function"}dh=mh}else dh=!1;Um=dh&&(!document.documentMode||9<document.documentMode)}function Pm(){je&&(je.detachEvent("onpropertychange",Bm),ai=je=null)}function Bm(t){if(t.propertyName==="value"&&au(ai)){var n=[];Ii(n,ai,t,wn(t)),Fo(pl,n)}}function TE(t,n,r){t==="focusin"?(Pm(),je=n,ai=r,je.attachEvent("onpropertychange",Bm)):t==="focusout"&&Pm()}function SE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return au(ai)}function AE(t,n){if(t==="click")return au(n)}function bE(t,n){if(t==="input"||t==="change")return au(n)}function wE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var mn=typeof Object.is=="function"?Object.is:wE;function yl(t,n){if(mn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!qr.call(n,h)||!mn(t[h],n[h]))return!1}return!0}function zm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jm(t,n){var r=zm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=zm(r)}}function km(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?km(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Wr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Wr(t.document)}return n}function gh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var RE=Bn&&"documentMode"in document&&11>=document.documentMode,ts=null,ph=null,_l=null,yh=!1;function Hm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yh||ts==null||ts!==Wr(l)||(l=ts,"selectionStart"in l&&gh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&yl(_l,l)||(_l=l,l=Gu(ph,"onSelect"),0<l.length&&(n=new Qa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=ts)))}function ca(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var es={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},_h={},Gm={};Bn&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function ha(t){if(_h[t])return _h[t];if(!es[t])return t;var n=es[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Gm)return _h[t]=n[r];return t}var Fm=ha("animationend"),Qm=ha("animationiteration"),Ym=ha("animationstart"),CE=ha("transitionrun"),DE=ha("transitionstart"),NE=ha("transitioncancel"),Km=ha("transitionend"),Xm=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function zn(t,n){Xm.set(t,n),Pn(n,[t])}var $m=new WeakMap;function Dn(t,n){if(typeof t=="object"&&t!==null){var r=$m.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Ha(n)},$m.set(t,n),n)}return{value:t,source:n,stack:Ha(n)}}var Nn=[],ns=0,Eh=0;function su(){for(var t=ns,n=Eh=ns=0;n<t;){var r=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Zm(r,h,f)}}function lu(t,n,r,l){Nn[ns++]=t,Nn[ns++]=n,Nn[ns++]=r,Nn[ns++]=l,Eh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Th(t,n,r,l){return lu(t,n,r,l),ou(t)}function is(t,n){return lu(t,null,null,n),ou(t)}function Zm(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ye(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function ou(t){if(50<Hl)throw Hl=0,Df=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var rs={};function xE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,n,r,l){return new xE(t,n,r,l)}function Sh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,n){var r=t.alternate;return r===null?(r=gn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Jm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function uu(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")Sh(t)&&(v=1);else if(typeof t=="string")v=VT(t,r,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=gn(31,r,n,h),t.elementType=w,t.lanes=f,t;case L:return fa(r.children,h,f,n);case $:v=8,h|=24;break;case Q:return t=gn(12,r,n,h|2),t.elementType=Q,t.lanes=f,t;case ct:return t=gn(13,r,n,h),t.elementType=ct,t.lanes=f,t;case Et:return t=gn(19,r,n,h),t.elementType=Et,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:case rt:v=10;break t;case X:v=9;break t;case ut:v=11;break t;case x:v=14;break t;case A:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=gn(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function fa(t,n,r,l){return t=gn(7,t,l,n),t.lanes=r,t}function Ah(t,n,r){return t=gn(6,t,null,n),t.lanes=r,t}function bh(t,n,r){return n=gn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var as=[],ss=0,cu=null,hu=0,xn=[],In=0,da=null,Oi=1,Mi="";function ma(t,n){as[ss++]=hu,as[ss++]=cu,cu=t,hu=n}function Wm(t,n,r){xn[In++]=Oi,xn[In++]=Mi,xn[In++]=da,da=t;var l=Oi;t=Mi;var h=32-Ye(l)-1;l&=~(1<<h),r+=1;var f=32-Ye(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-Ye(n)+h|r<<h|l,Mi=f+t}else Oi=1<<f|r<<h|l,Mi=t}function wh(t){t.return!==null&&(ma(t,1),Wm(t,1,0))}function Rh(t){for(;t===cu;)cu=as[--ss],as[ss]=null,hu=as[--ss],as[ss]=null;for(;t===da;)da=xn[--In],xn[In]=null,Mi=xn[--In],xn[In]=null,Oi=xn[--In],xn[In]=null}var nn=null,fe=null,Gt=!1,ga=null,si=!1,Ch=Error(s(519));function pa(t){var n=Error(s(418,""));throw Tl(Dn(n,t)),Ch}function tg(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[be]=t,n[_e]=l,r){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(r=0;r<Fl.length;r++)Mt(Fl[r],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),ta(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ga(n);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),ea(n,l.value,l.defaultValue,l.children),Ga(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||yy(n.textContent,r)?(l.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),l.onScroll!=null&&Mt("scroll",n),l.onScrollEnd!=null&&Mt("scrollend",n),l.onClick!=null&&(n.onclick=Fu),n=!0):n=!1,n||pa(t)}function eg(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:nn=nn.return}}function vl(t){if(t!==nn)return!1;if(!Gt)return eg(t),Gt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Gf(t.type,t.memoizedProps)),r=!r),r&&fe&&pa(t),eg(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){fe=kn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}fe=null}}else n===27?(n=fe,Tr(t.type)?(t=Kf,Kf=null,fe=t):fe=n):fe=nn?kn(t.stateNode.nextSibling):null;return!0}function El(){fe=nn=null,Gt=!1}function ng(){var t=ga;return t!==null&&(on===null?on=t:on.push.apply(on,t),ga=null),t}function Tl(t){ga===null?ga=[t]:ga.push(t)}var Dh=nt(null),ya=null,Ui=null;function sr(t,n,r){at(Dh,n._currentValue),n._currentValue=r}function Li(t){t._currentValue=Dh.current,lt(Dh)}function Nh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function xh(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var N=0;N<n.length;N++)if(T.context===n[N]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Nh(f.return,r,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),Nh(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Sl(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}h=h.return}t!==null&&xh(n,t,r,l),n.flags|=262144}function fu(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function _a(t){ya=t,Ui=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ke(t){return ig(ya,t)}function du(t,n){return ya===null&&_a(t),ig(t,n)}function ig(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(t===null)throw Error(s(308));Ui=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ui=Ui.next=n;return r}var IE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},VE=a.unstable_scheduleCallback,OE=a.unstable_NormalPriority,Ce={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ih(){return{controller:new IE,data:new Map,refCount:0}}function Al(t){t.refCount--,t.refCount===0&&VE(OE,function(){t.controller.abort()})}var bl=null,Vh=0,ls=0,os=null;function ME(t,n){if(bl===null){var r=bl=[];Vh=0,ls=Uf(),os={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Vh++,n.then(rg,rg),n}function rg(){if(--Vh===0&&bl!==null){os!==null&&(os.status="fulfilled");var t=bl;bl=null,ls=0,os=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function UE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ag=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&ME(t,n),ag!==null&&ag(t,n)};var va=nt(null);function Oh(){var t=va.current;return t!==null?t:ie.pooledCache}function mu(t,n){n===null?at(va,va.current):at(va,n.pool)}function sg(){var t=Oh();return t===null?null:{parent:Ce._currentValue,pool:t}}var wl=Error(s(460)),lg=Error(s(474)),gu=Error(s(542)),Mh={then:function(){}};function og(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pu(){}function ug(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(pu,pu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hg(t),t;default:if(typeof n.status=="string")n.then(pu,pu);else{if(t=ie,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,hg(t),t}throw Rl=n,wl}}var Rl=null;function cg(){if(Rl===null)throw Error(s(459));var t=Rl;return Rl=null,t}function hg(t){if(t===wl||t===gu)throw Error(s(483))}var lr=!1;function Uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Kt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ou(t),Zm(t,null,r),n}return lu(t,l,n,r),ou(t)}function Cl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,el(t,r)}}function Ph(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Bh=!1;function Dl(){if(Bh){var t=os;if(t!==null)throw t}}function Nl(t,n,r,l){Bh=!1;var h=t.updateQueue;lr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,q=N.next;N.next=null,v===null?f=q:v.next=q,v=N;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==v&&(T===null?Z.firstBaseUpdate=q:T.next=q,Z.lastBaseUpdate=N))}if(f!==null){var W=h.baseState;v=0,Z=q=N=null,T=f;do{var G=T.lane&-536870913,F=G!==T.lane;if(F?(zt&G)===G:(l&G)===G){G!==0&&G===ls&&(Bh=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Tt=t,yt=T;G=n;var Wt=r;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){W=Tt.call(Wt,W,G);break t}W=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,G=typeof Tt=="function"?Tt.call(Wt,W,G):Tt,G==null)break t;W=E({},W,G);break t;case 2:lr=!0}}G=T.callback,G!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[G]:F.push(G))}else F={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(q=Z=F,N=W):Z=Z.next=F,v|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Z===null&&(N=W),h.baseState=N,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),yr|=v,t.lanes=v,t.memoizedState=W}}function fg(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function dg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)fg(r[t],n)}var us=nt(null),yu=nt(0);function mg(t,n){t=Hi,at(yu,t),at(us,n),Hi=t|n.baseLanes}function zh(){at(yu,Hi),at(us,us.current)}function jh(){Hi=yu.current,lt(us),lt(yu)}var cr=0,Nt=null,Zt=null,Ee=null,_u=!1,cs=!1,Ea=!1,vu=0,xl=0,hs=null,LE=0;function ge(){throw Error(s(321))}function kh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!mn(t[r],n[r]))return!1;return!0}function qh(t,n,r,l,h,f){return cr=f,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?Zg:Jg,Ea=!1,f=r(l,h),Ea=!1,cs&&(f=pg(n,r,l,h)),gg(t),f}function gg(t){Y.H=wu;var n=Zt!==null&&Zt.next!==null;if(cr=0,Ee=Zt=Nt=null,_u=!1,xl=0,hs=null,n)throw Error(s(300));t===null||Ue||(t=t.dependencies,t!==null&&fu(t)&&(Ue=!0))}function pg(t,n,r,l){Nt=t;var h=0;do{if(cs&&(hs=null),xl=0,cs=!1,25<=h)throw Error(s(301));if(h+=1,Ee=Zt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=HE,f=n(r,l)}while(cs);return f}function PE(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Il(n):n,t=t.useState()[0],(Zt!==null?Zt.memoizedState:null)!==t&&(Nt.flags|=1024),n}function Hh(){var t=vu!==0;return vu=0,t}function Gh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Fh(t){if(_u){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}_u=!1}cr=0,Ee=Zt=Nt=null,cs=!1,xl=vu=0,hs=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Nt.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function Te(){if(Zt===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var n=Ee===null?Nt.memoizedState:Ee.next;if(n!==null)Ee=n,Zt=t;else{if(t===null)throw Nt.alternate===null?Error(s(467)):Error(s(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Ee===null?Nt.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function Qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var n=xl;return xl+=1,hs===null&&(hs=[]),t=ug(hs,t,n),n=Nt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?Zg:Jg),t}function Eu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===rt)return Ke(t)}throw Error(s(438,String(t)))}function Yh(t){var n=null,r=Nt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Qh(),Nt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=D;return n.index++,r}function Pi(t,n){return typeof n=="function"?n(t):n}function Tu(t){var n=Te();return Kh(n,Zt,t)}function Kh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,N=null,q=n,Z=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(zt&W)===W:(cr&W)===W){var G=q.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===ls&&(Z=!0);else if((cr&G)===G){q=q.next,G===ls&&(Z=!0);continue}else W={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=W,v=f):N=N.next=W,Nt.lanes|=G,yr|=G;W=q.action,Ea&&r(f,W),f=q.hasEagerState?q.eagerState:r(f,W)}else G={lane:W,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=G,v=f):N=N.next=G,Nt.lanes|=W,yr|=W;q=q.next}while(q!==null&&q!==n);if(N===null?v=f:N.next=T,!mn(f,t.memoizedState)&&(Ue=!0,Z&&(r=os,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Xh(t){var n=Te(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);mn(f,n.memoizedState)||(Ue=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function yg(t,n,r){var l=Nt,h=Te(),f=Gt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!mn((Zt||h).memoizedState,r);v&&(h.memoizedState=r,Ue=!0),h=h.queue;var T=Eg.bind(null,l,h,t);if(Vl(2048,8,T,[t]),h.getSnapshot!==n||v||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,fs(9,Su(),vg.bind(null,l,h,r,n),null),ie===null)throw Error(s(349));f||(cr&124)!==0||_g(l,n,r)}return r}function _g(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Nt.updateQueue,n===null?(n=Qh(),Nt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function vg(t,n,r,l){n.value=r,n.getSnapshot=l,Tg(n)&&Sg(t)}function Eg(t,n,r){return r(function(){Tg(n)&&Sg(t)})}function Tg(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!mn(t,r)}catch{return!0}}function Sg(t){var n=is(t,2);n!==null&&En(n,t,2)}function $h(t){var n=sn();if(typeof t=="function"){var r=t;if(t=r(),Ea){fn(!0);try{r()}finally{fn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n}function Ag(t,n,r,l){return t.baseState=r,Kh(t,Zt,typeof l=="function"?l:Pi)}function BE(t,n,r,l,h){if(bu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Y.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,bg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function bg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Y.T,v={};Y.T=v;try{var T=r(h,l),N=Y.S;N!==null&&N(v,T),wg(t,n,T)}catch(q){Zh(t,n,q)}finally{Y.T=f}}else try{f=r(h,l),wg(t,n,f)}catch(q){Zh(t,n,q)}}function wg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Rg(t,n,l)},function(l){return Zh(t,n,l)}):Rg(t,n,r)}function Rg(t,n,r){n.status="fulfilled",n.value=r,Cg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,bg(t,r)))}function Zh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Cg(n),n=n.next;while(n!==l)}t.action=null}function Cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Dg(t,n){return n}function Ng(t,n){if(Gt){var r=ie.formState;if(r!==null){t:{var l=Nt;if(Gt){if(fe){e:{for(var h=fe,f=si;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){fe=kn(h.nextSibling),l=h.data==="F!";break t}}pa(l)}l=!1}l&&(n=r[0])}}return r=sn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dg,lastRenderedState:n},r.queue=l,r=Kg.bind(null,Nt,l),l.dispatch=r,l=$h(!1),f=nf.bind(null,Nt,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=BE.bind(null,Nt,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function xg(t){var n=Te();return Ig(n,Zt,t)}function Ig(t,n,r){if(n=Kh(t,n,Dg)[0],t=Tu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Il(n)}catch(v){throw v===wl?gu:v}else l=n;n=Te();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Nt.flags|=2048,fs(9,Su(),zE.bind(null,h,r),null)),[l,f,t]}function zE(t,n){t.action=n}function Vg(t){var n=Te(),r=Zt;if(r!==null)return Ig(n,r,t);Te(),n=n.memoizedState,r=Te();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function fs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Qh(),Nt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Su(){return{destroy:void 0,resource:void 0}}function Og(){return Te().memoizedState}function Au(t,n,r,l){var h=sn();l=l===void 0?null:l,Nt.flags|=t,h.memoizedState=fs(1|n,Su(),r,l)}function Vl(t,n,r,l){var h=Te();l=l===void 0?null:l;var f=h.memoizedState.inst;Zt!==null&&l!==null&&kh(l,Zt.memoizedState.deps)?h.memoizedState=fs(n,f,r,l):(Nt.flags|=t,h.memoizedState=fs(1|n,f,r,l))}function Mg(t,n){Au(8390656,8,t,n)}function Ug(t,n){Vl(2048,8,t,n)}function Lg(t,n){return Vl(4,2,t,n)}function Pg(t,n){return Vl(4,4,t,n)}function Bg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function zg(t,n,r){r=r!=null?r.concat([t]):null,Vl(4,4,Bg.bind(null,n,t),r)}function Jh(){}function jg(t,n){var r=Te();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&kh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function kg(t,n){var r=Te();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&kh(n,l[1]))return l[0];if(l=t(),Ea){fn(!0);try{t()}finally{fn(!1)}}return r.memoizedState=[l,n],l}function Wh(t,n,r){return r===void 0||(cr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Gp(),Nt.lanes|=t,yr|=t,r)}function qg(t,n,r,l){return mn(r,n)?r:us.current!==null?(t=Wh(t,r,l),mn(t,n)||(Ue=!0),t):(cr&42)===0?(Ue=!0,t.memoizedState=r):(t=Gp(),Nt.lanes|=t,yr|=t,n)}function Hg(t,n,r,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var v=Y.T,T={};Y.T=T,nf(t,!1,n,r);try{var N=h(),q=Y.S;if(q!==null&&q(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=UE(N,l);Ol(t,n,Z,vn(t))}else Ol(t,n,l,vn(t))}catch(W){Ol(t,n,{then:function(){},status:"rejected",reason:W},vn())}finally{et.p=f,Y.T=v}}function jE(){}function tf(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=Gg(t).queue;Hg(t,h,n,mt,r===null?jE:function(){return Fg(t),r(l)})}function Gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:mt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Fg(t){var n=Gg(t).next.queue;Ol(t,n,{},vn())}function ef(){return Ke(Zl)}function Qg(){return Te().memoizedState}function Yg(){return Te().memoizedState}function kE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=vn();t=or(r);var l=ur(n,t,r);l!==null&&(En(l,n,r),Cl(l,n,r)),n={cache:Ih()},t.payload=n;return}n=n.return}}function qE(t,n,r){var l=vn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},bu(t)?Xg(n,r):(r=Th(t,n,r,l),r!==null&&(En(r,t,l),$g(r,n,l)))}function Kg(t,n,r){var l=vn();Ol(t,n,r,l)}function Ol(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(bu(t))Xg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,r);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return lu(t,n,h,0),ie===null&&su(),!1}catch{}finally{}if(r=Th(t,n,h,l),r!==null)return En(r,t,l),$g(r,n,l),!0}return!1}function nf(t,n,r,l){if(l={lane:2,revertLane:Uf(),action:l,hasEagerState:!1,eagerState:null,next:null},bu(t)){if(n)throw Error(s(479))}else n=Th(t,r,l,2),n!==null&&En(n,t,2)}function bu(t){var n=t.alternate;return t===Nt||n!==null&&n===Nt}function Xg(t,n){cs=_u=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function $g(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,el(t,r)}}var wu={readContext:Ke,use:Eu,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Zg={readContext:Ke,use:Eu,useCallback:function(t,n){return sn().memoizedState=[t,n===void 0?null:n],t},useContext:Ke,useEffect:Mg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Au(4194308,4,Bg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Au(4194308,4,t,n)},useInsertionEffect:function(t,n){Au(4,2,t,n)},useMemo:function(t,n){var r=sn();n=n===void 0?null:n;var l=t();if(Ea){fn(!0);try{t()}finally{fn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=sn();if(r!==void 0){var h=r(n);if(Ea){fn(!0);try{r(n)}finally{fn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=qE.bind(null,Nt,t),[l.memoizedState,t]},useRef:function(t){var n=sn();return t={current:t},n.memoizedState=t},useState:function(t){t=$h(t);var n=t.queue,r=Kg.bind(null,Nt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Jh,useDeferredValue:function(t,n){var r=sn();return Wh(r,t,n)},useTransition:function(){var t=$h(!1);return t=Hg.bind(null,Nt,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Nt,h=sn();if(Gt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ie===null)throw Error(s(349));(zt&124)!==0||_g(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Mg(Eg.bind(null,l,f,t),[t]),l.flags|=2048,fs(9,Su(),vg.bind(null,l,f,r,n),null),r},useId:function(){var t=sn(),n=ie.identifierPrefix;if(Gt){var r=Mi,l=Oi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=vu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=LE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ef,useFormState:Ng,useActionState:Ng,useOptimistic:function(t){var n=sn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=nf.bind(null,Nt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Yh,useCacheRefresh:function(){return sn().memoizedState=kE.bind(null,Nt)}},Jg={readContext:Ke,use:Eu,useCallback:jg,useContext:Ke,useEffect:Ug,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:Pg,useMemo:kg,useReducer:Tu,useRef:Og,useState:function(){return Tu(Pi)},useDebugValue:Jh,useDeferredValue:function(t,n){var r=Te();return qg(r,Zt.memoizedState,t,n)},useTransition:function(){var t=Tu(Pi)[0],n=Te().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:ef,useFormState:xg,useActionState:xg,useOptimistic:function(t,n){var r=Te();return Ag(r,Zt,t,n)},useMemoCache:Yh,useCacheRefresh:Yg},HE={readContext:Ke,use:Eu,useCallback:jg,useContext:Ke,useEffect:Ug,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:Pg,useMemo:kg,useReducer:Xh,useRef:Og,useState:function(){return Xh(Pi)},useDebugValue:Jh,useDeferredValue:function(t,n){var r=Te();return Zt===null?Wh(r,t,n):qg(r,Zt.memoizedState,t,n)},useTransition:function(){var t=Xh(Pi)[0],n=Te().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:yg,useId:Qg,useHostTransitionStatus:ef,useFormState:Vg,useActionState:Vg,useOptimistic:function(t,n){var r=Te();return Zt!==null?Ag(r,Zt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Yh,useCacheRefresh:Yg},ds=null,Ml=0;function Ru(t){var n=Ml;return Ml+=1,ds===null&&(ds=[]),ug(ds,t,n)}function Ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Cu(t,n){throw n.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wg(t){var n=t._init;return n(t._payload)}function tp(t){function n(z,M){if(t){var k=z.deletions;k===null?(z.deletions=[M],z.flags|=16):k.push(M)}}function r(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function h(z,M){return z=Vi(z,M),z.index=0,z.sibling=null,z}function f(z,M,k){return z.index=k,t?(k=z.alternate,k!==null?(k=k.index,k<M?(z.flags|=67108866,M):k):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function v(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,M,k,J){return M===null||M.tag!==6?(M=Ah(k,z.mode,J),M.return=z,M):(M=h(M,k),M.return=z,M)}function N(z,M,k,J){var ht=k.type;return ht===L?Z(z,M,k.props.children,J,k.key):M!==null&&(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Wg(ht)===M.type)?(M=h(M,k.props),Ul(M,k),M.return=z,M):(M=uu(k.type,k.key,k.props,null,z.mode,J),Ul(M,k),M.return=z,M)}function q(z,M,k,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==k.containerInfo||M.stateNode.implementation!==k.implementation?(M=bh(k,z.mode,J),M.return=z,M):(M=h(M,k.children||[]),M.return=z,M)}function Z(z,M,k,J,ht){return M===null||M.tag!==7?(M=fa(k,z.mode,J,ht),M.return=z,M):(M=h(M,k),M.return=z,M)}function W(z,M,k){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ah(""+M,z.mode,k),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return k=uu(M.type,M.key,M.props,null,z.mode,k),Ul(k,M),k.return=z,k;case B:return M=bh(M,z.mode,k),M.return=z,M;case A:var J=M._init;return M=J(M._payload),W(z,M,k)}if(bt(M)||O(M))return M=fa(M,z.mode,k,null),M.return=z,M;if(typeof M.then=="function")return W(z,Ru(M),k);if(M.$$typeof===rt)return W(z,du(z,M),k);Cu(z,M)}return null}function G(z,M,k,J){var ht=M!==null?M.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ht!==null?null:T(z,M,""+k,J);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return k.key===ht?N(z,M,k,J):null;case B:return k.key===ht?q(z,M,k,J):null;case A:return ht=k._init,k=ht(k._payload),G(z,M,k,J)}if(bt(k)||O(k))return ht!==null?null:Z(z,M,k,J,null);if(typeof k.then=="function")return G(z,M,Ru(k),J);if(k.$$typeof===rt)return G(z,M,du(z,k),J);Cu(z,k)}return null}function F(z,M,k,J,ht){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(k)||null,T(M,z,""+J,ht);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case b:return z=z.get(J.key===null?k:J.key)||null,N(M,z,J,ht);case B:return z=z.get(J.key===null?k:J.key)||null,q(M,z,J,ht);case A:var Vt=J._init;return J=Vt(J._payload),F(z,M,k,J,ht)}if(bt(J)||O(J))return z=z.get(k)||null,Z(M,z,J,ht,null);if(typeof J.then=="function")return F(z,M,k,Ru(J),ht);if(J.$$typeof===rt)return F(z,M,k,du(M,J),ht);Cu(M,J)}return null}function Tt(z,M,k,J){for(var ht=null,Vt=null,dt=M,_t=M=0,Pe=null;dt!==null&&_t<k.length;_t++){dt.index>_t?(Pe=dt,dt=null):Pe=dt.sibling;var qt=G(z,dt,k[_t],J);if(qt===null){dt===null&&(dt=Pe);break}t&&dt&&qt.alternate===null&&n(z,dt),M=f(qt,M,_t),Vt===null?ht=qt:Vt.sibling=qt,Vt=qt,dt=Pe}if(_t===k.length)return r(z,dt),Gt&&ma(z,_t),ht;if(dt===null){for(;_t<k.length;_t++)dt=W(z,k[_t],J),dt!==null&&(M=f(dt,M,_t),Vt===null?ht=dt:Vt.sibling=dt,Vt=dt);return Gt&&ma(z,_t),ht}for(dt=l(dt);_t<k.length;_t++)Pe=F(dt,z,_t,k[_t],J),Pe!==null&&(t&&Pe.alternate!==null&&dt.delete(Pe.key===null?_t:Pe.key),M=f(Pe,M,_t),Vt===null?ht=Pe:Vt.sibling=Pe,Vt=Pe);return t&&dt.forEach(function(Rr){return n(z,Rr)}),Gt&&ma(z,_t),ht}function yt(z,M,k,J){if(k==null)throw Error(s(151));for(var ht=null,Vt=null,dt=M,_t=M=0,Pe=null,qt=k.next();dt!==null&&!qt.done;_t++,qt=k.next()){dt.index>_t?(Pe=dt,dt=null):Pe=dt.sibling;var Rr=G(z,dt,qt.value,J);if(Rr===null){dt===null&&(dt=Pe);break}t&&dt&&Rr.alternate===null&&n(z,dt),M=f(Rr,M,_t),Vt===null?ht=Rr:Vt.sibling=Rr,Vt=Rr,dt=Pe}if(qt.done)return r(z,dt),Gt&&ma(z,_t),ht;if(dt===null){for(;!qt.done;_t++,qt=k.next())qt=W(z,qt.value,J),qt!==null&&(M=f(qt,M,_t),Vt===null?ht=qt:Vt.sibling=qt,Vt=qt);return Gt&&ma(z,_t),ht}for(dt=l(dt);!qt.done;_t++,qt=k.next())qt=F(dt,z,_t,qt.value,J),qt!==null&&(t&&qt.alternate!==null&&dt.delete(qt.key===null?_t:qt.key),M=f(qt,M,_t),Vt===null?ht=qt:Vt.sibling=qt,Vt=qt);return t&&dt.forEach(function(GT){return n(z,GT)}),Gt&&ma(z,_t),ht}function Wt(z,M,k,J){if(typeof k=="object"&&k!==null&&k.type===L&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case b:t:{for(var ht=k.key;M!==null;){if(M.key===ht){if(ht=k.type,ht===L){if(M.tag===7){r(z,M.sibling),J=h(M,k.props.children),J.return=z,z=J;break t}}else if(M.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Wg(ht)===M.type){r(z,M.sibling),J=h(M,k.props),Ul(J,k),J.return=z,z=J;break t}r(z,M);break}else n(z,M);M=M.sibling}k.type===L?(J=fa(k.props.children,z.mode,J,k.key),J.return=z,z=J):(J=uu(k.type,k.key,k.props,null,z.mode,J),Ul(J,k),J.return=z,z=J)}return v(z);case B:t:{for(ht=k.key;M!==null;){if(M.key===ht)if(M.tag===4&&M.stateNode.containerInfo===k.containerInfo&&M.stateNode.implementation===k.implementation){r(z,M.sibling),J=h(M,k.children||[]),J.return=z,z=J;break t}else{r(z,M);break}else n(z,M);M=M.sibling}J=bh(k,z.mode,J),J.return=z,z=J}return v(z);case A:return ht=k._init,k=ht(k._payload),Wt(z,M,k,J)}if(bt(k))return Tt(z,M,k,J);if(O(k)){if(ht=O(k),typeof ht!="function")throw Error(s(150));return k=ht.call(k),yt(z,M,k,J)}if(typeof k.then=="function")return Wt(z,M,Ru(k),J);if(k.$$typeof===rt)return Wt(z,M,du(z,k),J);Cu(z,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,M!==null&&M.tag===6?(r(z,M.sibling),J=h(M,k),J.return=z,z=J):(r(z,M),J=Ah(k,z.mode,J),J.return=z,z=J),v(z)):r(z,M)}return function(z,M,k,J){try{Ml=0;var ht=Wt(z,M,k,J);return ds=null,ht}catch(dt){if(dt===wl||dt===gu)throw dt;var Vt=gn(29,dt,null,z.mode);return Vt.lanes=J,Vt.return=z,Vt}finally{}}}var ms=tp(!0),ep=tp(!1),Vn=nt(null),li=null;function hr(t){var n=t.alternate;at(De,De.current&1),at(Vn,t),li===null&&(n===null||us.current!==null||n.memoizedState!==null)&&(li=t)}function np(t){if(t.tag===22){if(at(De,De.current),at(Vn,t),li===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(li=t)}}else fr()}function fr(){at(De,De.current),at(Vn,Vn.current)}function Bi(t){lt(Vn),li===t&&(li=null),lt(De)}var De=nt(0);function Du(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Yf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function rf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var af={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=vn(),h=or(l);h.payload=n,r!=null&&(h.callback=r),n=ur(t,h,l),n!==null&&(En(n,t,l),Cl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=vn(),h=or(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ur(t,h,l),n!==null&&(En(n,t,l),Cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=vn(),l=or(r);l.tag=2,n!=null&&(l.callback=n),n=ur(t,l,r),n!==null&&(En(n,t,r),Cl(n,t,r))}};function ip(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!yl(r,l)||!yl(h,f):!0}function rp(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&af.enqueueReplaceState(n,n.state,null)}function Ta(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function ap(t){Nu(t)}function sp(t){console.error(t)}function lp(t){Nu(t)}function xu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function op(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function sf(t,n,r){return r=or(r),r.tag=3,r.payload={element:null},r.callback=function(){xu(t,n)},r}function up(t){return t=or(t),t.tag=3,t}function cp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){op(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){op(n,r,l),typeof h!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function GE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Sl(n,r,h,!0),r=Vn.current,r!==null){switch(r.tag){case 13:return li===null?xf():r.alternate===null&&de===0&&(de=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Mh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Vf(t,l,h)),!1;case 22:return r.flags|=65536,l===Mh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Vf(t,l,h)),!1}throw Error(s(435,r.tag))}return Vf(t,l,h),xf(),!1}if(Gt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ch&&(t=Error(s(422),{cause:l}),Tl(Dn(t,r)))):(l!==Ch&&(n=Error(s(423),{cause:l}),Tl(Dn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,r),h=sf(t.stateNode,l,h),Ph(t,h),de!==4&&(de=2)),!1;var f=Error(s(520),{cause:l});if(f=Dn(f,r),ql===null?ql=[f]:ql.push(f),de!==4&&(de=2),n===null)return!0;l=Dn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=sf(r.stateNode,l,t),Ph(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=up(h),cp(h,t,r,l),Ph(r,h),!1}r=r.return}while(r!==null);return!1}var hp=Error(s(461)),Ue=!1;function ke(t,n,r,l){n.child=t===null?ep(n,null,r,l):ms(n,t.child,r,l)}function fp(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return _a(n),l=qh(t,n,r,v,f,h),T=Hh(),t!==null&&!Ue?(Gh(t,n,h),zi(t,n,h)):(Gt&&T&&wh(n),n.flags|=1,ke(t,n,l,h),n.child)}function dp(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!Sh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,mp(t,n,f,l,h)):(t=uu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!mf(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:yl,r(v,l)&&t.ref===n.ref)return zi(t,n,h)}return n.flags|=1,t=Vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function mp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(yl(f,l)&&t.ref===n.ref)if(Ue=!1,n.pendingProps=l=f,mf(t,h))(t.flags&131072)!==0&&(Ue=!0);else return n.lanes=t.lanes,zi(t,n,h)}return lf(t,n,r,l,h)}function gp(t,n,r){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return pp(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&mu(n,f!==null?f.cachePool:null),f!==null?mg(n,f):zh(),np(n);else return n.lanes=n.childLanes=536870912,pp(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(mu(n,f.cachePool),mg(n,f),fr(),n.memoizedState=null):(t!==null&&mu(n,null),zh(),fr());return ke(t,n,h,r),n.child}function pp(t,n,r,l){var h=Oh();return h=h===null?null:{parent:Ce._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&mu(n,null),zh(),np(n),t!==null&&Sl(t,n,l,!0),null}function Iu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function lf(t,n,r,l,h){return _a(n),r=qh(t,n,r,l,void 0,h),l=Hh(),t!==null&&!Ue?(Gh(t,n,h),zi(t,n,h)):(Gt&&l&&wh(n),n.flags|=1,ke(t,n,r,h),n.child)}function yp(t,n,r,l,h,f){return _a(n),n.updateQueue=null,r=pg(n,l,r,h),gg(t),l=Hh(),t!==null&&!Ue?(Gh(t,n,f),zi(t,n,f)):(Gt&&l&&wh(n),n.flags|=1,ke(t,n,r,f),n.child)}function _p(t,n,r,l,h){if(_a(n),n.stateNode===null){var f=rs,v=r.contextType;typeof v=="object"&&v!==null&&(f=Ke(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=af,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Uh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?Ke(v):rs,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(rf(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&af.enqueueReplaceState(f,f.state,null),Nl(n,l,f,h),Dl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,N=Ta(r,T);f.props=N;var q=f.context,Z=r.contextType;v=rs,typeof Z=="object"&&Z!==null&&(v=Ke(Z));var W=r.getDerivedStateFromProps;Z=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||q!==v)&&rp(n,f,l,v),lr=!1;var G=n.memoizedState;f.state=G,Nl(n,l,f,h),Dl(),q=n.memoizedState,T||G!==q||lr?(typeof W=="function"&&(rf(n,r,W,l),q=n.memoizedState),(N=lr||ip(n,r,N,l,G,q,v))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=v,l=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Lh(t,n),v=n.memoizedProps,Z=Ta(r,v),f.props=Z,W=n.pendingProps,G=f.context,q=r.contextType,N=rs,typeof q=="object"&&q!==null&&(N=Ke(q)),T=r.getDerivedStateFromProps,(q=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==W||G!==N)&&rp(n,f,l,N),lr=!1,G=n.memoizedState,f.state=G,Nl(n,l,f,h),Dl();var F=n.memoizedState;v!==W||G!==F||lr||t!==null&&t.dependencies!==null&&fu(t.dependencies)?(typeof T=="function"&&(rf(n,r,T,l),F=n.memoizedState),(Z=lr||ip(n,r,Z,l,G,F,N)||t!==null&&t.dependencies!==null&&fu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=N,l=Z):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Iu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ms(n,t.child,null,h),n.child=ms(n,null,r,h)):ke(t,n,r,h),n.memoizedState=f.state,t=n.child):t=zi(t,n,h),t}function vp(t,n,r,l){return El(),n.flags|=256,ke(t,n,r,l),n.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(t){return{baseLanes:t,cachePool:sg()}}function cf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=On),t}function Ep(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Gt){if(h?hr(n):fr(),Gt){var T=fe,N;if(N=T){t:{for(N=T,T=si;N.nodeType!==8;){if(!T){T=null;break t}if(N=kn(N.nextSibling),N===null){T=null;break t}}T=N}T!==null?(n.memoizedState={dehydrated:T,treeContext:da!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},N=gn(18,null,null,0),N.stateNode=T,N.return=n,n.child=N,nn=n,fe=null,N=!0):N=!1}N||pa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Yf(T)?n.lanes=32:n.lanes=536870912,null;Bi(n)}return T=l.children,l=l.fallback,h?(fr(),h=n.mode,T=Vu({mode:"hidden",children:T},h),l=fa(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=uf(r),h.childLanes=cf(t,v,r),n.memoizedState=of,l):(hr(n),hf(n,T))}if(N=t.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(f)n.flags&256?(hr(n),n.flags&=-257,n=ff(t,n,r)):n.memoizedState!==null?(fr(),n.child=t.child,n.flags|=128,n=null):(fr(),h=l.fallback,T=n.mode,l=Vu({mode:"visible",children:l.children},T),h=fa(h,T,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ms(n,t.child,null,r),l=n.child,l.memoizedState=uf(r),l.childLanes=cf(t,v,r),n.memoizedState=of,n=h);else if(hr(n),Yf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var q=v.dgst;v=q,l=Error(s(419)),l.stack="",l.digest=v,Tl({value:l,source:null,stack:null}),n=ff(t,n,r)}else if(Ue||Sl(t,n,r,!1),v=(r&t.childLanes)!==0,Ue||v){if(v=ie,v!==null&&(l=r&-r,l=(l&42)!==0?1:Wi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,is(t,l),En(v,t,l),hp;T.data==="$?"||xf(),n=ff(t,n,r)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=N.treeContext,fe=kn(T.nextSibling),nn=n,Gt=!0,ga=null,si=!1,t!==null&&(xn[In++]=Oi,xn[In++]=Mi,xn[In++]=da,Oi=t.id,Mi=t.overflow,da=n),n=hf(n,l.children),n.flags|=4096);return n}return h?(fr(),h=l.fallback,T=n.mode,N=t.child,q=N.sibling,l=Vi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?h=Vi(q,h):(h=fa(h,T,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=uf(r):(N=T.cachePool,N!==null?(q=Ce._currentValue,N=N.parent!==q?{parent:q,pool:q}:N):N=sg(),T={baseLanes:T.baseLanes|r,cachePool:N}),h.memoizedState=T,h.childLanes=cf(t,v,r),n.memoizedState=of,l):(hr(n),r=t.child,t=r.sibling,r=Vi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function hf(t,n){return n=Vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Vu(t,n){return t=gn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function ff(t,n,r){return ms(n,t.child,null,r),t=hf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Tp(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Nh(t.return,n,r)}function df(t,n,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function Sp(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(ke(t,n,l.children,r),l=De.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tp(t,r,n);else if(t.tag===19)Tp(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(at(De,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Du(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),df(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Du(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}df(n,!0,r,null,f);break;case"together":df(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function zi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),yr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Sl(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Vi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Vi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fu(t)))}function FE(t,n,r){switch(n.tag){case 3:ne(n,n.stateNode.containerInfo),sr(n,Ce,t.memoizedState.cache),El();break;case 27:case 5:Ji(n);break;case 4:ne(n,n.stateNode.containerInfo);break;case 10:sr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(hr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ep(t,n,r):(hr(n),t=zi(t,n,r),t!==null?t.sibling:null);hr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Sl(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return Sp(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(De,De.current),l)break;return null;case 22:case 23:return n.lanes=0,gp(t,n,r);case 24:sr(n,Ce,t.memoizedState.cache)}return zi(t,n,r)}function Ap(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ue=!0;else{if(!mf(t,r)&&(n.flags&128)===0)return Ue=!1,FE(t,n,r);Ue=(t.flags&131072)!==0}else Ue=!1,Gt&&(n.flags&1048576)!==0&&Wm(n,hu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Sh(l)?(t=Ta(l,t),n.tag=1,n=_p(null,n,l,t,r)):(n.tag=0,n=lf(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===ut){n.tag=11,n=fp(null,n,l,t,r);break t}else if(h===x){n.tag=14,n=dp(null,n,l,t,r);break t}}throw n=Rt(l)||l,Error(s(306,n,""))}}return n;case 0:return lf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=Ta(l,n.pendingProps),_p(t,n,l,h,r);case 3:t:{if(ne(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Lh(t,n),Nl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,sr(n,Ce,l),l!==f.cache&&xh(n,[Ce],r,!0),Dl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=vp(t,n,l,r);break t}else if(l!==h){h=Dn(Error(s(424)),n),Tl(h),n=vp(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(fe=kn(t.firstChild),nn=n,Gt=!0,ga=null,si=!0,r=ep(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(El(),l===h){n=zi(t,n,r);break t}ke(t,n,l,r)}n=n.child}return n;case 26:return Iu(t,n),t===null?(r=Cy(n.type,null,n.pendingProps,null))?n.memoizedState=r:Gt||(r=n.type,t=n.pendingProps,l=Qu(St.current).createElement(r),l[be]=n,l[_e]=t,He(l,r,t),me(l),n.stateNode=l):n.memoizedState=Cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ji(n),t===null&&Gt&&(l=n.stateNode=by(n.type,n.pendingProps,St.current),nn=n,si=!0,h=fe,Tr(n.type)?(Kf=h,fe=kn(l.firstChild)):fe=h),ke(t,n,n.pendingProps.children,r),Iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Gt&&((h=l=fe)&&(l=vT(l,n.type,n.pendingProps,si),l!==null?(n.stateNode=l,nn=n,fe=kn(l.firstChild),si=!1,h=!0):h=!1),h||pa(n)),Ji(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Gf(h,f)?l=null:v!==null&&Gf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=qh(t,n,PE,null,null,r),Zl._currentValue=h),Iu(t,n),ke(t,n,l,r),n.child;case 6:return t===null&&Gt&&((t=r=fe)&&(r=ET(r,n.pendingProps,si),r!==null?(n.stateNode=r,nn=n,fe=null,t=!0):t=!1),t||pa(n)),null;case 13:return Ep(t,n,r);case 4:return ne(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ms(n,null,l,r):ke(t,n,l,r),n.child;case 11:return fp(t,n,n.type,n.pendingProps,r);case 7:return ke(t,n,n.pendingProps,r),n.child;case 8:return ke(t,n,n.pendingProps.children,r),n.child;case 12:return ke(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,sr(n,n.type,l.value),ke(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,_a(n),h=Ke(h),l=l(h),n.flags|=1,ke(t,n,l,r),n.child;case 14:return dp(t,n,n.type,n.pendingProps,r);case 15:return mp(t,n,n.type,n.pendingProps,r);case 19:return Sp(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Vu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Vi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return gp(t,n,r);case 24:return _a(n),l=Ke(Ce),t===null?(h=Oh(),h===null&&(h=ie,f=Ih(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},Uh(n),sr(n,Ce,h)):((t.lanes&r)!==0&&(Lh(t,n),Nl(n,null,null,r),Dl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),sr(n,Ce,l)):(l=f.cache,sr(n,Ce,l),l!==h.cache&&xh(n,[Ce],r,!0))),ke(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ji(t){t.flags|=4}function bp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vy(n)){if(n=Vn.current,n!==null&&((zt&4194048)===zt?li!==null:(zt&62914560)!==zt&&(zt&536870912)===0||n!==li))throw Rl=Mh,lg;t.flags|=8192}}function Ou(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ws():536870912,t.lanes|=n,_s|=n)}function Ll(t,n){if(!Gt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function oe(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function QE(t,n,r){var l=n.pendingProps;switch(Rh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Li(Ce),Kn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vl(n)?ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ng())),oe(n),null;case 26:return r=n.memoizedState,t===null?(ji(n),r!==null?(oe(n),bp(n,r)):(oe(n),n.flags&=-16777217)):r?r!==t.memoizedState?(ji(n),oe(n),bp(n,r)):(oe(n),n.flags&=-16777217):(t.memoizedProps!==l&&ji(n),oe(n),n.flags&=-16777217),null;case 27:vi(n),r=St.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return oe(n),null}t=gt.current,vl(n)?tg(n):(t=by(h,l,r),n.stateNode=t,ji(n))}return oe(n),null;case 5:if(vi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return oe(n),null}if(t=gt.current,vl(n))tg(n);else{switch(h=Qu(St.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[be]=n,t[_e]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(He(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ji(n)}}return oe(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,vl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[be]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||yy(t.nodeValue,r)),t||pa(n)}else t=Qu(t).createTextNode(l),t[be]=n,n.stateNode=t}return oe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=vl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[be]=n}else El(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=ng(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Bi(n),n):(Bi(n),null)}if(Bi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Ou(n,n.updateQueue),oe(n),null;case 4:return Kn(),t===null&&zf(n.stateNode.containerInfo),oe(n),null;case 10:return Li(n.type),oe(n),null;case 19:if(lt(De),h=n.memoizedState,h===null)return oe(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Ll(h,!1);else{if(de!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Du(t),f!==null){for(n.flags|=128,Ll(h,!1),t=f.updateQueue,n.updateQueue=t,Ou(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Jm(r,t),r=r.sibling;return at(De,De.current&1|2),n.child}t=t.sibling}h.tail!==null&&Sn()>Lu&&(n.flags|=128,l=!0,Ll(h,!1),n.lanes=4194304)}else{if(!l)if(t=Du(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Ou(n,t),Ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Gt)return oe(n),null}else 2*Sn()-h.renderingStartTime>Lu&&r!==536870912&&(n.flags|=128,l=!0,Ll(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Sn(),n.sibling=null,t=De.current,at(De,l?t&1|2:t&1),n):(oe(n),null);case 22:case 23:return Bi(n),jh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),r=n.updateQueue,r!==null&&Ou(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&lt(va),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Li(Ce),oe(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function YE(t,n){switch(Rh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Li(Ce),Kn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return vi(n),null;case 13:if(Bi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));El()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(De),null;case 4:return Kn(),null;case 10:return Li(n.type),null;case 22:case 23:return Bi(n),jh(),t!==null&&lt(va),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Li(Ce),null;case 25:return null;default:return null}}function wp(t,n){switch(Rh(n),n.tag){case 3:Li(Ce),Kn();break;case 26:case 27:case 5:vi(n);break;case 4:Kn();break;case 13:Bi(n);break;case 19:lt(De);break;case 10:Li(n.type);break;case 22:case 23:Bi(n),jh(),t!==null&&lt(va);break;case 24:Li(Ce)}}function Pl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(T){te(n,n.return,T)}}function dr(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var N=r,q=T;try{q()}catch(Z){te(h,N,Z)}}}l=l.next}while(l!==f)}}catch(Z){te(n,n.return,Z)}}function Rp(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{dg(n,r)}catch(l){te(t,t.return,l)}}}function Cp(t,n,r){r.props=Ta(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){te(t,n,l)}}function Bl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){te(t,n,h)}}function oi(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){te(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){te(t,n,h)}else r.current=null}function Dp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){te(t,t.return,h)}}function gf(t,n,r){try{var l=t.stateNode;mT(l,t.type,r,n),l[_e]=n}catch(h){te(t,t.return,h)}}function Np(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Tr(t.type)||t.tag===4}function pf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Np(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Fu));else if(l!==4&&(l===27&&Tr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(yf(t,n,r),t=t.sibling;t!==null;)yf(t,n,r),t=t.sibling}function Mu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&Tr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Mu(t,n,r),t=t.sibling;t!==null;)Mu(t,n,r),t=t.sibling}function xp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,r),n[be]=t,n[_e]=r}catch(f){te(t,t.return,f)}}var ki=!1,pe=!1,_f=!1,Ip=typeof WeakSet=="function"?WeakSet:Set,Le=null;function KE(t,n){if(t=t.containerInfo,qf=Ju,t=qm(t),gh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,T=-1,N=-1,q=0,Z=0,W=t,G=null;e:for(;;){for(var F;W!==r||h!==0&&W.nodeType!==3||(T=v+h),W!==f||l!==0&&W.nodeType!==3||(N=v+l),W.nodeType===3&&(v+=W.nodeValue.length),(F=W.firstChild)!==null;)G=W,W=F;for(;;){if(W===t)break e;if(G===r&&++q===h&&(T=v),G===f&&++Z===l&&(N=v),(F=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=F}r=T===-1||N===-1?null:{start:T,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hf={focusedElem:t,selectionRange:r},Ju=!1,Le=n;Le!==null;)if(n=Le,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Le=t;else for(;Le!==null;){switch(n=Le,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Tt=Ta(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){te(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Qf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Le=t;break}Le=n.return}}function Vp(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:mr(t,r),l&4&&Pl(5,r);break;case 1:if(mr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){te(r,r.return,v)}else{var h=Ta(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){te(r,r.return,v)}}l&64&&Rp(r),l&512&&Bl(r,r.return);break;case 3:if(mr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{dg(t,n)}catch(v){te(r,r.return,v)}}break;case 27:n===null&&l&4&&xp(r);case 26:case 5:mr(t,r),n===null&&l&4&&Dp(r),l&512&&Bl(r,r.return);break;case 12:mr(t,r);break;case 13:mr(t,r),l&4&&Up(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=iT.bind(null,r),TT(t,r))));break;case 22:if(l=r.memoizedState!==null||ki,!l){n=n!==null&&n.memoizedState!==null||pe,h=ki;var f=pe;ki=l,(pe=n)&&!f?gr(t,r,(r.subtreeFlags&8772)!==0):mr(t,r),ki=h,pe=f}break;case 30:break;default:mr(t,r)}}function Op(t){var n=t.alternate;n!==null&&(t.alternate=null,Op(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&nr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,ln=!1;function qi(t,n,r){for(r=r.child;r!==null;)Mp(t,n,r),r=r.sibling}function Mp(t,n,r){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(he,r)}catch{}switch(r.tag){case 26:pe||oi(r,n),qi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:pe||oi(r,n);var l=se,h=ln;Tr(r.type)&&(se=r.stateNode,ln=!1),qi(t,n,r),Yl(r.stateNode),se=l,ln=h;break;case 5:pe||oi(r,n);case 6:if(l=se,h=ln,se=null,qi(t,n,r),se=l,ln=h,se!==null)if(ln)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(r.stateNode)}catch(f){te(r,n,f)}else try{se.removeChild(r.stateNode)}catch(f){te(r,n,f)}break;case 18:se!==null&&(ln?(t=se,Sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),eo(t)):Sy(se,r.stateNode));break;case 4:l=se,h=ln,se=r.stateNode.containerInfo,ln=!0,qi(t,n,r),se=l,ln=h;break;case 0:case 11:case 14:case 15:pe||dr(2,r,n),pe||dr(4,r,n),qi(t,n,r);break;case 1:pe||(oi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Cp(r,n,l)),qi(t,n,r);break;case 21:qi(t,n,r);break;case 22:pe=(l=pe)||r.memoizedState!==null,qi(t,n,r),pe=l;break;default:qi(t,n,r)}}function Up(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(r){te(n,n.return,r)}}function XE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ip),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ip),n;default:throw Error(s(435,t.tag))}}function vf(t,n){var r=XE(t);n.forEach(function(l){var h=rT.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function pn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(Tr(T.type)){se=T.stateNode,ln=!1;break t}break;case 5:se=T.stateNode,ln=!1;break t;case 3:case 4:se=T.stateNode.containerInfo,ln=!0;break t}T=T.return}if(se===null)throw Error(s(160));Mp(f,v,h),se=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lp(n,t),n=n.sibling}var jn=null;function Lp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(n,t),yn(t),l&4&&(dr(3,t,t.return),Pl(3,t),dr(5,t,t.return));break;case 1:pn(n,t),yn(t),l&512&&(pe||r===null||oi(r,r.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=jn;if(pn(n,t),yn(t),l&512&&(pe||r===null||oi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[$r]||f[be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,r),f[be]=t,me(f),l=f;break t;case"link":var v=xy("link","href",h).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),He(f,l,r),h.head.appendChild(f);break;case"meta":if(v=xy("meta","content",h).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break e}}f=h.createElement(l),He(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[be]=t,me(f),l=f}t.stateNode=l}else Iy(h,t.type,t.stateNode);else t.stateNode=Ny(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Iy(h,t.type,t.stateNode):Ny(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gf(t,t.memoizedProps,r.memoizedProps)}break;case 27:pn(n,t),yn(t),l&512&&(pe||r===null||oi(r,r.return)),r!==null&&l&4&&gf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(pn(n,t),yn(t),l&512&&(pe||r===null||oi(r,r.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(F){te(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,gf(t,h,r!==null?r.memoizedProps:h)),l&1024&&(_f=!0);break;case 6:if(pn(n,t),yn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(F){te(t,t.return,F)}}break;case 3:if(Xu=null,h=jn,jn=Yu(n.containerInfo),pn(n,t),jn=h,yn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(F){te(t,t.return,F)}_f&&(_f=!1,Pp(t));break;case 4:l=jn,jn=Yu(t.stateNode.containerInfo),pn(n,t),yn(t),jn=l;break;case 12:pn(n,t),yn(t);break;case 13:pn(n,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(wf=Sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vf(t,l)));break;case 22:h=t.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,q=ki,Z=pe;if(ki=q||h,pe=Z||N,pn(n,t),pe=Z,ki=q,yn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||N||ki||pe||Sa(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(f=N.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=N.stateNode;var W=N.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(F){te(N,N.return,F)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(F){te(N,N.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,vf(t,r))));break;case 19:pn(n,t),yn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vf(t,l)));break;case 30:break;case 21:break;default:pn(n,t),yn(t)}}function yn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Np(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=pf(t);Mu(t,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(bn(v,""),r.flags&=-33);var T=pf(t);Mu(t,T,v);break;case 3:case 4:var N=r.stateNode.containerInfo,q=pf(t);yf(t,q,N);break;default:throw Error(s(161))}}catch(Z){te(t,t.return,Z)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Pp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function mr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Vp(t,n.alternate,n),n=n.sibling}function Sa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:dr(4,n,n.return),Sa(n);break;case 1:oi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Cp(n,n.return,r),Sa(n);break;case 27:Yl(n.stateNode);case 26:case 5:oi(n,n.return),Sa(n);break;case 22:n.memoizedState===null&&Sa(n);break;case 30:Sa(n);break;default:Sa(n)}t=t.sibling}}function gr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:gr(h,f,r),Pl(4,f);break;case 1:if(gr(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){te(l,l.return,q)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)fg(N[h],T)}catch(q){te(l,l.return,q)}}r&&v&64&&Rp(f),Bl(f,f.return);break;case 27:xp(f);case 26:case 5:gr(h,f,r),r&&l===null&&v&4&&Dp(f),Bl(f,f.return);break;case 12:gr(h,f,r);break;case 13:gr(h,f,r),r&&v&4&&Up(h,f);break;case 22:f.memoizedState===null&&gr(h,f,r),Bl(f,f.return);break;case 30:break;default:gr(h,f,r)}n=n.sibling}}function Ef(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Al(r))}function Tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Al(t))}function ui(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bp(t,n,r,l),n=n.sibling}function Bp(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(t,n,r,l),h&2048&&Pl(9,n);break;case 1:ui(t,n,r,l);break;case 3:ui(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Al(t)));break;case 12:if(h&2048){ui(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){te(n,n.return,N)}}else ui(t,n,r,l);break;case 13:ui(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ui(t,n,r,l):zl(t,n):f._visibility&2?ui(t,n,r,l):(f._visibility|=2,gs(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&Ef(v,n);break;case 24:ui(t,n,r,l),h&2048&&Tf(n.alternate,n);break;default:ui(t,n,r,l)}}function gs(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=r,N=l,q=v.flags;switch(v.tag){case 0:case 11:case 15:gs(f,v,T,N,h),Pl(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?gs(f,v,T,N,h):zl(f,v):(Z._visibility|=2,gs(f,v,T,N,h)),h&&q&2048&&Ef(v.alternate,v);break;case 24:gs(f,v,T,N,h),h&&q&2048&&Tf(v.alternate,v);break;default:gs(f,v,T,N,h)}n=n.sibling}}function zl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:zl(r,l),h&2048&&Ef(l.alternate,l);break;case 24:zl(r,l),h&2048&&Tf(l.alternate,l);break;default:zl(r,l)}n=n.sibling}}var jl=8192;function ps(t){if(t.subtreeFlags&jl)for(t=t.child;t!==null;)zp(t),t=t.sibling}function zp(t){switch(t.tag){case 26:ps(t),t.flags&jl&&t.memoizedState!==null&&MT(jn,t.memoizedState,t.memoizedProps);break;case 5:ps(t);break;case 3:case 4:var n=jn;jn=Yu(t.stateNode.containerInfo),ps(t),jn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=jl,jl=16777216,ps(t),jl=n):ps(t));break;default:ps(t)}}function jp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function kl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,qp(l,t)}jp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kp(t),t=t.sibling}function kp(t){switch(t.tag){case 0:case 11:case 15:kl(t),t.flags&2048&&dr(9,t,t.return);break;case 3:kl(t);break;case 12:kl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Uu(t)):kl(t);break;default:kl(t)}}function Uu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Le=l,qp(l,t)}jp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:dr(8,n,n.return),Uu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Uu(n));break;default:Uu(n)}t=t.sibling}}function qp(t,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:dr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Al(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Le=l;else t:for(r=t;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(Op(l),l===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var $E={getCacheForType:function(t){var n=Ke(Ce),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},ZE=typeof WeakMap=="function"?WeakMap:Map,Kt=0,ie=null,Ot=null,zt=0,Xt=0,_n=null,pr=!1,ys=!1,Sf=!1,Hi=0,de=0,yr=0,Aa=0,Af=0,On=0,_s=0,ql=null,on=null,bf=!1,wf=0,Lu=1/0,Pu=null,_r=null,qe=0,vr=null,vs=null,Es=0,Rf=0,Cf=null,Hp=null,Hl=0,Df=null;function vn(){if((Kt&2)!==0&&zt!==0)return zt&-zt;if(Y.T!==null){var t=ls;return t!==0?t:Uf()}return tr()}function Gp(){On===0&&(On=(zt&536870912)===0||Gt?Js():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),On}function En(t,n,r){(t===ie&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)&&(Ts(t,0),Er(t,zt,On,!1)),Ti(t,r),((Kt&2)===0||t!==ie)&&(t===ie&&((Kt&2)===0&&(Aa|=r),de===4&&Er(t,zt,On,!1)),ci(t))}function Fp(t,n,r){if((Kt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Xr(t,n),h=l?tT(t,n):If(t,n,!0),f=l;do{if(h===0){ys&&!l&&Er(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!JE(r)){h=If(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=ql;var N=T.current.memoizedState.isDehydrated;if(N&&(Ts(T,v).flags|=256),v=If(T,v,!1),v!==2){if(Sf&&!N){T.errorRecoveryDisabledLanes|=f,Aa|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Ts(t,0),Er(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:Er(l,n,On,!pr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=wf+300-Sn(),10<h)){if(Er(l,n,On,!pr),Ba(l,0,!0)!==0)break t;l.timeoutHandle=Ey(Qp.bind(null,l,r,on,Pu,bf,n,On,Aa,_s,pr,f,2,-0,0),h);break t}Qp(l,r,on,Pu,bf,n,On,Aa,_s,pr,f,0,-0,0)}}break}while(!0);ci(t)}function Qp(t,n,r,l,h,f,v,T,N,q,Z,W,G,F){if(t.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&($l={stylesheets:null,count:0,unsuspend:OT},zp(n),W=UT(),W!==null)){t.cancelPendingCommit=W(Wp.bind(null,t,n,f,r,l,h,v,T,N,Z,1,G,F)),Er(t,f,v,!q);return}Wp(t,n,f,r,l,h,v,T,N)}function JE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Er(t,n,r,l){n&=~Af,n&=~Aa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ye(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&Xn(t,r,n)}function Bu(){return(Kt&6)===0?(Gl(0),!1):!0}function Nf(){if(Ot!==null){if(Xt===0)var t=Ot.return;else t=Ot,Ui=ya=null,Fh(t),ds=null,Ml=0,t=Ot;for(;t!==null;)wp(t.alternate,t),t=t.return;Ot=null}}function Ts(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,pT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Nf(),ie=t,Ot=r=Vi(t.current,null),zt=n,Xt=0,_n=null,pr=!1,ys=Xr(t,n),Sf=!1,_s=On=Af=Aa=yr=de=0,on=ql=null,bf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ye(l),f=1<<h;n|=t[h],l&=~f}return Hi=n,su(),r}function Yp(t,n){Nt=null,Y.H=wu,n===wl||n===gu?(n=cg(),Xt=3):n===lg?(n=cg(),Xt=4):Xt=n===hp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,Ot===null&&(de=1,xu(t,Dn(n,t.current)))}function Kp(){var t=Y.H;return Y.H=wu,t===null?wu:t}function Xp(){var t=Y.A;return Y.A=$E,t}function xf(){de=4,pr||(zt&4194048)!==zt&&Vn.current!==null||(ys=!0),(yr&134217727)===0&&(Aa&134217727)===0||ie===null||Er(ie,zt,On,!1)}function If(t,n,r){var l=Kt;Kt|=2;var h=Kp(),f=Xp();(ie!==t||zt!==n)&&(Pu=null,Ts(t,n)),n=!1;var v=de;t:do try{if(Xt!==0&&Ot!==null){var T=Ot,N=_n;switch(Xt){case 8:Nf(),v=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var q=Xt;if(Xt=0,_n=null,Ss(t,T,N,q),r&&ys){v=0;break t}break;default:q=Xt,Xt=0,_n=null,Ss(t,T,N,q)}}WE(),v=de;break}catch(Z){Yp(t,Z)}while(!0);return n&&t.shellSuspendCounter++,Ui=ya=null,Kt=l,Y.H=h,Y.A=f,Ot===null&&(ie=null,zt=0,su()),v}function WE(){for(;Ot!==null;)$p(Ot)}function tT(t,n){var r=Kt;Kt|=2;var l=Kp(),h=Xp();ie!==t||zt!==n?(Pu=null,Lu=Sn()+500,Ts(t,n)):ys=Xr(t,n);t:do try{if(Xt!==0&&Ot!==null){n=Ot;var f=_n;e:switch(Xt){case 1:Xt=0,_n=null,Ss(t,n,f,1);break;case 2:case 9:if(og(f)){Xt=0,_n=null,Zp(n);break}n=function(){Xt!==2&&Xt!==9||ie!==t||(Xt=7),ci(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:og(f)?(Xt=0,_n=null,Zp(n)):(Xt=0,_n=null,Ss(t,n,f,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var T=Ot;if(!v||Vy(v)){Xt=0,_n=null;var N=T.sibling;if(N!==null)Ot=N;else{var q=T.return;q!==null?(Ot=q,zu(q)):Ot=null}break e}}Xt=0,_n=null,Ss(t,n,f,5);break;case 6:Xt=0,_n=null,Ss(t,n,f,6);break;case 8:Nf(),de=6;break t;default:throw Error(s(462))}}eT();break}catch(Z){Yp(t,Z)}while(!0);return Ui=ya=null,Y.H=l,Y.A=h,Kt=r,Ot!==null?0:(ie=null,zt=0,su(),de)}function eT(){for(;Ot!==null&&!Ks();)$p(Ot)}function $p(t){var n=Ap(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,n===null?zu(t):Ot=n}function Zp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=yp(r,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=yp(r,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:Fh(n);default:wp(r,n),n=Ot=Jm(n,Hi),n=Ap(r,n,Hi)}t.memoizedProps=t.pendingProps,n===null?zu(t):Ot=n}function Ss(t,n,r,l){Ui=ya=null,Fh(n),ds=null,Ml=0;var h=n.return;try{if(GE(t,h,n,r,zt)){de=1,xu(t,Dn(r,t.current)),Ot=null;return}}catch(f){if(h!==null)throw Ot=h,f;de=1,xu(t,Dn(r,t.current)),Ot=null;return}n.flags&32768?(Gt||l===1?t=!0:ys||(zt&536870912)!==0?t=!1:(pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jp(n,t)):zu(n)}function zu(t){var n=t;do{if((n.flags&32768)!==0){Jp(n,pr);return}t=n.return;var r=QE(n.alternate,n,Hi);if(r!==null){Ot=r;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=t}while(n!==null);de===0&&(de=5)}function Jp(t,n){do{var r=YE(t.alternate,t);if(r!==null){r.flags&=32767,Ot=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Ot=t;return}Ot=t=r}while(t!==null);de=6,Ot=null}function Wp(t,n,r,l,h,f,v,T,N){t.cancelPendingCommit=null;do ju();while(qe!==0);if((Kt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Eh,tl(t,r,f,v,T,N),t===ie&&(Ot=ie=null,zt=0),vs=n,vr=t,Es=r,Rf=f,Cf=h,Hp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,aT(Fr,function(){return ry(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=et.p,et.p=2,v=Kt,Kt|=4;try{KE(t,n,r)}finally{Kt=v,et.p=h,Y.T=l}}qe=1,ty(),ey(),ny()}}function ty(){if(qe===1){qe=0;var t=vr,n=vs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=Y.T,Y.T=null;var l=et.p;et.p=2;var h=Kt;Kt|=4;try{Lp(n,t);var f=Hf,v=qm(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&km(T.ownerDocument.documentElement,T)){if(N!==null&&gh(T)){var q=N.start,Z=N.end;if(Z===void 0&&(Z=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Z,T.value.length);else{var W=T.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var F=G.getSelection(),Tt=T.textContent.length,yt=Math.min(N.start,Tt),Wt=N.end===void 0?yt:Math.min(N.end,Tt);!F.extend&&yt>Wt&&(v=Wt,Wt=yt,yt=v);var z=jm(T,yt),M=jm(T,Wt);if(z&&M&&(F.rangeCount!==1||F.anchorNode!==z.node||F.anchorOffset!==z.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var k=W.createRange();k.setStart(z.node,z.offset),F.removeAllRanges(),yt>Wt?(F.addRange(k),F.extend(M.node,M.offset)):(k.setEnd(M.node,M.offset),F.addRange(k))}}}}for(W=[],F=T;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var J=W[T];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Ju=!!qf,Hf=qf=null}finally{Kt=h,et.p=l,Y.T=r}}t.current=n,qe=2}}function ey(){if(qe===2){qe=0;var t=vr,n=vs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=Y.T,Y.T=null;var l=et.p;et.p=2;var h=Kt;Kt|=4;try{Vp(t,n.alternate,n)}finally{Kt=h,et.p=l,Y.T=r}}qe=3}}function ny(){if(qe===4||qe===3){qe=0,Uo();var t=vr,n=vs,r=Es,l=Hp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,vs=vr=null,iy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(_r=null),za(r),n=n.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(he,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=et.p,et.p=2,Y.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{Y.T=n,et.p=h}}(Es&3)!==0&&ju(),ci(t),h=t.pendingLanes,(r&4194090)!==0&&(h&42)!==0?t===Df?Hl++:(Hl=0,Df=t):Hl=0,Gl(0)}}function iy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Al(n)))}function ju(t){return ty(),ey(),ny(),ry()}function ry(){if(qe!==5)return!1;var t=vr,n=Rf;Rf=0;var r=za(Es),l=Y.T,h=et.p;try{et.p=32>r?32:r,Y.T=null,r=Cf,Cf=null;var f=vr,v=Es;if(qe=0,vs=vr=null,Es=0,(Kt&6)!==0)throw Error(s(331));var T=Kt;if(Kt|=4,kp(f.current),Bp(f,f.current,v,r),Kt=T,Gl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(he,f)}catch{}return!0}finally{et.p=h,Y.T=l,iy(t,n)}}function ay(t,n,r){n=Dn(r,n),n=sf(t.stateNode,n,2),t=ur(t,n,2),t!==null&&(Ti(t,2),ci(t))}function te(t,n,r){if(t.tag===3)ay(t,t,r);else for(;n!==null;){if(n.tag===3){ay(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_r===null||!_r.has(l))){t=Dn(r,t),r=up(2),l=ur(n,r,2),l!==null&&(cp(r,l,n,t),Ti(l,2),ci(l));break}}n=n.return}}function Vf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new ZE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Sf=!0,h.add(r),t=nT.bind(null,t,n,r),n.then(t,t))}function nT(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ie===t&&(zt&r)===r&&(de===4||de===3&&(zt&62914560)===zt&&300>Sn()-wf?(Kt&2)===0&&Ts(t,0):Af|=r,_s===zt&&(_s=0)),ci(t)}function sy(t,n){n===0&&(n=Ws()),t=is(t,n),t!==null&&(Ti(t,n),ci(t))}function iT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),sy(t,r)}function rT(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),sy(t,r)}function aT(t,n){return Hr(t,n)}var ku=null,As=null,Of=!1,qu=!1,Mf=!1,ba=0;function ci(t){t!==As&&t.next===null&&(As===null?ku=As=t:As=As.next=t),qu=!0,Of||(Of=!0,lT())}function Gl(t,n){if(!Mf&&qu){Mf=!0;do for(var r=!1,l=ku;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,cy(l,f))}else f=zt,f=Ba(l,l===ie?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Xr(l,f)||(r=!0,cy(l,f));l=l.next}while(r);Mf=!1}}function sT(){ly()}function ly(){qu=Of=!1;var t=0;ba!==0&&(gT()&&(t=ba),ba=0);for(var n=Sn(),r=null,l=ku;l!==null;){var h=l.next,f=oy(l,n);f===0?(l.next=null,r===null?ku=h:r.next=h,h===null&&(As=r)):(r=l,(t!==0||(f&3)!==0)&&(qu=!0)),l=h}Gl(t)}function oy(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ye(f),T=1<<v,N=h[v];N===-1?((T&r)===0||(T&l)!==0)&&(h[v]=Zs(T,n)):N<=n&&(t.expiredLanes|=T),f&=~T}if(n=ie,r=zt,r=Ba(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Xt===2||Xt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Gr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Xr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Gr(l),za(r)){case 2:case 8:r=La;break;case 32:r=Fr;break;case 268435456:r=Pa;break;default:r=Fr}return l=uy.bind(null,t),r=Hr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Gr(l),t.callbackPriority=2,t.callbackNode=null,2}function uy(t,n){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ju()&&t.callbackNode!==r)return null;var l=zt;return l=Ba(t,t===ie?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Fp(t,l,n),oy(t,Sn()),t.callbackNode!=null&&t.callbackNode===r?uy.bind(null,t):null)}function cy(t,n){if(ju())return null;Fp(t,n,!0)}function lT(){yT(function(){(Kt&6)!==0?Hr(Xs,sT):ly()})}function Uf(){return ba===0&&(ba=Js()),ba}function hy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function fy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function oT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=hy((h[_e]||null).action),v=l.submitter;v&&(n=(n=v[_e]||null)?hy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Qa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ba!==0){var N=v?fy(h,v):new FormData(h);tf(r,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=v?fy(h,v):new FormData(h),tf(r,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Lf=0;Lf<vh.length;Lf++){var Pf=vh[Lf],uT=Pf.toLowerCase(),cT=Pf[0].toUpperCase()+Pf.slice(1);zn(uT,"on"+cT)}zn(Fm,"onAnimationEnd"),zn(Qm,"onAnimationIteration"),zn(Ym,"onAnimationStart"),zn("dblclick","onDoubleClick"),zn("focusin","onFocus"),zn("focusout","onBlur"),zn(CE,"onTransitionRun"),zn(DE,"onTransitionStart"),zn(NE,"onTransitionCancel"),zn(Km,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function dy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],N=T.instance,q=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=q;try{f(h)}catch(Z){Nu(Z)}h.currentTarget=null,f=N}else for(v=0;v<l.length;v++){if(T=l[v],N=T.instance,q=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=q;try{f(h)}catch(Z){Nu(Z)}h.currentTarget=null,f=N}}}}function Mt(t,n){var r=n[nl];r===void 0&&(r=n[nl]=new Set);var l=t+"__bubble";r.has(l)||(my(n,t,2,!1),r.add(l))}function Bf(t,n,r){var l=0;n&&(l|=4),my(r,t,l,n)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function zf(t){if(!t[Hu]){t[Hu]=!0,il.forEach(function(r){r!=="selectionchange"&&(hT.has(r)||Bf(r,!1,t),Bf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Hu]||(n[Hu]=!0,Bf("selectionchange",!1,n))}}function my(t,n,r,l){switch(By(n)){case 2:var h=BT;break;case 8:h=zT;break;default:h=Wf}r=h.bind(null,n,r,t),h=void 0,!Rn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function jf(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var N=v.tag;if((N===3||N===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Si(T),v===null)return;if(N=v.tag,N===5||N===6||N===26||N===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Fo(function(){var q=f,Z=wn(r),W=[];t:{var G=Xm.get(t);if(G!==void 0){var F=Qa,Tt=t;switch(t){case"keypress":if(ei(r)===0)break t;case"keydown":case"keyup":F=Ja;break;case"focusin":Tt="focus",F=Xa;break;case"focusout":Tt="blur",F=Xa;break;case"beforeblur":case"afterblur":F=Xa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=hh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Wo;break;case Fm:case Qm:case Ym:F=$a;break;case Km:F=eu;break;case"scroll":case"scrollend":F=Qo;break;case"wheel":F=Wa;break;case"copy":case"cut":case"paste":F=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=gl;break;case"toggle":case"beforetoggle":F=iu}var yt=(n&4)!==0,Wt=!yt&&(t==="scroll"||t==="scrollend"),z=yt?G!==null?G+"Capture":null:G;yt=[];for(var M=q,k;M!==null;){var J=M;if(k=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||k===null||z===null||(J=ia(M,z),J!=null&&yt.push(Ql(M,J,k))),Wt)break;M=M.return}0<yt.length&&(G=new F(G,Tt,null,r,Z),W.push({event:G,listeners:yt}))}}if((n&7)===0){t:{if(G=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",G&&r!==Ri&&(Tt=r.relatedTarget||r.fromElement)&&(Si(Tt)||Tt[An]))break t;if((F||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,F?(Tt=r.relatedTarget||r.toElement,F=q,Tt=Tt?Si(Tt):null,Tt!==null&&(Wt=c(Tt),yt=Tt.tag,Tt!==Wt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(F=null,Tt=q),F!==Tt)){if(yt=Cn,J="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(yt=gl,J="onPointerLeave",z="onPointerEnter",M="pointer"),Wt=F==null?G:Zn(F),k=Tt==null?G:Zn(Tt),G=new yt(J,M+"leave",F,r,Z),G.target=Wt,G.relatedTarget=k,J=null,Si(Z)===q&&(yt=new yt(z,M+"enter",Tt,r,Z),yt.target=k,yt.relatedTarget=Wt,J=yt),Wt=J,F&&Tt)e:{for(yt=F,z=Tt,M=0,k=yt;k;k=bs(k))M++;for(k=0,J=z;J;J=bs(J))k++;for(;0<M-k;)yt=bs(yt),M--;for(;0<k-M;)z=bs(z),k--;for(;M--;){if(yt===z||z!==null&&yt===z.alternate)break e;yt=bs(yt),z=bs(z)}yt=null}else yt=null;F!==null&&gy(W,G,F,yt,!1),Tt!==null&&Wt!==null&&gy(W,Wt,Tt,yt,!0)}}t:{if(G=q?Zn(q):window,F=G.nodeName&&G.nodeName.toLowerCase(),F==="select"||F==="input"&&G.type==="file")var ht=Mm;else if(Re(G))if(Um)ht=bE;else{ht=SE;var Vt=TE}else F=G.nodeName,!F||F.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&ol(q.elementType)&&(ht=Mm):ht=AE;if(ht&&(ht=ht(t,q))){Ii(W,ht,r,Z);break t}Vt&&Vt(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&rr(G,"number",G.value)}switch(Vt=q?Zn(q):window,t){case"focusin":(Re(Vt)||Vt.contentEditable==="true")&&(ts=Vt,ph=q,_l=null);break;case"focusout":_l=ph=ts=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,Hm(W,r,Z);break;case"selectionchange":if(RE)break;case"keydown":case"keyup":Hm(W,r,Z)}var dt;if(ri)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Pt?K(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(_&&r.locale!=="ko"&&(Pt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Pt&&(dt=cl()):(ti=Z,ar="value"in ti?ti.value:ti.textContent,Pt=!0)),Vt=Gu(q,_t),0<Vt.length&&(_t=new dl(_t,t,null,r,Z),W.push({event:_t,listeners:Vt}),dt?_t.data=dt:(dt=st(r),dt!==null&&(_t.data=dt)))),(dt=m?we(t,r):Bt(t,r))&&(_t=Gu(q,"onBeforeInput"),0<_t.length&&(Vt=new dl("onBeforeInput","beforeinput",null,r,Z),W.push({event:Vt,listeners:_t}),Vt.data=dt)),oT(W,t,q,r,Z)}dy(W,n)})}function Ql(t,n,r){return{instance:t,listener:n,currentTarget:r}}function Gu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ia(t,r),h!=null&&l.unshift(Ql(t,h,f)),h=ia(t,n),h!=null&&l.push(Ql(t,h,f))),t.tag===3)return l;t=t.return}return[]}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function gy(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var T=r,N=T.alternate,q=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||q===null||(N=q,h?(q=ia(r,f),q!=null&&v.unshift(Ql(r,q,N))):h||(q=ia(r,f),q!=null&&v.push(Ql(r,q,N)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var fT=/\r\n?/g,dT=/\u0000|\uFFFD/g;function py(t){return(typeof t=="string"?t:""+t).replace(fT,`
`).replace(dT,"")}function yy(t,n){return n=py(n),py(t)===n}function Fu(){}function Jt(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&bn(t,""+l);break;case"className":Jn(t,"class",l);break;case"tabIndex":Jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,r,l);break;case"style":ll(t,l,f);break;case"data":if(n!=="object"){Jn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Fa(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(t,n,"name",h.name,h,null),Jt(t,n,"formEncType",h.formEncType,h,null),Jt(t,n,"formMethod",h.formMethod,h,null),Jt(t,n,"formTarget",h.formTarget,h,null)):(Jt(t,n,"encType",h.encType,h,null),Jt(t,n,"method",h.method,h,null),Jt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Fa(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Fu);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Mt("beforetoggle",t),Mt("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uh.get(r)||r,ir(t,r,l))}}function kf(t,n,r,l,h,f){switch(r){case"style":ll(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Mt("scroll",t);break;case"onScrollEnd":l!=null&&Mt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ja.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[_e]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):ir(t,r,l)}}}function He(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",t),Mt("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,f,v,r,null)}}h&&Jt(t,n,"srcSet",r.srcSet,r,null),l&&Jt(t,n,"src",r.src,r,null);return;case"input":Mt("invalid",t);var T=f=v=h=null,N=null,q=null;for(l in r)if(r.hasOwnProperty(l)){var Z=r[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":v=Z;break;case"checked":N=Z;break;case"defaultChecked":q=Z;break;case"value":f=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,n));break;default:Jt(t,n,l,Z,r,null)}}ta(t,f,T,N,q,v,h,!1),Ga(t);return;case"select":Mt("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Jt(t,n,h,T,r,null)}n=f,r=v,t.multiple=!!l,n!=null?wi(t,!!l,n,!1):r!=null&&wi(t,!!l,r,!0);return;case"textarea":Mt("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Jt(t,n,v,T,r,null)}ea(t,l,h,f),Ga(t);return;case"option":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Jt(t,n,N,l,r,null)}return;case"dialog":Mt("beforetoggle",t),Mt("toggle",t),Mt("cancel",t),Mt("close",t);break;case"iframe":case"object":Mt("load",t);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Mt(Fl[l],t);break;case"image":Mt("error",t),Mt("load",t);break;case"details":Mt("toggle",t);break;case"embed":case"source":case"link":Mt("error",t),Mt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(l=r[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Jt(t,n,q,l,r,null)}return;default:if(ol(n)){for(Z in r)r.hasOwnProperty(Z)&&(l=r[Z],l!==void 0&&kf(t,n,Z,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&Jt(t,n,T,l,r,null))}function mT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,N=null,q=null,Z=null;for(F in r){var W=r[F];if(r.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=W;default:l.hasOwnProperty(F)||Jt(t,n,F,null,l,W)}}for(var G in l){var F=l[G];if(W=r[G],l.hasOwnProperty(G)&&(F!=null||W!=null))switch(G){case"type":f=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":Z=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:F!==W&&Jt(t,n,G,F,l,W)}}dn(t,v,T,N,q,Z,f,h);return;case"select":F=v=T=G=null;for(f in r)if(N=r[f],r.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(f)||Jt(t,n,f,null,l,N)}for(h in l)if(f=l[h],N=r[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":G=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==N&&Jt(t,n,h,f,l,N)}n=T,r=v,l=F,G!=null?wi(t,!!r,G,!1):!!l!=!!r&&(n!=null?wi(t,!!r,n,!0):wi(t,!!r,r?[]:"",!1));return;case"textarea":F=G=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Jt(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":G=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Jt(t,n,v,h,l,f)}$t(t,G,F);return;case"option":for(var Tt in r)if(G=r[Tt],r.hasOwnProperty(Tt)&&G!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Jt(t,n,Tt,null,l,G)}for(N in l)if(G=l[N],F=r[N],l.hasOwnProperty(N)&&G!==F&&(G!=null||F!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Jt(t,n,N,G,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)G=r[yt],r.hasOwnProperty(yt)&&G!=null&&!l.hasOwnProperty(yt)&&Jt(t,n,yt,null,l,G);for(q in l)if(G=l[q],F=r[q],l.hasOwnProperty(q)&&G!==F&&(G!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Jt(t,n,q,G,l,F)}return;default:if(ol(n)){for(var Wt in r)G=r[Wt],r.hasOwnProperty(Wt)&&G!==void 0&&!l.hasOwnProperty(Wt)&&kf(t,n,Wt,void 0,l,G);for(Z in l)G=l[Z],F=r[Z],!l.hasOwnProperty(Z)||G===F||G===void 0&&F===void 0||kf(t,n,Z,G,l,F);return}}for(var z in r)G=r[z],r.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&Jt(t,n,z,null,l,G);for(W in l)G=l[W],F=r[W],!l.hasOwnProperty(W)||G===F||G==null&&F==null||Jt(t,n,W,G,l,F)}var qf=null,Hf=null;function Qu(t){return t.nodeType===9?t:t.ownerDocument}function _y(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function gT(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var Ey=typeof setTimeout=="function"?setTimeout:void 0,pT=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,yT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(t){return Ty.resolve(null).then(t).catch(_T)}:Ey;function _T(t){setTimeout(function(){throw t})}function Tr(t){return t==="head"}function Sy(t,n){var r=n,l=0,h=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Yl(v.documentElement),r&2&&Yl(v.body),r&4)for(r=v.head,Yl(r),v=r.firstChild;v;){var T=v.nextSibling,N=v.nodeName;v[$r]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=T}}if(h===0){t.removeChild(f),eo(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);eo(n)}function Qf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Qf(r),nr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function vT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$r])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=kn(t.nextSibling),t===null)break}return null}function ET(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=kn(t.nextSibling),t===null))return null;return t}function Yf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function TT(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function kn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Kf=null;function Ay(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function by(t,n,r){switch(n=Qu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Yl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);nr(t)}var Mn=new Map,wy=new Set;function Yu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Gi=et.d;et.d={f:ST,r:AT,D:bT,C:wT,L:RT,m:CT,X:NT,S:DT,M:xT};function ST(){var t=Gi.f(),n=Bu();return t||n}function AT(t){var n=$n(t);n!==null&&n.tag===5&&n.type==="form"?Fg(n):Gi.r(t)}var ws=typeof document>"u"?null:document;function Ry(t,n,r){var l=ws;if(l&&typeof n=="string"&&n){var h=ve(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),wy.has(h)||(wy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",t),me(n),l.head.appendChild(n)))}}function bT(t){Gi.D(t),Ry("dns-prefetch",t,null)}function wT(t,n){Gi.C(t,n),Ry("preconnect",t,n)}function RT(t,n,r){Gi.L(t,n,r);var l=ws;if(l&&t&&n){var h='link[rel="preload"][as="'+ve(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ve(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ve(r.imageSizes)+'"]')):h+='[href="'+ve(t)+'"]';var f=h;switch(n){case"style":f=Rs(t);break;case"script":f=Cs(t)}Mn.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Mn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Kl(f))||n==="script"&&l.querySelector(Xl(f))||(n=l.createElement("link"),He(n,"link",t),me(n),l.head.appendChild(n)))}}function CT(t,n){Gi.m(t,n);var r=ws;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ve(l)+'"][href="'+ve(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Cs(t)}if(!Mn.has(f)&&(t=E({rel:"modulepreload",href:t},n),Mn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Xl(f)))return}l=r.createElement("link"),He(l,"link",t),me(l),r.head.appendChild(l)}}}function DT(t,n,r){Gi.S(t,n,r);var l=ws;if(l&&t){var h=We(l).hoistableStyles,f=Rs(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Kl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Mn.get(f))&&Xf(t,r);var N=v=l.createElement("link");me(N),He(N,"link",t),N._p=new Promise(function(q,Z){N.onload=q,N.onerror=Z}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ku(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function NT(t,n){Gi.X(t,n);var r=ws;if(r&&t){var l=We(r).hoistableScripts,h=Cs(t),f=l.get(h);f||(f=r.querySelector(Xl(h)),f||(t=E({src:t,async:!0},n),(n=Mn.get(h))&&$f(t,n),f=r.createElement("script"),me(f),He(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function xT(t,n){Gi.M(t,n);var r=ws;if(r&&t){var l=We(r).hoistableScripts,h=Cs(t),f=l.get(h);f||(f=r.querySelector(Xl(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&$f(t,n),f=r.createElement("script"),me(f),He(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Cy(t,n,r,l){var h=(h=St.current)?Yu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Rs(r.href),r=We(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Rs(r.href);var f=We(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Kl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Mn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Mn.set(t,r),f||IT(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Cs(r),r=We(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Rs(t){return'href="'+ve(t)+'"'}function Kl(t){return'link[rel="stylesheet"]['+t+"]"}function Dy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function IT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",r),me(n),t.head.appendChild(n))}function Cs(t){return'[src="'+ve(t)+'"]'}function Xl(t){return"script[async]"+t}function Ny(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ve(r.href)+'"]');if(l)return n.instance=l,me(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),me(l),He(l,"style",h),Ku(l,r.precedence,t),n.instance=l;case"stylesheet":h=Rs(r.href);var f=t.querySelector(Kl(h));if(f)return n.state.loading|=4,n.instance=f,me(f),f;l=Dy(r),(h=Mn.get(h))&&Xf(l,h),f=(t.ownerDocument||t).createElement("link"),me(f);var v=f;return v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),He(f,"link",l),n.state.loading|=4,Ku(f,r.precedence,t),n.instance=f;case"script":return f=Cs(r.src),(h=t.querySelector(Xl(f)))?(n.instance=h,me(h),h):(l=r,(h=Mn.get(f))&&(l=E({},r),$f(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),me(h),He(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ku(l,r.precedence,t));return n.instance}function Ku(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function $f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Xu=null;function xy(t,n,r){if(Xu===null){var l=new Map,h=Xu=new Map;h.set(r,l)}else h=Xu,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[$r]||f[be]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Iy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function VT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var $l=null;function OT(){}function MT(t,n,r){if($l===null)throw Error(s(475));var l=$l;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Rs(r.href),f=t.querySelector(Kl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$u.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,me(f);return}f=t.ownerDocument||t,r=Dy(r),(h=Mn.get(h))&&Xf(r,h),f=f.createElement("link"),me(f);var v=f;v._p=new Promise(function(T,N){v.onload=T,v.onerror=N}),He(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=$u.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function UT(){if($l===null)throw Error(s(475));var t=$l;return t.stylesheets&&t.count===0&&Zf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Zf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function $u(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zu=null;function Zf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zu=new Map,n.forEach(LT,t),Zu=null,$u.call(t))}function LT(t,n){if(!(n.state.loading&4)){var r=Zu.get(t);if(r)var l=r.get(null);else{r=new Map,Zu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=$u.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Zl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function PT(t,n,r,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Oy(t,n,r,l,h,f,v,T,N,q,Z,W){return t=new PT(t,n,r,v,T,N,q,W),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),t.current=f,f.stateNode=t,n=Ih(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Uh(f),t}function My(t){return t?(t=rs,t):rs}function Uy(t,n,r,l,h,f){h=My(h),l.context===null?l.context=h:l.pendingContext=h,l=or(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ur(t,l,n),r!==null&&(En(r,t,n),Cl(r,t,n))}function Ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Jf(t,n){Ly(t,n),(t=t.alternate)&&Ly(t,n)}function Py(t){if(t.tag===13){var n=is(t,67108864);n!==null&&En(n,t,67108864),Jf(t,67108864)}}var Ju=!0;function BT(t,n,r,l){var h=Y.T;Y.T=null;var f=et.p;try{et.p=2,Wf(t,n,r,l)}finally{et.p=f,Y.T=h}}function zT(t,n,r,l){var h=Y.T;Y.T=null;var f=et.p;try{et.p=8,Wf(t,n,r,l)}finally{et.p=f,Y.T=h}}function Wf(t,n,r,l){if(Ju){var h=td(l);if(h===null)jf(t,n,l,Wu,r),zy(t,l);else if(kT(h,t,n,r,l))l.stopPropagation();else if(zy(t,l),n&4&&-1<jT.indexOf(t)){for(;h!==null;){var f=$n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Ln(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var N=1<<31-Ye(v);T.entanglements[1]|=N,v&=~N}ci(f),(Kt&6)===0&&(Lu=Sn()+500,Gl(0))}}break;case 13:T=is(f,2),T!==null&&En(T,f,2),Bu(),Jf(f,2)}if(f=td(l),f===null&&jf(t,n,l,Wu,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else jf(t,n,l,null,r)}}function td(t){return t=wn(t),ed(t)}var Wu=null;function ed(t){if(Wu=null,t=Si(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Wu=t,null}function By(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ih()){case Xs:return 2;case La:return 8;case Fr:case rh:return 32;case Pa:return 268435456;default:return 32}default:return 32}}var nd=!1,Sr=null,Ar=null,br=null,Jl=new Map,Wl=new Map,wr=[],jT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(t,n){switch(t){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":br=null;break;case"pointerover":case"pointerout":Jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(n.pointerId)}}function to(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=$n(n),n!==null&&Py(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function kT(t,n,r,l,h){switch(n){case"focusin":return Sr=to(Sr,t,n,r,l,h),!0;case"dragenter":return Ar=to(Ar,t,n,r,l,h),!0;case"mouseover":return br=to(br,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return Jl.set(f,to(Jl.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Wl.set(f,to(Wl.get(f)||null,t,n,r,l,h)),!0}return!1}function jy(t){var n=Si(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Bo(t.priority,function(){if(r.tag===13){var l=vn();l=Wi(l);var h=is(r,l);h!==null&&En(h,r,l),Jf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=td(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Ri=l,r.target.dispatchEvent(l),Ri=null}else return n=$n(r),n!==null&&Py(n),t.blockedOn=r,!1;n.shift()}return!0}function ky(t,n,r){tc(t)&&r.delete(n)}function qT(){nd=!1,Sr!==null&&tc(Sr)&&(Sr=null),Ar!==null&&tc(Ar)&&(Ar=null),br!==null&&tc(br)&&(br=null),Jl.forEach(ky),Wl.forEach(ky)}function ec(t,n){t.blockedOn===n&&(t.blockedOn=null,nd||(nd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,qT)))}var nc=null;function qy(t){nc!==t&&(nc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){nc===t&&(nc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(ed(l||r)===null)continue;break}var f=$n(r);f!==null&&(t.splice(n,3),n-=3,tf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function eo(t){function n(N){return ec(N,t)}Sr!==null&&ec(Sr,t),Ar!==null&&ec(Ar,t),br!==null&&ec(br,t),Jl.forEach(n),Wl.forEach(n);for(var r=0;r<wr.length;r++){var l=wr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wr.length&&(r=wr[0],r.blockedOn===null);)jy(r),r.blockedOn===null&&wr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[_e]||null;if(typeof f=="function")v||qy(r);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[_e]||null)T=v.formAction;else if(ed(h)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),qy(r)}}}function id(t){this._internalRoot=t}ic.prototype.render=id.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=vn();Uy(r,l,t,n,null,null)},ic.prototype.unmount=id.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Uy(t.current,2,null,t,null,null),Bu(),n[An]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=tr();t={blockedOn:null,target:t,priority:n};for(var r=0;r<wr.length&&n!==0&&n<wr[r].priority;r++);wr.splice(r,0,t),r===0&&jy(t)}};var Hy=e.version;if(Hy!=="19.1.0")throw Error(s(527,Hy,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var HT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{he=rc.inject(HT),Yt=rc}catch{}}return io.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=ap,f=sp,v=lp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Oy(t,1,!1,null,null,r,l,h,f,v,T,null),t[An]=n.current,zf(t),new id(n)},io.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=ap,v=sp,T=lp,N=null,q=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(N=r.unstable_transitionCallbacks),r.formState!==void 0&&(q=r.formState)),n=Oy(t,1,!0,n,r??null,l,h,f,v,T,N,q),n.context=My(null),r=n.current,l=vn(),l=Wi(l),h=or(l),h.callback=null,ur(r,h,l),r=l,n.current.lanes=r,Ti(n,r),ci(n),t[An]=n.current,zf(t),new ic(n)},io.version="19.1.0",io}var Wy;function t1(){if(Wy)return sd.exports;Wy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),sd.exports=WT(),sd.exports}var e1=t1();const n1=mv(e1);var ro={},t_;function i1(){if(t_)return ro;t_=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.parse=d,ro.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function d(b,B){const L=new c,$=b.length;if($<2)return L;const Q=B?.decode||E;let P=0;do{const X=b.indexOf("=",P);if(X===-1)break;const rt=b.indexOf(";",P),ut=rt===-1?$:rt;if(X>ut){P=b.lastIndexOf(";",X-1)+1;continue}const ct=g(b,P,X),Et=y(b,X,ct),x=b.slice(ct,Et);if(L[x]===void 0){let A=g(b,X+1,ut),w=y(b,ut,A);const D=Q(b.slice(A,w));L[x]=D}P=ut+1}while(P<$);return L}function g(b,B,L){do{const $=b.charCodeAt(B);if($!==32&&$!==9)return B}while(++B<L);return L}function y(b,B,L){for(;B>L;){const $=b.charCodeAt(--B);if($!==32&&$!==9)return B+1}return L}function p(b,B,L){const $=L?.encode||encodeURIComponent;if(!a.test(b))throw new TypeError(`argument name is invalid: ${b}`);const Q=$(B);if(!e.test(Q))throw new TypeError(`argument val is invalid: ${B}`);let P=b+"="+Q;if(!L)return P;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);P+="; Max-Age="+L.maxAge}if(L.domain){if(!i.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);P+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);P+="; Path="+L.path}if(L.expires){if(!R(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);P+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(P+="; HttpOnly"),L.secure&&(P+="; Secure"),L.partitioned&&(P+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return P}function E(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function R(b){return o.call(b)==="[object Date]"}return ro}i1();var e_="popstate";function r1(a={}){function e(s,o){let{pathname:c,search:d,hash:g}=s.location;return Ed("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:yo(o)}return s1(e,i,null,a)}function le(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function Gn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a1(){return Math.random().toString(36).substring(2,10)}function n_(a,e){return{usr:a.state,key:a.key,idx:e}}function Ed(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?js(e):e,state:i,key:e&&e.key||s||a1()}}function yo({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function js(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function s1(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",y=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function R(){g="POP";let Q=E(),P=Q==null?null:Q-p;p=Q,y&&y({action:g,location:$.location,delta:P})}function b(Q,P){g="PUSH";let X=Ed($.location,Q,P);p=E()+1;let rt=n_(X,p),ut=$.createHref(X);try{d.pushState(rt,"",ut)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(ut)}c&&y&&y({action:g,location:$.location,delta:1})}function B(Q,P){g="REPLACE";let X=Ed($.location,Q,P);p=E();let rt=n_(X,p),ut=$.createHref(X);d.replaceState(rt,"",ut),c&&y&&y({action:g,location:$.location,delta:0})}function L(Q){return l1(Q)}let $={get action(){return g},get location(){return a(o,d)},listen(Q){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(e_,R),y=Q,()=>{o.removeEventListener(e_,R),y=null}},createHref(Q){return e(o,Q)},createURL:L,encodeLocation(Q){let P=L(Q);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:B,go(Q){return d.go(Q)}};return $}function l1(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),le(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:yo(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function gv(a,e,i="/"){return o1(a,e,i,!1)}function o1(a,e,i,s){let o=typeof e=="string"?js(e):e,c=Yi(o.pathname||"/",i);if(c==null)return null;let d=pv(a);u1(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=E1(c);g=_1(d[y],p,s)}return g}function pv(a,e=[],i=[],s=""){let o=(c,d,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};y.relativePath.startsWith("/")&&(le(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let p=Qi([s,y.relativePath]),E=i.concat(y);c.children&&c.children.length>0&&(le(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),pv(c.children,e,E,p)),!(c.path==null&&!c.index)&&e.push({path:p,score:p1(p,c.index),routesMeta:E})};return a.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let g of yv(c.path))o(c,d,g)}),e}function yv(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=yv(s.join("/")),g=[];return g.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...d),g.map(y=>a.startsWith("/")&&y===""?"/":y)}function u1(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:y1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var c1=/^:[\w-]+$/,h1=3,f1=2,d1=1,m1=10,g1=-2,i_=a=>a==="*";function p1(a,e){let i=a.split("/"),s=i.length;return i.some(i_)&&(s+=g1),e&&(s+=f1),i.filter(o=>!i_(o)).reduce((o,c)=>o+(c1.test(c)?h1:c===""?d1:m1),s)}function y1(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function _1(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",R=vc({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),b=y.route;if(!R&&p&&i&&!s[s.length-1].route.index&&(R=vc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!R)return null;Object.assign(o,R.params),d.push({params:o,pathname:Qi([c,R.pathname]),pathnameBase:b1(Qi([c,R.pathnameBase])),route:b}),R.pathnameBase!=="/"&&(c=Qi([c,R.pathnameBase]))}return d}function vc(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=v1(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:R},b)=>{if(E==="*"){let L=g[b]||"";d=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const B=g[b];return R&&!B?p[E]=void 0:p[E]=(B||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:a}}function v1(a,e=!1,i=!0){Gn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function E1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function Yi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function T1(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?js(a):a;return{pathname:i?i.startsWith("/")?i:S1(i,e):e,search:w1(s),hash:R1(o)}}function S1(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function cd(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function A1(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Fd(a){let e=A1(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Qd(a,e,i,s=!1){let o;typeof a=="string"?o=js(a):(o={...a},le(!o.pathname||!o.pathname.includes("?"),cd("?","pathname","search",o)),le(!o.pathname||!o.pathname.includes("#"),cd("#","pathname","hash",o)),le(!o.search||!o.search.includes("#"),cd("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let R=e.length-1;if(!s&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),R-=1;o.pathname=b.join("/")}g=R>=0?e[R]:"/"}let y=T1(o,g),p=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var Qi=a=>a.join("/").replace(/\/\/+/g,"/"),b1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),w1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,R1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function C1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var _v=["POST","PUT","PATCH","DELETE"];new Set(_v);var D1=["GET",..._v];new Set(D1);var ks=H.createContext(null);ks.displayName="DataRouter";var Bc=H.createContext(null);Bc.displayName="DataRouterState";var vv=H.createContext({isTransitioning:!1});vv.displayName="ViewTransition";var N1=H.createContext(new Map);N1.displayName="Fetchers";var x1=H.createContext(null);x1.displayName="Await";var Fn=H.createContext(null);Fn.displayName="Navigation";var Do=H.createContext(null);Do.displayName="Location";var Qn=H.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var Yd=H.createContext(null);Yd.displayName="RouteError";function I1(a,{relative:e}={}){le(qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=H.useContext(Fn),{hash:o,pathname:c,search:d}=No(a,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Qi([i,c])),s.createHref({pathname:g,search:d,hash:o})}function qs(){return H.useContext(Do)!=null}function Yn(){return le(qs(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Do).location}var Ev="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tv(a){H.useContext(Fn).static||H.useLayoutEffect(a)}function Zi(){let{isDataRoute:a}=H.useContext(Qn);return a?G1():V1()}function V1(){le(qs(),"useNavigate() may be used only in the context of a <Router> component.");let a=H.useContext(ks),{basename:e,navigator:i}=H.useContext(Fn),{matches:s}=H.useContext(Qn),{pathname:o}=Yn(),c=JSON.stringify(Fd(s)),d=H.useRef(!1);return Tv(()=>{d.current=!0}),H.useCallback((y,p={})=>{if(Gn(d.current,Ev),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=Qd(y,JSON.parse(c),o,p.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[e,i,c,o,a])}H.createContext(null);function Sv(){let{matches:a}=H.useContext(Qn),e=a[a.length-1];return e?e.params:{}}function No(a,{relative:e}={}){let{matches:i}=H.useContext(Qn),{pathname:s}=Yn(),o=JSON.stringify(Fd(i));return H.useMemo(()=>Qd(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function O1(a,e){return Av(a,e)}function Av(a,e,i,s){le(qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(Fn),{matches:c}=H.useContext(Qn),d=c[c.length-1],g=d?d.params:{},y=d?d.pathname:"/",p=d?d.pathnameBase:"/",E=d&&d.route;{let P=E&&E.path||"";bv(y,!E||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let R=Yn(),b;if(e){let P=typeof e=="string"?js(e):e;le(p==="/"||P.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=R;let B=b.pathname||"/",L=B;if(p!=="/"){let P=p.replace(/^\//,"").split("/");L="/"+B.replace(/^\//,"").split("/").slice(P.length).join("/")}let $=gv(a,{pathname:L});Gn(E||$!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Gn($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=B1($&&$.map(P=>Object.assign({},P,{params:Object.assign({},g,P.params),pathname:Qi([p,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?p:Qi([p,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),c,i,s);return e&&Q?H.createElement(Do.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},Q):Q}function M1(){let a=H1(),e=C1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),i?H.createElement("pre",{style:o},i):null,d)}var U1=H.createElement(M1,null),L1=class extends H.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?H.createElement(Qn.Provider,{value:this.props.routeContext},H.createElement(Yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function P1({routeContext:a,match:e,children:i}){let s=H.useContext(ks);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Qn.Provider,{value:a},i)}function B1(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,c=i?.errors;if(c!=null){let y=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);le(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,g=-1;if(i)for(let y=0;y<o.length;y++){let p=o[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=y),p.route.id){let{loaderData:E,errors:R}=i,b=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!R||R[p.route.id]===void 0);if(p.route.lazy||b){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((y,p,E)=>{let R,b=!1,B=null,L=null;i&&(R=c&&p.route.id?c[p.route.id]:void 0,B=p.route.errorElement||U1,d&&(g<0&&E===0?(bv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,L=null):g===E&&(b=!0,L=p.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),Q=()=>{let P;return R?P=B:b?P=L:p.route.Component?P=H.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=y,H.createElement(P1,{match:p,routeContext:{outlet:y,matches:$,isDataRoute:i!=null},children:P})};return i&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?H.createElement(L1,{location:i.location,revalidation:i.revalidation,component:B,error:R,children:Q(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):Q()},null)}function Kd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(a){let e=H.useContext(ks);return le(e,Kd(a)),e}function j1(a){let e=H.useContext(Bc);return le(e,Kd(a)),e}function k1(a){let e=H.useContext(Qn);return le(e,Kd(a)),e}function Xd(a){let e=k1(a),i=e.matches[e.matches.length-1];return le(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function q1(){return Xd("useRouteId")}function H1(){let a=H.useContext(Yd),e=j1("useRouteError"),i=Xd("useRouteError");return a!==void 0?a:e.errors?.[i]}function G1(){let{router:a}=z1("useNavigate"),e=Xd("useNavigate"),i=H.useRef(!1);return Tv(()=>{i.current=!0}),H.useCallback(async(o,c={})=>{Gn(i.current,Ev),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var r_={};function bv(a,e,i){!e&&!r_[a]&&(r_[a]=!0,Gn(!1,i))}H.memo(F1);function F1({routes:a,future:e,state:i}){return Av(a,void 0,i,e)}function wv({to:a,replace:e,state:i,relative:s}){le(qs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(Fn);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=H.useContext(Qn),{pathname:d}=Yn(),g=Zi(),y=Qd(a,Fd(c),d,s==="path"),p=JSON.stringify(y);return H.useEffect(()=>{g(JSON.parse(p),{replace:e,state:i,relative:s})},[g,p,s,e,i]),null}function Fi(a){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q1({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){le(!qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=H.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=js(i));let{pathname:y="/",search:p="",hash:E="",state:R=null,key:b="default"}=i,B=H.useMemo(()=>{let L=Yi(y,d);return L==null?null:{location:{pathname:L,search:p,hash:E,state:R,key:b},navigationType:s}},[d,y,p,E,R,b,s]);return Gn(B!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:H.createElement(Fn.Provider,{value:g},H.createElement(Do.Provider,{children:e,value:B}))}function Y1({children:a,location:e}){return O1(Td(a),e)}function Td(a,e=[]){let i=[];return H.Children.forEach(a,(s,o)=>{if(!H.isValidElement(s))return;let c=[...e,o];if(s.type===H.Fragment){i.push.apply(i,Td(s.props.children,c));return}le(s.type===Fi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Td(s.props.children,c)),i.push(d)}),i}var hc="get",fc="application/x-www-form-urlencoded";function zc(a){return a!=null&&typeof a.tagName=="string"}function K1(a){return zc(a)&&a.tagName.toLowerCase()==="button"}function X1(a){return zc(a)&&a.tagName.toLowerCase()==="form"}function $1(a){return zc(a)&&a.tagName.toLowerCase()==="input"}function Z1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function J1(a,e){return a.button===0&&(!e||e==="_self")&&!Z1(a)}var ac=null;function W1(){if(ac===null)try{new FormData(document.createElement("form"),0),ac=!1}catch{ac=!0}return ac}var tS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(a){return a!=null&&!tS.has(a)?(Gn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fc}"`),null):a}function eS(a,e){let i,s,o,c,d;if(X1(a)){let g=a.getAttribute("action");s=g?Yi(g,e):null,i=a.getAttribute("method")||hc,o=hd(a.getAttribute("enctype"))||fc,c=new FormData(a)}else if(K1(a)||$1(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||g.getAttribute("action");if(s=y?Yi(y,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||hc,o=hd(a.getAttribute("formenctype"))||hd(g.getAttribute("enctype"))||fc,c=new FormData(g,a),!W1()){let{name:p,type:E,value:R}=a;if(E==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,R)}}else{if(zc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=hc,s=null,o=fc,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function $d(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function nS(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iS(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function rS(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await nS(c,i);return d.links?d.links():[]}return[]}));return oS(s.flat(1).filter(iS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function a_(a,e,i,s,o,c){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):c==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let R=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function aS(a,e,{includeHydrateFallback:i}={}){return sS(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function sS(a){return[...new Set(a)]}function lS(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function oS(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(lS(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var uS=new Set([100,101,204,205]);function cS(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&Yi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Rv(){let a=H.useContext(ks);return $d(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function hS(){let a=H.useContext(Bc);return $d(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Zd=H.createContext(void 0);Zd.displayName="FrameworkContext";function Cv(){let a=H.useContext(Zd);return $d(a,"You must render this element inside a <HydratedRouter> element"),a}function fS(a,e){let i=H.useContext(Zd),[s,o]=H.useState(!1),[c,d]=H.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:R}=e,b=H.useRef(null);H.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let $=P=>{P.forEach(X=>{d(X.isIntersecting)})},Q=new IntersectionObserver($,{threshold:.5});return b.current&&Q.observe(b.current),()=>{Q.disconnect()}}},[a]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout($)}}},[s]);let B=()=>{o(!0)},L=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,b,{}]:[c,b,{onFocus:ao(g,B),onBlur:ao(y,L),onMouseEnter:ao(p,B),onMouseLeave:ao(E,L),onTouchStart:ao(R,B)}]:[!1,b,{}]}function ao(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function dS({page:a,...e}){let{router:i}=Rv(),s=H.useMemo(()=>gv(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?H.createElement(gS,{page:a,matches:s,...e}):null}function mS(a){let{manifest:e,routeModules:i}=Cv(),[s,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return rS(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function gS({page:a,matches:e,...i}){let s=Yn(),{manifest:o,routeModules:c}=Cv(),{basename:d}=Rv(),{loaderData:g,matches:y}=hS(),p=H.useMemo(()=>a_(a,e,y,o,s,"data"),[a,e,y,o,s]),E=H.useMemo(()=>a_(a,e,y,o,s,"assets"),[a,e,y,o,s]),R=H.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let L=new Set,$=!1;if(e.forEach(P=>{let X=o.routes[P.route.id];!X||!X.hasLoader||(!p.some(rt=>rt.route.id===P.route.id)&&P.route.id in g&&c[P.route.id]?.shouldRevalidate||X.hasClientLoader?$=!0:L.add(P.route.id))}),L.size===0)return[];let Q=cS(a,d);return $&&L.size>0&&Q.searchParams.set("_routes",e.filter(P=>L.has(P.route.id)).map(P=>P.route.id).join(",")),[Q.pathname+Q.search]},[d,g,s,o,p,e,a,c]),b=H.useMemo(()=>aS(E,o),[E,o]),B=mS(E);return H.createElement(H.Fragment,null,R.map(L=>H.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),b.map(L=>H.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),B.map(({key:L,link:$})=>H.createElement("link",{key:L,...$})))}function pS(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dv&&(window.__reactRouterVersion="7.6.3")}catch{}function yS({basename:a,children:e,window:i}){let s=H.useRef();s.current==null&&(s.current=r1({window:i,v5Compat:!0}));let o=s.current,[c,d]=H.useState({action:o.action,location:o.location}),g=H.useCallback(y=>{H.startTransition(()=>d(y))},[d]);return H.useLayoutEffect(()=>o.listen(g),[o,g]),H.createElement(Q1,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_o=H.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:y,to:p,preventScrollReset:E,viewTransition:R,...b},B){let{basename:L}=H.useContext(Fn),$=typeof p=="string"&&Nv.test(p),Q,P=!1;if(typeof p=="string"&&$&&(Q=p,Dv))try{let w=new URL(window.location.href),D=p.startsWith("//")?new URL(w.protocol+p):new URL(p),I=Yi(D.pathname,L);D.origin===w.origin&&I!=null?p=I+D.search+D.hash:P=!0}catch{Gn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=I1(p,{relative:o}),[rt,ut,ct]=fS(s,b),Et=TS(p,{replace:d,state:g,target:y,preventScrollReset:E,relative:o,viewTransition:R});function x(w){e&&e(w),w.defaultPrevented||Et(w)}let A=H.createElement("a",{...b,...ct,href:Q||X,onClick:P||c?e:x,ref:pS(B,ut),target:y,"data-discover":!$&&i==="render"?"true":void 0});return rt&&!$?H.createElement(H.Fragment,null,A,H.createElement(dS,{page:X})):A});_o.displayName="Link";var _S=H.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:y,...p},E){let R=No(d,{relative:p.relative}),b=Yn(),B=H.useContext(Bc),{navigator:L,basename:$}=H.useContext(Fn),Q=B!=null&&RS(R)&&g===!0,P=L.encodeLocation?L.encodeLocation(R).pathname:R.pathname,X=b.pathname,rt=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;i||(X=X.toLowerCase(),rt=rt?rt.toLowerCase():null,P=P.toLowerCase()),rt&&$&&(rt=Yi(rt,$)||rt);const ut=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let ct=X===P||!o&&X.startsWith(P)&&X.charAt(ut)==="/",Et=rt!=null&&(rt===P||!o&&rt.startsWith(P)&&rt.charAt(P.length)==="/"),x={isActive:ct,isPending:Et,isTransitioning:Q},A=ct?e:void 0,w;typeof s=="function"?w=s(x):w=[s,ct?"active":null,Et?"pending":null,Q?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(x):c;return H.createElement(_o,{...p,"aria-current":A,className:w,ref:E,style:D,to:d,viewTransition:g},typeof y=="function"?y(x):y)});_S.displayName="NavLink";var vS=H.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=hc,action:g,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:R,...b},B)=>{let L=bS(),$=wS(g,{relative:p}),Q=d.toLowerCase()==="get"?"get":"post",P=typeof g=="string"&&Nv.test(g),X=rt=>{if(y&&y(rt),rt.defaultPrevented)return;rt.preventDefault();let ut=rt.nativeEvent.submitter,ct=ut?.getAttribute("formmethod")||d;L(ut||rt.currentTarget,{fetcherKey:e,method:ct,navigate:i,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:R})};return H.createElement("form",{ref:B,method:Q,action:$,onSubmit:s?y:X,...b,"data-discover":!P&&a==="render"?"true":void 0})});vS.displayName="Form";function ES(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xv(a){let e=H.useContext(ks);return le(e,ES(a)),e}function TS(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=Zi(),y=Yn(),p=No(a,{relative:c});return H.useCallback(E=>{if(J1(E,e)){E.preventDefault();let R=i!==void 0?i:yo(y)===yo(p);g(a,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[y,g,p,i,s,e,a,o,c,d])}var SS=0,AS=()=>`__${String(++SS)}__`;function bS(){let{router:a}=xv("useSubmit"),{basename:e}=H.useContext(Fn),i=q1();return H.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:y,body:p}=eS(s,e);if(o.navigate===!1){let E=o.fetcherKey||AS();await a.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function wS(a,{relative:e}={}){let{basename:i}=H.useContext(Fn),s=H.useContext(Qn);le(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...No(a||".",{relative:e})},d=Yn();if(a==null){c.search=d.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(E=>E==="")){g.delete("index"),y.filter(R=>R).forEach(R=>g.append("index",R));let E=g.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Qi([i,c.pathname])),yo(c)}function RS(a,e={}){let i=H.useContext(vv);le(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xv("useViewTransitionState"),o=No(a,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Yi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=Yi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return vc(o.pathname,d)!=null||vc(o.pathname,c)!=null}[...uS];const CS=()=>{};var s_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},DS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],g=a[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,g=d?a[o+1]:0,y=o+2<a.length,p=y?a[o+2]:0,E=c>>2,R=(c&3)<<4|g>>4;let b=(g&15)<<2|p>>6,B=p&63;y||(B=64,d||(b=64)),s.push(i[E],i[R],i[b],i[B])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Iv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):DS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const R=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||g==null||p==null||R==null)throw new NS;const b=c<<2|g>>4;if(s.push(b),p!==64){const B=g<<4&240|p>>2;if(s.push(B),R!==64){const L=p<<6&192|R;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xS=function(a){const e=Iv(a);return Vv.encodeByteArray(e,!0)},Ec=function(a){return xS(a).replace(/\./g,"")},IS=function(a){try{return Vv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=()=>VS().__FIREBASE_DEFAULTS__,MS=()=>{if(typeof process>"u"||typeof s_>"u")return;const a=s_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},US=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&IS(a[1]);return e&&JSON.parse(e)},Jd=()=>{try{return CS()||OS()||MS()||US()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},LS=a=>{var e,i;return(i=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},PS=a=>{const e=LS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Ov=()=>{var a;return(a=Jd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zS(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[Ec(JSON.stringify(i)),Ec(JSON.stringify(d)),""].join(".")}const co={};function kS(){const a={prod:[],emulator:[]};for(const e of Object.keys(co))co[e]?a.emulator.push(e):a.prod.push(e);return a}function qS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let l_=!1;function HS(a,e){if(typeof window>"u"||typeof document>"u"||!Wd(window.location.host)||co[a]===e||co[a]||l_)return;co[a]=e;function i(b){return`__firebase__banner__${b}`}const s="__firebase__banner",c=kS().prod.length>0;function d(){const b=document.getElementById(s);b&&b.remove()}function g(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function y(b,B){b.setAttribute("width","24"),b.setAttribute("id",B),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{l_=!0,d()},b}function E(b,B){b.setAttribute("id",B),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function R(){const b=qS(s),B=i("text"),L=document.getElementById(B)||document.createElement("span"),$=i("learnmore"),Q=document.getElementById($)||document.createElement("a"),P=i("preprendIcon"),X=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const rt=b.element;g(rt),E(Q,$);const ut=p();y(X,P),rt.append(X,L,Q,ut),document.body.appendChild(rt)}c?(L.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FS(){var a;const e=(a=Jd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YS(){try{return typeof indexedDB=="object"}catch{return!1}}function KS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="FirebaseError";class Hs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=XS,Object.setPrototypeOf(this,Hs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mv.prototype.create)}}class Mv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?$S(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Hs(o,g,s)}}function $S(a,e){return a.replace(ZS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ZS=/\{\$([^}]+)}/g;function Tc(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(o_(c)&&o_(d)){if(!Tc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function o_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(a){return a&&a._delegate?a._delegate:a}class vo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new BS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tA(e))try{this.getOrInitializeService({instanceIdentifier:Ca})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ca){return this.instances.has(e)}getOptions(e=Ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:WS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ca){return this.component?this.component.multipleInstances?e:Ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WS(a){return a===Ca?void 0:a}function tA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new JS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(kt||(kt={}));const nA={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},iA=kt.INFO,rA={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},aA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=rA[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uv{constructor(e){this.name=e,this._logLevel=iA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...e),this._logHandler(this,kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...e),this._logHandler(this,kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...e),this._logHandler(this,kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...e),this._logHandler(this,kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...e),this._logHandler(this,kt.ERROR,...e)}}const sA=(a,e)=>e.some(i=>a instanceof i);let u_,c_;function lA(){return u_||(u_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oA(){return c_||(c_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,Sd=new WeakMap,Pv=new WeakMap,fd=new WeakMap,tm=new WeakMap;function uA(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Dr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Lv.set(i,a)}).catch(()=>{}),tm.set(e,a),e}function cA(a){if(Sd.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Sd.set(a,e)}let Ad={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Sd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Pv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Dr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function hA(a){Ad=a(Ad)}function fA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(dd(this),e,...i);return Pv.set(s,e.sort?e.sort():[e]),Dr(s)}:oA().includes(a)?function(...e){return a.apply(dd(this),e),Dr(Lv.get(this))}:function(...e){return Dr(a.apply(dd(this),e))}}function dA(a){return typeof a=="function"?fA(a):(a instanceof IDBTransaction&&cA(a),sA(a,lA())?new Proxy(a,Ad):a)}function Dr(a){if(a instanceof IDBRequest)return uA(a);if(fd.has(a))return fd.get(a);const e=dA(a);return e!==a&&(fd.set(a,e),tm.set(e,a)),e}const dd=a=>tm.get(a);function mA(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),g=Dr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Dr(d.result),y.oldVersion,y.newVersion,Dr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const gA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],md=new Map;function h_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(md.get(e))return md.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=pA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return md.set(e,c),c}hA(a=>({...a,get:(e,i,s)=>h_(e,i)||a.get(e,i,s),has:(e,i)=>!!h_(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_A(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function _A(a){const e=a.getComponent();return e?.type==="VERSION"}const bd="@firebase/app",f_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Uv("@firebase/app"),vA="@firebase/app-compat",EA="@firebase/analytics-compat",TA="@firebase/analytics",SA="@firebase/app-check-compat",AA="@firebase/app-check",bA="@firebase/auth",wA="@firebase/auth-compat",RA="@firebase/database",CA="@firebase/data-connect",DA="@firebase/database-compat",NA="@firebase/functions",xA="@firebase/functions-compat",IA="@firebase/installations",VA="@firebase/installations-compat",OA="@firebase/messaging",MA="@firebase/messaging-compat",UA="@firebase/performance",LA="@firebase/performance-compat",PA="@firebase/remote-config",BA="@firebase/remote-config-compat",zA="@firebase/storage",jA="@firebase/storage-compat",kA="@firebase/firestore",qA="@firebase/ai",HA="@firebase/firestore-compat",GA="firebase",FA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="[DEFAULT]",QA={[bd]:"fire-core",[vA]:"fire-core-compat",[TA]:"fire-analytics",[EA]:"fire-analytics-compat",[AA]:"fire-app-check",[SA]:"fire-app-check-compat",[bA]:"fire-auth",[wA]:"fire-auth-compat",[RA]:"fire-rtdb",[CA]:"fire-data-connect",[DA]:"fire-rtdb-compat",[NA]:"fire-fn",[xA]:"fire-fn-compat",[IA]:"fire-iid",[VA]:"fire-iid-compat",[OA]:"fire-fcm",[MA]:"fire-fcm-compat",[UA]:"fire-perf",[LA]:"fire-perf-compat",[PA]:"fire-rc",[BA]:"fire-rc-compat",[zA]:"fire-gcs",[jA]:"fire-gcs-compat",[kA]:"fire-fst",[HA]:"fire-fst-compat",[qA]:"fire-vertex","fire-js":"fire-js",[GA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,YA=new Map,Rd=new Map;function d_(a,e){try{a.container.addComponent(e)}catch(i){Ki.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ac(a){const e=a.name;if(Rd.has(e))return Ki.debug(`There were multiple attempts to register component ${e}.`),!1;Rd.set(e,a);for(const i of Sc.values())d_(i,a);for(const i of YA.values())d_(i,a);return!0}function KA(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function XA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new Mv("app","Firebase",$A);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=FA;function Bv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:wd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Nr.create("bad-app-name",{appName:String(o)});if(i||(i=Ov()),!i)throw Nr.create("no-options");const c=Sc.get(o);if(c){if(Tc(i,c.options)&&Tc(s,c.config))return c;throw Nr.create("duplicate-app",{appName:o})}const d=new eA(o);for(const y of Rd.values())d.addComponent(y);const g=new ZA(i,s,d);return Sc.set(o,g),g}function WA(a=wd){const e=Sc.get(a);if(!e&&a===wd&&Ov())return Bv();if(!e)throw Nr.create("no-app",{appName:a});return e}function Os(a,e,i){var s;let o=(s=QA[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ki.warn(g.join(" "));return}Ac(new vo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firebase-heartbeat-database",eb=1,Eo="firebase-heartbeat-store";let gd=null;function zv(){return gd||(gd=mA(tb,eb,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Eo)}catch(i){console.warn(i)}}}}).catch(a=>{throw Nr.create("idb-open",{originalErrorMessage:a.message})})),gd}async function nb(a){try{const i=(await zv()).transaction(Eo),s=await i.objectStore(Eo).get(jv(a));return await i.done,s}catch(e){if(e instanceof Hs)Ki.warn(e.message);else{const i=Nr.create("idb-get",{originalErrorMessage:e?.message});Ki.warn(i.message)}}}async function m_(a,e){try{const s=(await zv()).transaction(Eo,"readwrite");await s.objectStore(Eo).put(e,jv(a)),await s.done}catch(i){if(i instanceof Hs)Ki.warn(i.message);else{const s=Nr.create("idb-set",{originalErrorMessage:i?.message});Ki.warn(s.message)}}}function jv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=1024,rb=30;class ab{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new lb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=g_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>rb){const d=ob(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ki.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=g_(),{heartbeatsToSend:s,unsentEntries:o}=sb(this._heartbeatsCache.heartbeats),c=Ec(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Ki.warn(i),""}}}function g_(){return new Date().toISOString().substring(0,10)}function sb(a,e=ib){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),p_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),p_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class lb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YS()?KS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return m_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return m_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function p_(a){return Ec(JSON.stringify({version:2,heartbeats:a})).length}function ob(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(a){Ac(new vo("platform-logger",e=>new yA(e),"PRIVATE")),Ac(new vo("heartbeat",e=>new ab(e),"PRIVATE")),Os(bd,f_,a),Os(bd,f_,"esm2017"),Os("fire-js","")}ub("");var y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,kv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function w(){}w.prototype=A.prototype,x.D=A.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(D,I,O){for(var C=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)C[Rt-2]=arguments[Rt];return A.prototype[I].apply(D,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,A,w){w||(w=0);var D=Array(16);if(typeof A=="string")for(var I=0;16>I;++I)D[I]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(I=0;16>I;++I)D[I]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=x.g[0],w=x.g[1],I=x.g[2];var O=x.g[3],C=A+(O^w&(I^O))+D[0]+3614090360&4294967295;A=w+(C<<7&4294967295|C>>>25),C=O+(I^A&(w^I))+D[1]+3905402710&4294967295,O=A+(C<<12&4294967295|C>>>20),C=I+(w^O&(A^w))+D[2]+606105819&4294967295,I=O+(C<<17&4294967295|C>>>15),C=w+(A^I&(O^A))+D[3]+3250441966&4294967295,w=I+(C<<22&4294967295|C>>>10),C=A+(O^w&(I^O))+D[4]+4118548399&4294967295,A=w+(C<<7&4294967295|C>>>25),C=O+(I^A&(w^I))+D[5]+1200080426&4294967295,O=A+(C<<12&4294967295|C>>>20),C=I+(w^O&(A^w))+D[6]+2821735955&4294967295,I=O+(C<<17&4294967295|C>>>15),C=w+(A^I&(O^A))+D[7]+4249261313&4294967295,w=I+(C<<22&4294967295|C>>>10),C=A+(O^w&(I^O))+D[8]+1770035416&4294967295,A=w+(C<<7&4294967295|C>>>25),C=O+(I^A&(w^I))+D[9]+2336552879&4294967295,O=A+(C<<12&4294967295|C>>>20),C=I+(w^O&(A^w))+D[10]+4294925233&4294967295,I=O+(C<<17&4294967295|C>>>15),C=w+(A^I&(O^A))+D[11]+2304563134&4294967295,w=I+(C<<22&4294967295|C>>>10),C=A+(O^w&(I^O))+D[12]+1804603682&4294967295,A=w+(C<<7&4294967295|C>>>25),C=O+(I^A&(w^I))+D[13]+4254626195&4294967295,O=A+(C<<12&4294967295|C>>>20),C=I+(w^O&(A^w))+D[14]+2792965006&4294967295,I=O+(C<<17&4294967295|C>>>15),C=w+(A^I&(O^A))+D[15]+1236535329&4294967295,w=I+(C<<22&4294967295|C>>>10),C=A+(I^O&(w^I))+D[1]+4129170786&4294967295,A=w+(C<<5&4294967295|C>>>27),C=O+(w^I&(A^w))+D[6]+3225465664&4294967295,O=A+(C<<9&4294967295|C>>>23),C=I+(A^w&(O^A))+D[11]+643717713&4294967295,I=O+(C<<14&4294967295|C>>>18),C=w+(O^A&(I^O))+D[0]+3921069994&4294967295,w=I+(C<<20&4294967295|C>>>12),C=A+(I^O&(w^I))+D[5]+3593408605&4294967295,A=w+(C<<5&4294967295|C>>>27),C=O+(w^I&(A^w))+D[10]+38016083&4294967295,O=A+(C<<9&4294967295|C>>>23),C=I+(A^w&(O^A))+D[15]+3634488961&4294967295,I=O+(C<<14&4294967295|C>>>18),C=w+(O^A&(I^O))+D[4]+3889429448&4294967295,w=I+(C<<20&4294967295|C>>>12),C=A+(I^O&(w^I))+D[9]+568446438&4294967295,A=w+(C<<5&4294967295|C>>>27),C=O+(w^I&(A^w))+D[14]+3275163606&4294967295,O=A+(C<<9&4294967295|C>>>23),C=I+(A^w&(O^A))+D[3]+4107603335&4294967295,I=O+(C<<14&4294967295|C>>>18),C=w+(O^A&(I^O))+D[8]+1163531501&4294967295,w=I+(C<<20&4294967295|C>>>12),C=A+(I^O&(w^I))+D[13]+2850285829&4294967295,A=w+(C<<5&4294967295|C>>>27),C=O+(w^I&(A^w))+D[2]+4243563512&4294967295,O=A+(C<<9&4294967295|C>>>23),C=I+(A^w&(O^A))+D[7]+1735328473&4294967295,I=O+(C<<14&4294967295|C>>>18),C=w+(O^A&(I^O))+D[12]+2368359562&4294967295,w=I+(C<<20&4294967295|C>>>12),C=A+(w^I^O)+D[5]+4294588738&4294967295,A=w+(C<<4&4294967295|C>>>28),C=O+(A^w^I)+D[8]+2272392833&4294967295,O=A+(C<<11&4294967295|C>>>21),C=I+(O^A^w)+D[11]+1839030562&4294967295,I=O+(C<<16&4294967295|C>>>16),C=w+(I^O^A)+D[14]+4259657740&4294967295,w=I+(C<<23&4294967295|C>>>9),C=A+(w^I^O)+D[1]+2763975236&4294967295,A=w+(C<<4&4294967295|C>>>28),C=O+(A^w^I)+D[4]+1272893353&4294967295,O=A+(C<<11&4294967295|C>>>21),C=I+(O^A^w)+D[7]+4139469664&4294967295,I=O+(C<<16&4294967295|C>>>16),C=w+(I^O^A)+D[10]+3200236656&4294967295,w=I+(C<<23&4294967295|C>>>9),C=A+(w^I^O)+D[13]+681279174&4294967295,A=w+(C<<4&4294967295|C>>>28),C=O+(A^w^I)+D[0]+3936430074&4294967295,O=A+(C<<11&4294967295|C>>>21),C=I+(O^A^w)+D[3]+3572445317&4294967295,I=O+(C<<16&4294967295|C>>>16),C=w+(I^O^A)+D[6]+76029189&4294967295,w=I+(C<<23&4294967295|C>>>9),C=A+(w^I^O)+D[9]+3654602809&4294967295,A=w+(C<<4&4294967295|C>>>28),C=O+(A^w^I)+D[12]+3873151461&4294967295,O=A+(C<<11&4294967295|C>>>21),C=I+(O^A^w)+D[15]+530742520&4294967295,I=O+(C<<16&4294967295|C>>>16),C=w+(I^O^A)+D[2]+3299628645&4294967295,w=I+(C<<23&4294967295|C>>>9),C=A+(I^(w|~O))+D[0]+4096336452&4294967295,A=w+(C<<6&4294967295|C>>>26),C=O+(w^(A|~I))+D[7]+1126891415&4294967295,O=A+(C<<10&4294967295|C>>>22),C=I+(A^(O|~w))+D[14]+2878612391&4294967295,I=O+(C<<15&4294967295|C>>>17),C=w+(O^(I|~A))+D[5]+4237533241&4294967295,w=I+(C<<21&4294967295|C>>>11),C=A+(I^(w|~O))+D[12]+1700485571&4294967295,A=w+(C<<6&4294967295|C>>>26),C=O+(w^(A|~I))+D[3]+2399980690&4294967295,O=A+(C<<10&4294967295|C>>>22),C=I+(A^(O|~w))+D[10]+4293915773&4294967295,I=O+(C<<15&4294967295|C>>>17),C=w+(O^(I|~A))+D[1]+2240044497&4294967295,w=I+(C<<21&4294967295|C>>>11),C=A+(I^(w|~O))+D[8]+1873313359&4294967295,A=w+(C<<6&4294967295|C>>>26),C=O+(w^(A|~I))+D[15]+4264355552&4294967295,O=A+(C<<10&4294967295|C>>>22),C=I+(A^(O|~w))+D[6]+2734768916&4294967295,I=O+(C<<15&4294967295|C>>>17),C=w+(O^(I|~A))+D[13]+1309151649&4294967295,w=I+(C<<21&4294967295|C>>>11),C=A+(I^(w|~O))+D[4]+4149444226&4294967295,A=w+(C<<6&4294967295|C>>>26),C=O+(w^(A|~I))+D[11]+3174756917&4294967295,O=A+(C<<10&4294967295|C>>>22),C=I+(A^(O|~w))+D[2]+718787259&4294967295,I=O+(C<<15&4294967295|C>>>17),C=w+(O^(I|~A))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+O&4294967295}s.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var w=A-this.blockSize,D=this.B,I=this.h,O=0;O<A;){if(I==0)for(;O<=w;)o(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<A;)if(D[I++]=x.charCodeAt(O++),I==this.blockSize){o(this,D),I=0;break}}else for(;O<A;)if(D[I++]=x[O++],I==this.blockSize){o(this,D),I=0;break}}this.h=I,this.o+=A},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var w=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=w&255,w/=256;for(this.u(x),x=Array(16),A=w=0;4>A;++A)for(var D=0;32>D;D+=8)x[w++]=this.g[A]>>>D&255;return x};function c(x,A){var w=g;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=A(x)}function d(x,A){this.h=A;for(var w=[],D=!0,I=x.length-1;0<=I;I--){var O=x[I]|0;D&&O==A||(w[I]=O,D=!1)}this.g=w}var g={};function y(x){return-128<=x&&128>x?c(x,function(A){return new d([A|0],0>A?-1:0)}):new d([x|0],0>x?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return Q(p(-x));for(var A=[],w=1,D=0;x>=w;D++)A[D]=x/w|0,w*=4294967296;return new d(A,0)}function E(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return Q(E(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=p(Math.pow(A,8)),D=R,I=0;I<x.length;I+=8){var O=Math.min(8,x.length-I),C=parseInt(x.substring(I,I+O),A);8>O?(O=p(Math.pow(A,O)),D=D.j(O).add(p(C))):(D=D.j(w),D=D.add(p(C)))}return D}var R=y(0),b=y(1),B=y(16777216);a=d.prototype,a.m=function(){if($(this))return-Q(this).m();for(var x=0,A=1,w=0;w<this.g.length;w++){var D=this.i(w);x+=(0<=D?D:4294967296+D)*A,A*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(L(this))return"0";if($(this))return"-"+Q(this).toString(x);for(var A=p(Math.pow(x,6)),w=this,D="";;){var I=ut(w,A).g;w=P(w,I.j(A));var O=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=I,L(w))return O+D;for(;6>O.length;)O="0"+O;D=O+D}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function L(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function $(x){return x.h==-1}a.l=function(x){return x=P(this,x),$(x)?-1:L(x)?0:1};function Q(x){for(var A=x.g.length,w=[],D=0;D<A;D++)w[D]=~x.g[D];return new d(w,~x.h).add(b)}a.abs=function(){return $(this)?Q(this):this},a.add=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],D=0,I=0;I<=A;I++){var O=D+(this.i(I)&65535)+(x.i(I)&65535),C=(O>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);D=C>>>16,O&=65535,C&=65535,w[I]=C<<16|O}return new d(w,w[w.length-1]&-2147483648?-1:0)};function P(x,A){return x.add(Q(A))}a.j=function(x){if(L(this)||L(x))return R;if($(this))return $(x)?Q(this).j(Q(x)):Q(Q(this).j(x));if($(x))return Q(this.j(Q(x)));if(0>this.l(B)&&0>x.l(B))return p(this.m()*x.m());for(var A=this.g.length+x.g.length,w=[],D=0;D<2*A;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<x.g.length;I++){var O=this.i(D)>>>16,C=this.i(D)&65535,Rt=x.i(I)>>>16,bt=x.i(I)&65535;w[2*D+2*I]+=C*bt,X(w,2*D+2*I),w[2*D+2*I+1]+=O*bt,X(w,2*D+2*I+1),w[2*D+2*I+1]+=C*Rt,X(w,2*D+2*I+1),w[2*D+2*I+2]+=O*Rt,X(w,2*D+2*I+2)}for(D=0;D<A;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=A;D<2*A;D++)w[D]=0;return new d(w,0)};function X(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function rt(x,A){this.g=x,this.h=A}function ut(x,A){if(L(A))throw Error("division by zero");if(L(x))return new rt(R,R);if($(x))return A=ut(Q(x),A),new rt(Q(A.g),Q(A.h));if($(A))return A=ut(x,Q(A)),new rt(Q(A.g),A.h);if(30<x.g.length){if($(x)||$(A))throw Error("slowDivide_ only works with positive integers.");for(var w=b,D=A;0>=D.l(x);)w=ct(w),D=ct(D);var I=Et(w,1),O=Et(D,1);for(D=Et(D,2),w=Et(w,2);!L(D);){var C=O.add(D);0>=C.l(x)&&(I=I.add(w),O=C),D=Et(D,1),w=Et(w,1)}return A=P(x,I.j(A)),new rt(I,A)}for(I=R;0<=x.l(A);){for(w=Math.max(1,Math.floor(x.m()/A.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),O=p(w),C=O.j(A);$(C)||0<C.l(x);)w-=D,O=p(w),C=O.j(A);L(O)&&(O=b),I=I.add(O),x=P(x,C)}return new rt(I,x)}a.A=function(x){return ut(this,x).h},a.and=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],D=0;D<A;D++)w[D]=this.i(D)&x.i(D);return new d(w,this.h&x.h)},a.or=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],D=0;D<A;D++)w[D]=this.i(D)|x.i(D);return new d(w,this.h|x.h)},a.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),w=[],D=0;D<A;D++)w[D]=this.i(D)^x.i(D);return new d(w,this.h^x.h)};function ct(x){for(var A=x.g.length+1,w=[],D=0;D<A;D++)w[D]=x.i(D)<<1|x.i(D-1)>>>31;return new d(w,x.h)}function Et(x,A){var w=A>>5;A%=32;for(var D=x.g.length-w,I=[],O=0;O<D;O++)I[O]=0<A?x.i(O+w)>>>A|x.i(O+w+1)<<32-A:x.i(O+w);return new d(I,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,kv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,xr=d}).apply(typeof y_<"u"?y_:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qv,so,Hv,dc,Cd,Gv,Fv,Qv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var j=u[S];if(!(j in _))break t;_=_[j]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,S=!1,j={next:function(){if(!S&&_<u.length){var K=_++;return{value:m(K,u[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function R(u,m,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),u.apply(m,j)}}return function(){return u.apply(m,arguments)}}function b(u,m,_){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,b.apply(null,arguments)}function B(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,j,K){for(var st=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)st[Pt-2]=arguments[Pt];return m.prototype[j].apply(S,st)}}function $(u){const m=u.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function Q(u,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(y(S)){const j=u.length||0,K=S.length||0;u.length=j+K;for(let st=0;st<K;st++)u[j+st]=S[st]}else u.push(S)}}class P{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){return/^[\s\xa0]*$/.test(u)}function rt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ut(u){return ut[" "](u),u}ut[" "]=function(){};var ct=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function Et(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function x(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function A(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(_ in S)u[_]=S[_];for(let K=0;K<w.length;K++)_=w[K],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function I(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function O(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Rt{constructor(){this.h=this.g=null}add(m,_){const S=bt.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var bt=new P(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let et,mt=!1,Ht=new Rt,V=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(nt)}};var nt=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){O(_)}var m=bt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}mt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function It(u,m){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ct){t:{try{ut(m.nodeName);var j=!0;break t}catch{}j=!1}j||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&It.aa.h.call(this)}}L(It,at);var St={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),ne=0;function Kn(u,m,_,S,j){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=j,this.key=++ne,this.da=this.fa=!1}function Ji(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function vi(u){this.src=u,this.g={},this.h=0}vi.prototype.add=function(u,m,_,S,j){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var st=Hr(u,m,S,j);return-1<st?(m=u[st],_||(m.fa=!1)):(m=new Kn(m,this.src,K,!!S,j),m.fa=_,u.push(m)),m};function qr(u,m){var _=m.type;if(_ in u.g){var S=u.g[_],j=Array.prototype.indexOf.call(S,m,void 0),K;(K=0<=j)&&Array.prototype.splice.call(S,j,1),K&&(Ji(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Hr(u,m,_,S){for(var j=0;j<u.length;++j){var K=u[j];if(!K.da&&K.listener==m&&K.capture==!!_&&K.ha==S)return j}return-1}var Gr="closure_lm_"+(1e6*Math.random()|0),Ks={};function Uo(u,m,_,S,j){if(Array.isArray(m)){for(var K=0;K<m.length;K++)Uo(u,m[K],_,S,j);return null}return _=Lo(_),u&&u[Ve]?u.K(m,_,p(S)?!!S.capture:!1,j):Sn(u,m,_,!1,S,j)}function Sn(u,m,_,S,j,K){if(!m)throw Error("Invalid event type");var st=p(j)?!!j.capture:!!j,Pt=Pa(u);if(Pt||(u[Gr]=Pt=new vi(u)),_=Pt.add(m,_,S,st,K),_.proxy)return _;if(S=ih(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)gt||(j=st),j===void 0&&(j=!1),u.addEventListener(m.toString(),S,j);else if(u.attachEvent)u.attachEvent(Fr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ih(){function u(_){return m.call(u.src,u.listener,_)}const m=rh;return u}function Xs(u,m,_,S,j){if(Array.isArray(m))for(var K=0;K<m.length;K++)Xs(u,m[K],_,S,j);else S=p(S)?!!S.capture:!!S,_=Lo(_),u&&u[Ve]?(u=u.i,m=String(m).toString(),m in u.g&&(K=u.g[m],_=Hr(K,_,S,j),-1<_&&(Ji(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete u.g[m],u.h--)))):u&&(u=Pa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Hr(m,_,S,j)),(_=-1<u?m[u]:null)&&La(_))}function La(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ve])qr(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(Fr(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Pa(m))?(qr(_,u),_.h==0&&(_.src=null,m[Gr]=null)):Ji(u)}}}function Fr(u){return u in Ks?Ks[u]:Ks[u]="on"+u}function rh(u,m){if(u.da)u=!0;else{m=new It(m,this);var _=u.listener,S=u.ha||u.src;u.fa&&La(u),u=_.call(S,m)}return u}function Pa(u){return u=u[Gr],u instanceof vi?u:null}var $s="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lo(u){return typeof u=="function"?u:(u[$s]||(u[$s]=function(m){return u.handleEvent(m)}),u[$s])}function he(){lt.call(this),this.i=new vi(this),this.M=this,this.F=null}L(he,lt),he.prototype[Ve]=!0,he.prototype.removeEventListener=function(u,m,_,S){Xs(this,u,m,_,S)};function Yt(u,m){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new at(m,u);else if(m instanceof at)m.target=m.target||u;else{var j=m;m=new at(S,u),D(m,j)}if(j=!0,_)for(var K=_.length-1;0<=K;K--){var st=m.g=_[K];j=fn(st,S,!0,m)&&j}if(st=m.g=u,j=fn(st,S,!0,m)&&j,j=fn(st,S,!1,m)&&j,_)for(K=0;K<_.length;K++)st=m.g=_[K],j=fn(st,S,!1,m)&&j}he.prototype.N=function(){if(he.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],S=0;S<_.length;S++)Ji(_[S]);delete u.g[m],u.h--}}this.F=null},he.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},he.prototype.L=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function fn(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,K=0;K<m.length;++K){var st=m[K];if(st&&!st.da&&st.capture==_){var Pt=st.listener,we=st.ha||st.src;st.fa&&qr(u.i,st),j=Pt.call(we,S)!==!1&&j}}return j&&!S.defaultPrevented}function Ye(u,m,_){if(typeof u=="function")_&&(u=b(u,_));else if(u&&typeof u.handleEvent=="function")u=b(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Po(u){u.g=Ye(()=>{u.g=null,u.i&&(u.i=!1,Po(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ah extends lt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Po(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qr(u){lt.call(this),this.h=u,this.g={}}L(Qr,lt);var Yr=[];function Kr(u){Et(u.g,function(m,_){this.g.hasOwnProperty(_)&&La(m)},u),u.g={}}Qr.prototype.N=function(){Qr.aa.N.call(this),Kr(this)},Qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=g.JSON.stringify,Ba=g.JSON.parse,Xr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Zs(){}Zs.prototype.h=null;function Js(u){return u.h||(u.h=u.i())}function Ws(){}var Ei={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ti(){at.call(this,"d")}L(Ti,at);function tl(){at.call(this,"c")}L(tl,at);var Xn={},el=null;function Wi(){return el=el||new he}Xn.La="serverreachability";function za(u){at.call(this,Xn.La,u)}L(za,at);function tr(u){const m=Wi();Yt(m,new za(m))}Xn.STAT_EVENT="statevent";function Bo(u,m){at.call(this,Xn.STAT_EVENT,u),this.stat=m}L(Bo,at);function ae(u){const m=Wi();Yt(m,new Bo(m,u))}Xn.Ma="timingevent";function be(u,m){at.call(this,Xn.Ma,u),this.size=m}L(be,at);function _e(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function nl(u,m,_,S,j,K){u.info(function(){if(u.g)if(K)for(var st="",Pt=K.split("&"),we=0;we<Pt.length;we++){var Bt=Pt[we].split("=");if(1<Bt.length){var Me=Bt[0];Bt=Bt[1];var Re=Me.split("_");st=2<=Re.length&&Re[1]=="type"?st+(Me+"="+Bt+"&"):st+(Me+"=redacted&")}}else st=null;else st=K;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+_+`
`+st})}function sh(u,m,_,S,j,K,st){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+_+`
`+K+" "+st})}function er(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+$r(u,_)+(S?" "+S:"")})}function zo(u,m){u.info(function(){return"TIMEOUT: "+m})}An.prototype.info=function(){};function $r(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var st=1;st<j.length;st++)j[st]=""}}}}return Ln(_)}catch{return m}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Zn(){}L(Zn,Zs),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},$n=new Zn;function We(u,m,_,S){this.j=u,this.i=m,this.l=_,this.R=S||1,this.U=new Qr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var il={},ja={};function Pn(u,m,_){u.L=1,u.v=ea(dn(m)),u.m=_,u.P=!0,Ai(u,null)}function Ai(u,m){u.F=Date.now(),Zr(u),u.A=dn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ul(_.i,"t",S),u.C=0,_=u.j.J,u.h=new me,u.g=eu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new ah(b(u.Y,u,u.g),u.O)),m=u.U,_=u.g,S=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Yr[0]=j.toString()),j=Yr);for(var K=0;K<j.length;K++){var st=Uo(_,j[K],S||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),tr(),nl(u.i,u.u,u.A,u.l,u.R,u.m)}We.prototype.ca=function(u){u=u.target;const m=this.M;m&&Cn(u)==3?m.j():this.Y(u)},We.prototype.Y=function(u){try{if(u==this.g)t:{const Re=Cn(this.g);var m=this.g.Ba();const Ii=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||Yo(this.g)))){this.J||Re!=4||m==7||(m==8||0>=Ii?tr(3):tr(2)),ir(this);var _=this.g.Z();this.X=_;e:if(jo(this)){var S=Yo(this.g);u="";var j=S.length,K=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Jn(this);var st="";break e}this.h.i=new g.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(K&&m==j-1)});S.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,sh(this.i,this.u,this.A,this.l,this.R,Re,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,we=this.g;if((Pt=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Pt)){var Bt=Pt;break e}}Bt=null}if(_=Bt)er(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jr(this,_);else{this.o=!1,this.s=3,ae(12),ze(this),Jn(this);break t}}if(this.P){_=!0;let je;for(;!this.J&&this.C<st.length;)if(je=ko(this,st),je==ja){Re==4&&(this.s=4,ae(14),_=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(je==il){this.s=4,ae(15),er(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else er(this.i,this.l,je,null),Jr(this,je);if(jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||st.length!=0||this.h.h||(this.s=1,ae(16),_=!1),this.o=this.o&&_,!_)er(this.i,this.l,st,"[Invalid Chunked Response]"),ze(this),Jn(this);else if(0<st.length&&!this.W){this.W=!0;var Me=this.j;Me.g==this&&Me.ba&&!Me.M&&(Me.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),ua(Me),Me.M=!0,ae(11))}}else er(this.i,this.l,st,null),Jr(this,st);Re==4&&ze(this),this.o&&!this.J&&(Re==4?Jo(this.j,this):(this.o=!1,Zr(this)))}else hh(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),ze(this),Jn(this)}}}catch{}finally{}};function jo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ko(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?ja:(_=Number(m.substring(_,S)),isNaN(_)?il:(S+=1,S+_>m.length?ja:(m=m.slice(S,S+_),u.C=S+_,m)))}We.prototype.cancel=function(){this.J=!0,ze(this)};function Zr(u){u.S=Date.now()+u.I,qo(u,u.I)}function qo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_e(b(u.ba,u),m)}function ir(u){u.B&&(g.clearTimeout(u.B),u.B=null)}We.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(zo(this.i,this.A),this.L!=2&&(tr(),ae(17)),ze(this),this.s=2,Jn(this)):qo(this,this.S-u)};function Jn(u){u.j.G==0||u.J||Jo(u.j,u)}function ze(u){ir(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Jr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||rl(_.h,u))){if(!u.K&&rl(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ja(_),$a(_);else break t;ml(_),ae(18)}}else _.za=j[1],0<_.za-_.T&&37500>j[2]&&_.F&&_.v==0&&!_.C&&(_.C=_e(b(_.Za,_),6e3));if(1>=qa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else xi(_,11)}else if((u.K||_.g==u)&&Ja(_),!X(m))for(j=_.Da.g.parse(m),m=0;m<j.length;m++){let Bt=j[m];if(_.T=Bt[0],Bt=Bt[1],_.G==2)if(Bt[0]=="c"){_.K=Bt[1],_.ia=Bt[2];const Me=Bt[3];Me!=null&&(_.la=Me,_.j.info("VER="+_.la));const Re=Bt[4];Re!=null&&(_.Aa=Re,_.j.info("SVER="+_.Aa));const Ii=Bt[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(S=1.5*Ii,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const je=u.g;if(je){const ai=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var K=S.h;K.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ha(K,K.h),K.h=null))}if(S.D){const pl=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;pl&&(S.ya=pl,$t(S.I,S.D,pl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var st=u;if(S.qa=tu(S,S.J?S.ia:null,S.W),st.K){tn(S.h,st);var Pt=st,we=S.L;we&&(Pt.I=we),Pt.B&&(ir(Pt),Zr(Pt)),S.g=st}else $o(S);0<_.i.length&&Za(_)}else Bt[0]!="stop"&&Bt[0]!="close"||xi(_,7);else _.G==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?xi(_,7):fl(_):Bt[0]!="noop"&&_.l&&_.l.ta(Bt),_.v=0)}}tr(4)}catch{}}var Ho=class{constructor(u,m){this.g=u,this.map=m}};function bi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function qa(u){return u.h?1:u.g?u.g.size:0}function rl(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ha(u,m){u.g?u.g.add(m):u.h=m}function tn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bi.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function al(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return $(u.i)}function lh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,S=0;S<_;S++)m.push(u[S]);return m}m=[],_=0;for(S in u)m[_++]=u[S];return m}function Ga(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const S in u)m[_++]=S;return m}}}function sl(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ga(u),S=lh(u),j=S.length,K=0;K<j;K++)m.call(void 0,S[K],_&&_[K],u)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),j=null;if(0<=S){var K=u[_].substring(0,S);j=u[_].substring(S+1)}else K=u[_];m(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ve(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ve){this.h=u.h,ta(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.s),this.l=u.l;var m=u.i,_=new Ri;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),wi(this,_),this.m=u.m}else u&&(m=String(u).match(Wr))?(this.h=!1,ta(this,m[1]||"",!0),this.o=bn(m[2]||""),this.g=bn(m[3]||"",!0),rr(this,m[4]),this.l=bn(m[5]||"",!0),wi(this,m[6]||"",!0),this.m=bn(m[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}ve.prototype.toString=function(){var u=[],m=this.j;m&&u.push(na(m,ll,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(na(m,ll,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(na(_,_.charAt(0)=="/"?uh:ol,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",na(_,Fa)),u.join("")};function dn(u){return new ve(u)}function ta(u,m,_){u.j=_?bn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function wi(u,m,_){m instanceof Ri?(u.i=m,Fo(u.i,u.h)):(_||(m=na(m,ch)),u.i=new Ri(m,u.h))}function $t(u,m,_){u.i.set(m,_)}function ea(u){return $t(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function bn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function na(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Go),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Go(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ll=/[#\/\?@]/g,ol=/[#\?:]/g,uh=/[#\?]/g,ch=/[#\?@]/g,Fa=/#/g;function Ri(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&oh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=Ri.prototype,a.add=function(u,m){wn(this),this.i=null,u=Wn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ci(u,m){wn(u),m=Wn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Di(u,m){return wn(u),m=Wn(u,m),u.g.has(m)}a.forEach=function(u,m){wn(this),this.g.forEach(function(_,S){_.forEach(function(j){u.call(m,j,S,this)},this)},this)},a.na=function(){wn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const j=u[S];for(let K=0;K<j.length;K++)_.push(m[S])}return _},a.V=function(u){wn(this);let m=[];if(typeof u=="string")Di(this,u)&&(m=m.concat(this.g.get(Wn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return wn(this),this.i=null,u=Wn(this,u),Di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ul(u,m,_){Ci(u,m),0<_.length&&(u.i=null,u.g.set(Wn(u,m),$(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const K=encodeURIComponent(String(S)),st=this.V(S);for(S=0;S<st.length;S++){var j=K;st[S]!==""&&(j+="="+encodeURIComponent(String(st[S]))),u.push(j)}}return this.i=u.join("&")};function Wn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Fo(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(_,S){var j=S.toLowerCase();S!=j&&(Ci(this,S),ul(this,j,_))},u)),u.j=m}function ia(u,m){const _=new An;if(g.Image){const S=new Image;S.onload=B(Rn,_,"TestLoadImage: loaded",!0,m,S),S.onerror=B(Rn,_,"TestLoadImage: error",!1,m,S),S.onabort=B(Rn,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=B(Rn,_,"TestLoadImage: timeout",!1,m,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Bn(u,m){const _=new An,S=new AbortController,j=setTimeout(()=>{S.abort(),Rn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(j),K.ok?Rn(_,"TestPingServer: ok",!0,m):Rn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Rn(_,"TestPingServer: error",!1,m)})}function Rn(u,m,_,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(_)}catch{}}function ra(){this.g=new Xr}function ti(u,m,_){const S=_||"";try{sl(u,function(j,K){let st=j;p(j)&&(st=Ln(j)),m.push(S+K+"="+encodeURIComponent(st))})}catch(j){throw m.push(S+"type="+encodeURIComponent("_badmap")),j}}function ar(u){this.l=u.Ub||null,this.j=u.eb||!1}L(ar,Zs),ar.prototype.g=function(){return new Ni(this.l,this.j)},ar.prototype.i=function(u){return function(){return u}}({});function Ni(u,m){he.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ni,he),a=Ni.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ni(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ei(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function cl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ei(this):ni(this),this.readyState==3&&cl(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,ei(this))},a.Qa=function(u){this.g&&(this.response=u,ei(this))},a.ga=function(){this.g&&ei(this)};function ei(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ni(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function hl(u){let m="";return Et(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function Oe(u,m,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=hl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):$t(u,m,_))}function Ft(u){he.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ft,he);var Qa=/^https?$/i,aa=["POST","PUT"];a=Ft.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?Js(this.o):Js($n),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(K){Qo(this,K);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)_.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())_.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),j=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(aa,m,void 0))||S||j||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,st]of _)this.g.setRequestHeader(K,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Qo(this,K)}};function Qo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ya(u),ii(u)}function Ya(u){u.A||(u.A=!0,Yt(u,"complete"),Yt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Yt(this,"complete"),Yt(this,"abort"),ii(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Ft.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},a.bb=function(){Ka(this)};function Ka(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Cn(u)!=4||u.Z()!=2)){if(u.u&&Cn(u)==4)Ye(u.Ea,0,u);else if(Yt(u,"readystatechange"),Cn(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var S;if(S=st===0){var j=String(u.D).match(Wr)[1]||null;!j&&g.self&&g.self.location&&(j=g.self.location.protocol.slice(0,-1)),S=!Qa.test(j?j.toLowerCase():"")}_=S}if(_)Yt(u,"complete"),Yt(u,"success");else{u.m=6;try{var K=2<Cn(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",Ya(u)}}finally{ii(u)}}}}function ii(u,m){if(u.g){sa(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Yt(u,"ready");try{_.onreadystatechange=S}catch{}}}function sa(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function Cn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ba(m)}};function Yo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function hh(u){const m={};u=(u.g&&2<=Cn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(X(u[S]))continue;var _=I(u[S]);const j=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=m[j]||[];m[j]=K,K.push(_)}x(m,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Xa(u){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,u),this.cb=la("retryDelaySeedMs",1e4,u),this.Wa=la("forwardChannelMaxRetries",2,u),this.wa=la("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new bi(u&&u.concurrentRequestLimit),this.Da=new ra,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Xa.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,S){ae(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=tu(this,null,this.W),Za(this)};function fl(u){if(Ko(u),u.G==3){var m=u.U++,_=dn(u.I);if($t(_,"SID",u.K),$t(_,"RID",m),$t(_,"TYPE","terminate"),oa(u,_),m=new We(u,u.j,m),m.L=2,m.v=ea(dn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zr(m)}Wo(u)}function $a(u){u.g&&(ua(u),u.g.cancel(),u.g=null)}function Ko(u){$a(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ja(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Za(u){if(!ka(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||V(),mt||(et(),mt=!0),Ht.add(m,u),u.B=0}}function fh(u,m){return qa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_e(b(u.Ga,u,m),gl(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new We(this,this.j,u);let K=this.o;if(this.S&&(K?(K=A(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Xo(this,j,m),_=dn(this.I),$t(_,"RID",u),$t(_,"CVER",22),this.D&&$t(_,"X-HTTP-Session-Id",this.D),oa(this,_),K&&(this.O?m="headers="+encodeURIComponent(String(hl(K)))+"&"+m:this.m&&Oe(_,this.m,K)),Ha(this.h,j),this.Ua&&$t(_,"TYPE","init"),this.P?($t(_,"$req",m),$t(_,"SID","null"),j.T=!0,Pn(j,_,null)):Pn(j,_,m),this.G=2}}else this.G==3&&(u?dl(this,u):this.i.length==0||ka(this.h)||dl(this))};function dl(u,m){var _;m?_=m.l:_=u.U++;const S=dn(u.I);$t(S,"SID",u.K),$t(S,"RID",_),$t(S,"AID",u.T),oa(u,S),u.m&&u.o&&Oe(S,u.m,u.o),_=new We(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Xo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ha(u.h,_),Pn(_,S,m)}function oa(u,m){u.H&&Et(u.H,function(_,S){$t(m,S,_)}),u.l&&sl({},function(_,S){$t(m,S,_)})}function Xo(u,m,_){_=Math.min(u.i.length,_);var S=u.l?b(u.l.Na,u.l,u):null;t:{var j=u.i;let K=-1;for(;;){const st=["count="+_];K==-1?0<_?(K=j[0].g,st.push("ofs="+K)):K=0:st.push("ofs="+K);let Pt=!0;for(let we=0;we<_;we++){let Bt=j[we].g;const Me=j[we].map;if(Bt-=K,0>Bt)K=Math.max(0,j[we].g-100),Pt=!1;else try{ti(Me,st,"req"+Bt+"_")}catch{S&&S(Me)}}if(Pt){S=st.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,S}function $o(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||V(),mt||(et(),mt=!0),Ht.add(m,u),u.v=0}}function ml(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_e(b(u.Fa,u),gl(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Zo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_e(b(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),$a(this),Zo(this))};function ua(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Zo(u){u.g=new We(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=dn(u.qa);$t(m,"RID","rpc"),$t(m,"SID",u.K),$t(m,"AID",u.T),$t(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&$t(m,"TO",u.ja),$t(m,"TYPE","xmlhttp"),oa(u,m),u.m&&u.o&&Oe(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ea(dn(m)),_.m=null,_.P=!0,Ai(_,u)}a.Za=function(){this.C!=null&&(this.C=null,$a(this),ml(this),ae(19))};function Ja(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Jo(u,m){var _=null;if(u.g==m){Ja(u),ua(u),u.g=null;var S=2}else if(rl(u.h,m))_=m.D,tn(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var j=u.B;S=Wi(),Yt(S,new be(S,_)),Za(u)}else $o(u);else if(j=m.s,j==3||j==0&&0<m.X||!(S==1&&fh(u,m)||S==2&&ml(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),j){case 1:xi(u,5);break;case 4:xi(u,10);break;case 3:xi(u,6);break;default:xi(u,2)}}}function gl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function xi(u,m){if(u.j.info("Error code "+m),m==2){var _=b(u.fb,u),S=u.Xa;const j=!S;S=new ve(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ta(S,"https"),ea(S),j?ia(S.toString(),_):Bn(S.toString(),_)}else ae(2);u.G=0,u.l&&u.l.sa(m),Wo(u),Ko(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function Wo(u){if(u.G=0,u.ka=[],u.l){const m=al(u.h);(m.length!=0||u.i.length!=0)&&(Q(u.ka,m),Q(u.ka,u.i),u.h.i.length=0,$(u.i),u.i.length=0),u.l.ra()}}function tu(u,m,_){var S=_ instanceof ve?dn(_):new ve(_);if(S.g!="")m&&(S.g=m+"."+S.g),rr(S,S.s);else{var j=g.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var K=new ve(null);S&&ta(K,S),m&&(K.g=m),j&&rr(K,j),_&&(K.l=_),S=K}return _=u.D,m=u.ya,_&&m&&$t(S,_,m),$t(S,"VER",u.la),oa(u,S),S}function eu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ft(new ar({eb:_})):new Ft(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function nu(){}a=nu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Wa(){}Wa.prototype.g=function(u,m){return new en(u,m)};function en(u,m){he.call(this),this.g=new Xa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!X(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!X(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ri(this)}L(en,he),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){fl(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Ln(u),u=_);m.i.push(new Ho(m.Ya++,u)),m.G==3&&Za(m)},en.prototype.N=function(){this.g.l=null,delete this.j,fl(this.g),delete this.g,en.aa.N.call(this)};function iu(u){Ti.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(iu,Ti);function ru(){tl.call(this),this.status=1}L(ru,tl);function ri(u){this.g=u}L(ri,nu),ri.prototype.ua=function(){Yt(this.g,"a")},ri.prototype.ta=function(u){Yt(this.g,new iu(u))},ri.prototype.sa=function(u){Yt(this.g,new ru)},ri.prototype.ra=function(){Yt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Qv=function(){return new Wa},Fv=function(){return Wi()},Gv=Xn,Cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,dc=nr,Si.COMPLETE="complete",Hv=Si,Ws.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",he.prototype.listen=he.prototype.K,so=Ws,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,qv=Ft}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore",v_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Uv("@firebase/firestore");function Ns(){return Ia.logLevel}function ot(a,...e){if(Ia.logLevel<=kt.DEBUG){const i=e.map(em);Ia.debug(`Firestore (${Gs}): ${a}`,...i)}}function Xi(a,...e){if(Ia.logLevel<=kt.ERROR){const i=e.map(em);Ia.error(`Firestore (${Gs}): ${a}`,...i)}}function Vr(a,...e){if(Ia.logLevel<=kt.WARN){const i=e.map(em);Ia.warn(`Firestore (${Gs}): ${a}`,...i)}}function em(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Yv(a,s,i)}function Yv(a,e,i){let s=`FIRESTORE (${Gs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Xi(s),new Error(s)}function Qt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||Yv(e,o,s)}function wt(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Hs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class hb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class fb{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Qt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ir,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ir)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qt(typeof s.accessToken=="string",31837,{l:s}),new Kv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qt(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class db{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new db(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Qt(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new E_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new E_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=pb(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function xt(a,e){return a<e?-1:a>e?1:0}function Dd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return xt(s,o);{const c=Xv(),d=yb(c.encode(T_(a,i)),c.encode(T_(e,i)));return d!==0?d:xt(s,o)}}i+=s>65535?2:1}return xt(a.length,e.length)}function T_(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function yb(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return xt(a[i],e[i]);return xt(a.length,e.length)}function Us(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="__name__";class hi{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=hi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return xt(e.length,i.length)}static compareSegments(e,i){const s=hi.isNumericId(e),o=hi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(e).compare(hi.extractNumericId(i)):Dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xr.fromString(e.substring(4,e.length-2))}}class ue extends hi{construct(e,i,s){return new ue(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ft(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new ue(i)}static emptyPath(){return new ue([])}}const _b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends hi{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return _b.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S_}static keyField(){return new Fe([S_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ft(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ft(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ft(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(ue.fromString(e))}static fromName(e){return new pt(ue.fromString(e).popFirst(5))}static empty(){return new pt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ue.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new ue(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(a,e,i){if(!i)throw new ft(it.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function Eb(a,e,i,s){if(e===!0&&s===!0)throw new ft(it.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function A_(a){if(!pt.isDocumentKey(a))throw new ft(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function $v(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function im(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function Va(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ft(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=im(a);throw new ft(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(a,e){const i={typeString:a};return e&&(i.value=e),i}function xo(a,e){if(!$v(a))throw new ft(it.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ft(it.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_=-62135596800,w_=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*w_);return new re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<b_)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w_}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xo(e,re._jsonSchema))return new re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ae("string",re._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=-1;function Tb(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new re(i+1,0):new re(i,s));return new Or(o,pt.empty(),e)}function Sb(a){return new Or(a.readTime,a.key,To)}class Or{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Or(At.min(),pt.empty(),To)}static max(){return new Or(At.max(),pt.empty(),To)}}function Ab(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:xt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(a){if(a.code!==it.FAILED_PRECONDITION||a.message!==bb)throw a;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new tt((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof tt?i:tt.resolve(i)}catch(i){return tt.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):tt.reject(i)}static resolve(e){return new tt((i,s)=>{i(e)})}static reject(e){return new tt((i,s)=>{s(e)})}static waitFor(e){return new tt((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},y=>s(y))}),d=!0,c===o&&i()})}static or(e){let i=tt.resolve(!1);for(const s of e)i=i.next(o=>o?tt.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new tt((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;i(e[p]).next(E=>{d[p]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new tt((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function Rb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Qs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}jc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=-1;function kc(a){return a==null}function bc(a){return a===0&&1/a==-1/0}function Cb(a){return typeof a=="number"&&Number.isInteger(a)&&!bc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="";function Db(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=R_(e)),e=Nb(a.get(i),e);return R_(e)}function Nb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case Zv:i+="";break;default:i+=c}}return i}function R_(a){return a+Zv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function jr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Jv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new ce(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lc(this.root,e,this.comparator,!0)}}class lc{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D_(this.data.getIterator())}getIteratorFrom(e){return new D_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Ie)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ie(this.comparator);return i.data=e,i}}class D_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new Tn([])}unionWith(e){let i=new Ie(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Tn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Wv("Invalid base64 string: "+c):c}}(e);return new Qe(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(a){if(Qt(!!a,39018),typeof a=="string"){let e=0;const i=xb.exec(a);if(Qt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ye(a.seconds),nanos:ye(a.nanos)}}function ye(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ur(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0="server_timestamp",e0="__type__",n0="__previous_value__",i0="__local_write_time__";function am(a){var e,i;return((i=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[e0])===null||i===void 0?void 0:i.stringValue)===t0}function qc(a){const e=a.mapValue.fields[n0];return am(e)?qc(e):e}function So(a){const e=Mr(a.mapValue.fields[i0].timestampValue);return new re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,i,s,o,c,d,g,y,p,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const wc="(default)";class Ao{constructor(e,i){this.projectId=e,this.database=i||wc}static empty(){return new Ao("","")}get isDefaultDatabase(){return this.database===wc}isEqual(e){return e instanceof Ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="__type__",Vb="__max__",oc={mapValue:{}},a0="__vector__",Rc="value";function Lr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?am(a)?4:Mb(a)?9007199254740991:Ob(a)?10:11:vt(28295,{value:a})}function yi(a,e){if(a===e)return!0;const i=Lr(a);if(i!==Lr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return So(a).isEqual(So(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Mr(o.timestampValue),g=Mr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return Ur(o.bytesValue).isEqual(Ur(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return ye(o.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ye(o.integerValue)===ye(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ye(o.doubleValue),g=ye(c.doubleValue);return d===g?bc(d)===bc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Us(a.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(C_(d)!==C_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!yi(d[y],g[y])))return!1;return!0}(a,e);default:return vt(52216,{left:a})}}function bo(a,e){return(a.values||[]).find(i=>yi(i,e))!==void 0}function Ls(a,e){if(a===e)return 0;const i=Lr(a),s=Lr(e);if(i!==s)return xt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(a.booleanValue,e.booleanValue);case 2:return function(c,d){const g=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,e);case 3:return N_(a.timestampValue,e.timestampValue);case 4:return N_(So(a),So(e));case 5:return Dd(a.stringValue,e.stringValue);case 6:return function(c,d){const g=Ur(c),y=Ur(d);return g.compareTo(y)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=xt(g[p],y[p]);if(E!==0)return E}return xt(g.length,y.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const g=xt(ye(c.latitude),ye(d.latitude));return g!==0?g:xt(ye(c.longitude),ye(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return x_(a.arrayValue,e.arrayValue);case 10:return function(c,d){var g,y,p,E;const R=c.fields||{},b=d.fields||{},B=(g=R[Rc])===null||g===void 0?void 0:g.arrayValue,L=(y=b[Rc])===null||y===void 0?void 0:y.arrayValue,$=xt(((p=B?.values)===null||p===void 0?void 0:p.length)||0,((E=L?.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:x_(B,L)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===oc.mapValue&&d===oc.mapValue)return 0;if(c===oc.mapValue)return 1;if(d===oc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let R=0;R<y.length&&R<E.length;++R){const b=Dd(y[R],E[R]);if(b!==0)return b;const B=Ls(g[y[R]],p[E[R]]);if(B!==0)return B}return xt(y.length,E.length)}(a.mapValue,e.mapValue);default:throw vt(23264,{le:i})}}function N_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return xt(a,e);const i=Mr(a),s=Mr(e),o=xt(i.seconds,s.seconds);return o!==0?o:xt(i.nanos,s.nanos)}function x_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ls(i[o],s[o]);if(c)return c}return xt(i.length,s.length)}function Ps(a){return Nd(a)}function Nd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Mr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Ur(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return pt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Nd(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Nd(i.fields[d])}`;return o+"}"}(a.mapValue):vt(61005,{value:a})}function mc(a){switch(Lr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qc(a);return e?16+mc(e):16;case 5:return 2*a.stringValue.length;case 6:return Ur(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+mc(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return jr(s.fields,(c,d)=>{o+=c.length+mc(d)}),o}(a.mapValue);default:throw vt(13486,{value:a})}}function xd(a){return!!a&&"integerValue"in a}function sm(a){return!!a&&"arrayValue"in a}function I_(a){return!!a&&"nullValue"in a}function V_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function gc(a){return!!a&&"mapValue"in a}function Ob(a){var e,i;return((i=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[r0])===null||i===void 0?void 0:i.stringValue)===a0}function ho(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return jr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=ho(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ho(a.arrayValue.values[i]);return e}return Object.assign({},a)}function Mb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Vb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!gc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ho(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=ho(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){jr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new cn(ho(this.value))}}function s0(a){const e=[];return jr(a.fields,(i,s)=>{const o=new Fe([i]);if(gc(s)){const c=s0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Je(e,0,At.min(),At.min(),At.min(),cn.empty(),0)}static newFoundDocument(e,i,s,o){return new Je(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Je(e,2,i,At.min(),At.min(),cn.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,At.min(),At.min(),cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i){this.position=e,this.inclusive=i}}function O_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Ls(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function M_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!yi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Ub(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{}class Ne extends l0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Pb(e,i,s):i==="array-contains"?new jb(e,s):i==="in"?new kb(e,s):i==="not-in"?new qb(e,s):i==="array-contains-any"?new Hb(e,s):new Ne(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Bb(e,s):new zb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ls(i,this.value)):i!==null&&Lr(this.value)===Lr(i)&&this.matchesComparison(Ls(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _i extends l0{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new _i(e,i)}matches(e){return o0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function o0(a){return a.op==="and"}function u0(a){return Lb(a)&&o0(a)}function Lb(a){for(const e of a.filters)if(e instanceof _i)return!1;return!0}function Id(a){if(a instanceof Ne)return a.field.canonicalString()+a.op.toString()+Ps(a.value);if(u0(a))return a.filters.map(e=>Id(e)).join(",");{const e=a.filters.map(i=>Id(i)).join(",");return`${a.op}(${e})`}}function c0(a,e){return a instanceof Ne?function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&yi(s.value,o.value)}(a,e):a instanceof _i?function(s,o){return o instanceof _i&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&c0(d,o.filters[g]),!0):!1}(a,e):void vt(19439)}function h0(a){return a instanceof Ne?function(i){return`${i.field.canonicalString()} ${i.op} ${Ps(i.value)}`}(a):a instanceof _i?function(i){return i.op.toString()+" {"+i.getFilters().map(h0).join(" ,")+"}"}(a):"Filter"}class Pb extends Ne{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Bb extends Ne{constructor(e,i){super(e,"in",i),this.keys=f0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class zb extends Ne{constructor(e,i){super(e,"not-in",i),this.keys=f0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function f0(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class jb extends Ne{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return sm(i)&&bo(i.arrayValue,this.value)}}class kb extends Ne{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&bo(this.value.arrayValue,i)}}class qb extends Ne{constructor(e,i){super(e,"not-in",i)}matches(e){if(bo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!bo(this.value.arrayValue,i)}}class Hb extends Ne{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!sm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>bo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function U_(a,e=null,i=[],s=[],o=null,c=null,d=null){return new Gb(a,e,i,s,o,c,d)}function lm(a){const e=wt(a);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Id(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),kc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ps(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ps(s)).join(",")),e.Pe=i}return e.Pe}function om(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Ub(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!c0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!M_(a.startAt,e.startAt)&&M_(a.endAt,e.endAt)}function Vd(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Fb(a,e,i,s,o,c,d,g){return new Hc(a,e,i,s,o,c,d,g)}function um(a){return new Hc(a)}function L_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Qb(a){return a.collectionGroup!==null}function fo(a){const e=wt(a);if(e.Te===null){e.Te=[];const i=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ie(Fe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.Te.push(new Dc(c,s))}),i.has(Fe.keyField().canonicalString())||e.Te.push(new Dc(Fe.keyField(),s))}return e.Te}function fi(a){const e=wt(a);return e.Ie||(e.Ie=Yb(e,fo(a))),e.Ie}function Yb(a,e){if(a.limitType==="F")return U_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Dc(o.field,c)});const i=a.endAt?new Cc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Cc(a.startAt.position,a.startAt.inclusive):null;return U_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Od(a,e,i){return new Hc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function Gc(a,e){return om(fi(a),fi(e))&&a.limitType===e.limitType}function d0(a){return`${lm(fi(a))}|lt:${a.limitType}`}function xs(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>h0(o)).join(", ")}]`),kc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ps(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ps(o)).join(",")),`Target(${s})`}(fi(a))}; limitType=${a.limitType})`}function Fc(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of fo(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,y){const p=O_(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,fo(s),o)||s.endAt&&!function(d,g,y){const p=O_(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,fo(s),o))}(a,e)}function Kb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function m0(a){return(e,i)=>{let s=!1;for(const o of fo(a)){const c=Xb(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function Xb(a,e,i){const s=a.field.isKeyField()?pt.comparator(e.key,i.key):function(c,d,g){const y=d.data.field(c),p=g.data.field(c);return y!==null&&p!==null?Ls(y,p):vt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){jr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return Jv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=new ce(pt.comparator);function $i(){return $b}const g0=new ce(pt.comparator);function lo(...a){let e=g0;for(const i of a)e=e.insert(i.key,i);return e}function p0(a){let e=g0;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Da(){return mo()}function y0(){return mo()}function mo(){return new Ma(a=>a.toString(),(a,e)=>a.isEqual(e))}const Zb=new ce(pt.comparator),Jb=new Ie(pt.comparator);function Lt(...a){let e=Jb;for(const i of a)e=e.add(i);return e}const Wb=new Ie(xt);function tw(){return Wb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function _0(a){return{integerValue:""+a}}function ew(a,e){return Cb(e)?_0(e):cm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function nw(a,e,i){return a instanceof Nc?function(o,c){const d={fields:{[e0]:{stringValue:t0},[i0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&am(c)&&(c=qc(c)),c&&(d.fields[n0]=c),{mapValue:d}}(i,e):a instanceof wo?E0(a,e):a instanceof Ro?T0(a,e):function(o,c){const d=v0(o,c),g=P_(d)+P_(o.Ee);return xd(d)&&xd(o.Ee)?_0(g):cm(o.serializer,g)}(a,e)}function iw(a,e,i){return a instanceof wo?E0(a,e):a instanceof Ro?T0(a,e):i}function v0(a,e){return a instanceof xc?function(s){return xd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Nc extends Qc{}class wo extends Qc{constructor(e){super(),this.elements=e}}function E0(a,e){const i=S0(e);for(const s of a.elements)i.some(o=>yi(o,s))||i.push(s);return{arrayValue:{values:i}}}class Ro extends Qc{constructor(e){super(),this.elements=e}}function T0(a,e){let i=S0(e);for(const s of a.elements)i=i.filter(o=>!yi(o,s));return{arrayValue:{values:i}}}class xc extends Qc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function P_(a){return ye(a.integerValue||a.doubleValue)}function S0(a){return sm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function rw(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof wo&&o instanceof wo||s instanceof Ro&&o instanceof Ro?Us(s.elements,o.elements,yi):s instanceof xc&&o instanceof xc?yi(s.Ee,o.Ee):s instanceof Nc&&o instanceof Nc}(a.transform,e.transform)}class aw{constructor(e,i){this.version=e,this.transformResults=i}}class di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new di}static exists(e){return new di(void 0,e)}static updateTime(e){return new di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Yc{}function A0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new w0(a.key,di.none()):new Io(a.key,a.data,di.none());{const i=a.data,s=cn.empty();let o=new Ie(Fe.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new kr(a.key,s,new Tn(o.toArray()),di.none())}}function sw(a,e,i){a instanceof Io?function(o,c,d){const g=o.value.clone(),y=z_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof kr?function(o,c,d){if(!pc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=z_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(b0(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function go(a,e,i,s){return a instanceof Io?function(c,d,g,y){if(!pc(c.precondition,d))return g;const p=c.value.clone(),E=j_(c.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(a,e,i,s):a instanceof kr?function(c,d,g,y){if(!pc(c.precondition,d))return g;const p=j_(c.fieldTransforms,y,d),E=d.data;return E.setAll(b0(c)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(a,e,i,s):function(c,d,g){return pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function lw(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=v0(s.transform,o||null);c!=null&&(i===null&&(i=cn.empty()),i.set(s.field,c))}return i||null}function B_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Us(s,o,(c,d)=>rw(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Io extends Yc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class kr extends Yc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function b0(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function z_(a,e,i){const s=new Map;Qt(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,iw(d,g,i[o]))}return s}function j_(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,nw(c,d,e))}return s}class w0 extends Yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ow extends Yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&sw(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=go(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=go(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=y0();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=A0(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(i,s)=>B_(i,s))&&Us(this.baseMutations,e.baseMutations,(i,s)=>B_(i,s))}}class hm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Qt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return Zb}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new hm(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se,jt;function fw(a){switch(a){case it.OK:return vt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return vt(15467,{code:a})}}function R0(a){if(a===void 0)return Xi("GRPC error has no .code"),it.UNKNOWN;switch(a){case Se.OK:return it.OK;case Se.CANCELLED:return it.CANCELLED;case Se.UNKNOWN:return it.UNKNOWN;case Se.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Se.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Se.INTERNAL:return it.INTERNAL;case Se.UNAVAILABLE:return it.UNAVAILABLE;case Se.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Se.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Se.NOT_FOUND:return it.NOT_FOUND;case Se.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Se.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Se.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Se.ABORTED:return it.ABORTED;case Se.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Se.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Se.DATA_LOSS:return it.DATA_LOSS;default:return vt(39323,{code:a})}}(jt=Se||(Se={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=new xr([4294967295,4294967295],0);function k_(a){const e=Xv().encode(a),i=new kv;return i.update(e),new Uint8Array(i.digest())}function q_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new xr([i,s],0),new xr([o,c],0)]}class fm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new oo(`Invalid padding: ${i}`);if(s<0)throw new oo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new oo(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=xr.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(xr.fromNumber(s)));return o.compare(dw)===1&&(o=new xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=k_(e),[s,o]=q_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new fm(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=k_(e),[s,o]=q_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Vo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Kc(At.min(),o,new ce(xt),$i(),Lt())}}class Vo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Vo(s,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class C0{constructor(e,i){this.targetId=e,this.De=i}}class D0{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class H_{constructor(){this.ve=0,this.Ce=G_(),this.Fe=Qe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Lt(),i=Lt(),s=Lt();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:c})}}),new Vo(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=G_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class mw{constructor(e){this.We=e,this.Ge=new Map,this.ze=$i(),this.je=uc(),this.Je=uc(),this.He=new ce(xt)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const c=o.target;if(Vd(c))if(s===0){const d=new pt(c.path);this.Xe(i,d,Je.newNoDocument(d,At.min()))}else Qt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),y=g?this.ut(g,e,d):1;if(y!==0){this.rt(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,p)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Ur(s).toUint8Array()}catch(y){if(y instanceof Wv)return Vr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new fm(d,o,c)}catch(y){return Vr(y instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,c,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&Vd(g.target)){const y=new pt(g.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,Je.newNoDocument(y,e))}c.Ne&&(i.set(d,c.Le()),c.ke())}});let s=Lt();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const p=this.st(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const o=new Kc(e,i,this.He,this.ze,s);return this.ze=$i(),this.je=uc(),this.Je=uc(),this.He=new ce(xt),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new H_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Ie(xt),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Ie(xt),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new H_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function uc(){return new ce(pt.comparator)}function G_(){return new ce(pt.comparator)}const gw={asc:"ASCENDING",desc:"DESCENDING"},pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yw={and:"AND",or:"OR"};class _w{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Md(a,e){return a.useProto3Json||kc(e)?e:{value:e}}function Ic(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function vw(a,e){return Ic(a,e.toTimestamp())}function mi(a){return Qt(!!a,49232),At.fromTimestamp(function(i){const s=Mr(i);return new re(s.seconds,s.nanos)}(a))}function dm(a,e){return Ud(a,e).canonicalString()}function Ud(a,e){const i=function(o){return new ue(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function x0(a){const e=ue.fromString(a);return Qt(U0(e),10190,{key:e.toString()}),e}function Ld(a,e){return dm(a.databaseId,e.path)}function pd(a,e){const i=x0(e);if(i.get(1)!==a.databaseId.projectId)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ft(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(V0(i))}function I0(a,e){return dm(a.databaseId,e)}function Ew(a){const e=x0(a);return e.length===4?ue.emptyPath():V0(e)}function Pd(a){return new ue(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function V0(a){return Qt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function F_(a,e,i){return{name:Ld(a,e),fields:i.value.mapValue.fields}}function Tw(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:vt(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(p,E){return p.useProto3Json?(Qt(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(p){const E=p.code===void 0?it.UNKNOWN:R0(p.code);return new ft(E,p.message||"")}(d);i=new D0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=pd(a,s.document.name),c=mi(s.document.updateTime),d=s.document.createTime?mi(s.document.createTime):At.min(),g=new cn({mapValue:{fields:s.document.fields}}),y=Je.newFoundDocument(o,c,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];i=new yc(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=pd(a,s.document),c=s.readTime?mi(s.readTime):At.min(),d=Je.newNoDocument(o,c),g=s.removedTargetIds||[];i=new yc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=pd(a,s.document),c=s.removedTargetIds||[];i=new yc([],c,o,null)}else{if(!("filter"in e))return vt(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new hw(o,c),g=s.targetId;i=new C0(g,d)}}return i}function Sw(a,e){let i;if(e instanceof Io)i={update:F_(a,e.key,e.value)};else if(e instanceof w0)i={delete:Ld(a,e.key)};else if(e instanceof kr)i={update:F_(a,e.key,e.data),updateMask:Iw(e.fieldMask)};else{if(!(e instanceof ow))return vt(16599,{Rt:e.type});i={verify:Ld(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Nc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof wo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof xc)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw vt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:vw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)}(a,e.precondition)),i}function Aw(a,e){return a&&a.length>0?(Qt(e!==void 0,14353),a.map(i=>function(o,c){let d=o.updateTime?mi(o.updateTime):mi(c);return d.isEqual(At.min())&&(d=mi(c)),new aw(d,o.transformResults||[])}(i,e))):[]}function bw(a,e){return{documents:[I0(a,e.path)]}}function ww(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=I0(a,o);const c=function(p){if(p.length!==0)return M0(_i.create(p,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(p){if(p.length!==0)return p.map(E=>function(b){return{field:Is(b.field),direction:Dw(b.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Md(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:i,parent:o}}function Rw(a){let e=Ew(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Qt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(R){const b=O0(R);return b instanceof _i&&u0(b)?b.getFilters():[b]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(b=>function(L){return new Dc(Vs(L.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(b))}(i.orderBy));let g=null;i.limit&&(g=function(R){let b;return b=typeof R=="object"?R.value:R,kc(b)?null:b}(i.limit));let y=null;i.startAt&&(y=function(R){const b=!!R.before,B=R.values||[];return new Cc(B,b)}(i.startAt));let p=null;return i.endAt&&(p=function(R){const b=!R.before,B=R.values||[];return new Cc(B,b)}(i.endAt)),Fb(e,o,d,c,g,"F",y,p)}function Cw(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function O0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Vs(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Vs(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vs(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Vs(i.unaryFilter.field);return Ne.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(a):a.fieldFilter!==void 0?function(i){return Ne.create(Vs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return _i.create(i.compositeFilter.filters.map(s=>O0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(a):vt(30097,{filter:a})}function Dw(a){return gw[a]}function Nw(a){return pw[a]}function xw(a){return yw[a]}function Is(a){return{fieldPath:a.canonicalString()}}function Vs(a){return Fe.fromServerFormat(a.fieldPath)}function M0(a){return a instanceof Ne?function(i){if(i.op==="=="){if(V_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NAN"}};if(I_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(V_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NAN"}};if(I_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(i.field),op:Nw(i.op),value:i.value}}}(a):a instanceof _i?function(i){const s=i.getFilters().map(o=>M0(o));return s.length===1?s[0]:{compositeFilter:{op:xw(i.op),filters:s}}}(a):vt(54877,{filter:a})}function Iw(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function U0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,i,s,o,c=At.min(),d=At.min(),g=Qe.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.gt=e}}function Ow(a){const e=Rw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Od(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Dn=new Uw}addToCollectionParentIndex(e,i){return this.Dn.add(i),tt.resolve()}getCollectionParents(e,i){return tt.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return tt.resolve()}deleteFieldIndex(e,i){return tt.resolve()}deleteAllFieldIndexes(e){return tt.resolve()}createTargetIndexes(e,i){return tt.resolve()}getDocumentsMatchingTarget(e,i){return tt.resolve(null)}getIndexType(e,i){return tt.resolve(0)}getFieldIndexes(e,i){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}getMinOffset(e,i){return tt.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,i){return tt.resolve(Or.min())}updateCollectionGroup(e,i,s){return tt.resolve()}updateIndexEntries(e,i){return tt.resolve()}}class Uw{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ie(ue.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ie(ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L0=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(L0,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Bs(0)}static ur(){return new Bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="LruGarbageCollector",Lw=1048576;function K_([a,e],[i,s]){const o=xt(a,i);return o===0?xt(e,s):o}class Pw{constructor(e){this.Tr=e,this.buffer=new Ie(K_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();K_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Bw{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ot(Y_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Qs(i)?ot(Y_,"Ignoring IndexedDB error during garbage collection: ",i):await Fs(i)}await this.Rr(3e5)})}}class zw{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return tt.resolve(jc.ue);const s=new Pw(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(Q_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,c,d,g,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,g=Date.now(),this.removeTargets(e,s,i))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(p=Date.now(),Ns()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${R} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}function jw(a,e){return new zw(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.changes=new Ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?tt.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&go(s.mutation,o,Tn.empty(),re.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Lt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Lt()){const o=Da();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=lo();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=Da();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Lt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=$i();const d=mo(),g=function(){return mo()}();return i.forEach((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof kr)?c=c.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),go(E.mutation,p,E.mutation.getFieldMask(),re.now())):d.set(p.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((p,E)=>d.set(p,E)),i.forEach((p,E)=>{var R;return g.set(p,new qw(E,(R=d.get(p))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(e,i){const s=mo();let o=new ce((d,g)=>d-g),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let E=s.get(y)||Tn.empty();E=g.applyToLocalView(p,E),s.set(y,E);const R=(o.get(g.batchId)||Lt()).add(y);o=o.insert(g.batchId,R)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,R=y0();E.forEach(b=>{if(!c.has(b)){const B=A0(i.get(b),s.get(b));B!==null&&R.set(b,B),c=c.add(b)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,R))}return tt.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Qb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):tt.resolve(Da());let g=To,y=c;return d.next(p=>tt.forEach(p,(E,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(e,E).next(b=>{y=y.insert(E,b)}))).next(()=>this.populateOverlays(e,p,c)).next(()=>this.computeViews(e,y,p,Lt())).next(E=>({batchId:g,changes:p0(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=lo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=lo();return this.indexManager.getCollectionParents(e,c).next(g=>tt.forEach(g,y=>{const p=function(R,b){return new Hc(b,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(E=>{E.forEach((R,b)=>{d=d.insert(R,b)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Je.newInvalidDocument(E)))});let g=lo();return d.forEach((y,p)=>{const E=c.get(y);E!==void 0&&go(E.mutation,p,Tn.empty(),re.now()),Fc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return tt.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(i)),tt.resolve()}getNamedQuery(e,i){return tt.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:Ow(o.bundledQuery),readTime:mi(o.readTime)}}(i)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.overlays=new ce(pt.comparator),this.kr=new Map}getOverlay(e,i){return tt.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Da();return tt.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.wt(e,i,c)}),tt.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),tt.resolve()}getOverlaysForCollection(e,i,s){const o=Da(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return tt.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ce((p,E)=>p-E);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let E=c.get(p.largestBatchId);E===null&&(E=Da(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=Da(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,E)=>g.set(p,E)),!(g.size()>=o)););return tt.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new cw(i,s));let c=this.kr.get(i);c===void 0&&(c=Lt(),this.kr.set(i,c)),this.kr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return tt.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(){this.qr=new Ie(Be.Qr),this.$r=new Ie(Be.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Be(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Be(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new pt(new ue([])),s=new Be(i,e),o=new Be(i,e+1),c=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new pt(new ue([])),s=new Be(i,e),o=new Be(i,e+1);let c=Lt();return this.$r.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Be(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Be{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return pt.comparator(e.key,i.key)||xt(e.Hr,i.Hr)}static Ur(e,i){return xt(e.Hr,i.Hr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ie(Be.Qr)}checkEmpty(e){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uw(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Be(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return tt.resolve(d)}lookupMutationBatch(e,i){return tt.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return tt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?rm:this.er-1)}getAllMutationBatches(e){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);c.push(g)}),tt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ie(xt);return i.forEach(o=>{const c=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{s=s.add(g.Hr)})}),tt.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Be(new pt(c),0);let g=new Ie(xt);return this.Yr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Hr)),!0)},d),tt.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Qt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return tt.forEach(i.mutations,o=>{const c=new Be(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Be(i,0),o=this.Yr.firstAfterOrEqual(s);return tt.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,tt.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.ni=e,this.docs=function(){return new ce(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return tt.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let s=$i();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=$i();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||Ab(Sb(E),s)<=0||(o.has(E.key)||Fc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return tt.resolve(c)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}ri(e,i){return tt.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new Xw(this)}getSize(e){return tt.resolve(this.size)}}class Xw extends kw{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),tt.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.persistence=e,this.ii=new Ma(i=>lm(i),om),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.si=0,this.oi=new mm,this.targetCount=0,this._i=Bs.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),tt.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Bs(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,tt.resolve()}updateTargetData(e,i){return this.hr(i),tt.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),tt.waitFor(c).next(()=>o)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return tt.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),tt.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),tt.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),tt.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return tt.resolve(s)}containsKey(e,i){return tt.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,i){this.ai={},this.overlays={},this.ui=new jc(0),this.ci=!1,this.ci=!0,this.li=new Qw,this.referenceDelegate=e(this),this.hi=new $w(this),this.indexManager=new Mw,this.remoteDocumentCache=function(o){return new Kw(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new Vw(i),this.Ti=new Gw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Fw,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new Yw(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new Zw(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,i){return tt.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class Zw extends wb{constructor(e){super(),this.currentSequenceNumber=e}}class gm{constructor(e){this.persistence=e,this.Ai=new mm,this.Ri=null}static Vi(e){return new gm(e)}get mi(){if(this.Ri)return this.Ri;throw vt(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),tt.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),tt.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.mi,s=>{const o=pt.fromPath(s);return this.fi(e,o).next(c=>{c||i.removeEntry(o,At.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return tt.or([()=>tt.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Vc{constructor(e,i){this.persistence=e,this.gi=new Ma(s=>Db(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=jw(this,i)}static Vi(e,i){return new Vc(e,i)}Ii(){}di(e){return tt.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return tt.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(c=>c?tt.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),tt.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),tt.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),tt.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),tt.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=mc(e.data.value)),i}Sr(e,i,s){return tt.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=Lt(),o=Lt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new pm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return QS()?8:Rb(GS())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ps(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Jw;return this.ws(e,i,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>c.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(Ns()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",xs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(Ns()<=kt.DEBUG&&ot("QueryEngine","Query:",xs(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Ns()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",xs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(i))):tt.resolve())}ps(e,i){if(L_(i))return tt.resolve(null);let s=fi(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Od(i,null,"F"),s=fi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Lt(...c);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const p=this.bs(i,g);return this.Ds(i,p,d,y.readTime)?this.ps(e,Od(i,null,"F")):this.vs(e,p,i,y)}))})))}ys(e,i,s,o){return L_(i)||o.isEqual(At.min())?tt.resolve(null):this.gs.getDocuments(e,s).next(c=>{const d=this.bs(i,c);return this.Ds(i,d,s,o)?tt.resolve(null):(Ns()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xs(i)),this.vs(e,d,i,Tb(o,To)).next(g=>g))})}bs(e,i){let s=new Ie(m0(e));return i.forEach((o,c)=>{Fc(e,c)&&(s=s.add(c))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,i,s){return Ns()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",xs(i)),this.gs.getDocumentsMatchingQuery(e,i,Or.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="LocalStore",tR=3e8;class eR{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new ce(xt),this.Ms=new Ma(c=>lm(c),om),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function nR(a,e,i,s){return new eR(a,e,i,s)}async function B0(a,e){const i=wt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let y=Lt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next(p=>({Bs:p,removedBatchIds:d,addedBatchIds:g}))})})}function iR(a,e){const i=wt(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,y,p,E){const R=p.batch,b=R.keys();let B=tt.resolve();return b.forEach(L=>{B=B.next(()=>E.getEntry(y,L)).next($=>{const Q=p.docVersions.get(L);Qt(Q!==null,48541),$.version.compareTo(Q)<0&&(R.applyToRemoteDocument($,p),$.isValidDocument()&&($.setReadTime(p.commitVersion),E.addEntry($)))})}),B.next(()=>g.mutationQueue.removeMutationBatch(y,R))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=Lt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function z0(a){const e=wt(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function rR(a,e){const i=wt(a),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((E,R)=>{const b=o.get(R);if(!b)return;g.push(i.hi.removeMatchingKeys(c,E.removedDocuments,R).next(()=>i.hi.addMatchingKeys(c,E.addedDocuments,R)));let B=b.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?B=B.withResumeToken(Qe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),o=o.insert(R,B),function($,Q,P){return $.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=tR?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(b,B,E)&&g.push(i.hi.updateTargetData(c,B))});let y=$i(),p=Lt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(aR(c,d,e.documentUpdates).next(E=>{y=E.Ls,p=E.ks})),!s.isEqual(At.min())){const E=i.hi.getLastRemoteSnapshotVersion(c).next(R=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return tt.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(i.Fs=o,c))}function aR(a,e,i){let s=Lt(),o=Lt();return i.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=$i();return i.forEach((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(At.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ot(ym,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{Ls:d,ks:o}})}function sR(a,e){const i=wt(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=rm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function lR(a,e){const i=wt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(c=>c?(o=c,tt.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new Cr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function Bd(a,e,i){const s=wt(a),o=s.Fs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Qs(d))throw d;ot(ym,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function X_(a,e,i){const s=wt(a);let o=At.min(),c=Lt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,E){const R=wt(y),b=R.Ms.get(E);return b!==void 0?tt.resolve(R.Fs.get(b)):R.hi.getTargetData(p,E)}(s,d,fi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?c:Lt())).next(g=>(oR(s,Kb(e),g),{documents:g,qs:c})))}function oR(a,e,i){let s=a.xs.get(e)||At.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.xs.set(e,s)}class $_{constructor(){this.activeTargetIds=tw()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uR{constructor(){this.Fo=new $_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new $_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="ConnectivityMonitor";class J_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ot(Z_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ot(Z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc=null;function zd(){return cc===null?cc=function(){return 268435456+Math.round(2147483648*Math.random())}():cc++,"0x"+cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="RestConnection",hR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fR{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===wc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,c){const d=zd(),g=this.Go(e,i.toUriEncodedString());ot(yd,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,o,c);const{host:p}=new URL(g),E=Wd(p);return this.jo(e,g,y,s,E).then(R=>(ot(yd,`Received RPC '${e}' ${d}: `,R),R),R=>{throw Vr(yd,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",s),R})}Jo(e,i,s,o,c,d){return this.Wo(e,i,s,o,c)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}Go(e,i){const s=hR[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class mR extends fR{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,c){const d=zd();return new Promise((g,y)=>{const p=new qv;p.setWithCredentials(!0),p.listenOnce(Hv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case dc.NO_ERROR:const R=p.getResponseJson();ot($e,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case dc.TIMEOUT:ot($e,`RPC '${e}' ${d} timed out`),y(new ft(it.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:const b=p.getStatus();if(ot($e,`RPC '${e}' ${d} failed with status:`,b,"response text:",p.getResponseText()),b>0){let B=p.getResponseJson();Array.isArray(B)&&(B=B[0]);const L=B?.error;if(L&&L.status&&L.message){const $=function(P){const X=P.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(X)>=0?X:it.UNKNOWN}(L.status);y(new ft($,L.message))}else y(new ft(it.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new ft(it.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{c_:e,streamId:d,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ot($e,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);ot($e,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",E,s,15)})}P_(e,i,s){const o=zd(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Qv(),g=Fv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");ot($e,`Creating RPC '${e}' stream ${o}: ${E}`,y);const R=d.createWebChannel(E,y);this.T_(R);let b=!1,B=!1;const L=new dR({Ho:Q=>{B?ot($e,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(b||(ot($e,`Opening RPC '${e}' stream ${o} transport.`),R.open(),b=!0),ot($e,`RPC '${e}' stream ${o} sending:`,Q),R.send(Q))},Yo:()=>R.close()}),$=(Q,P,X)=>{Q.listen(P,rt=>{try{X(rt)}catch(ut){setTimeout(()=>{throw ut},0)}})};return $(R,so.EventType.OPEN,()=>{B||(ot($e,`RPC '${e}' stream ${o} transport opened.`),L.s_())}),$(R,so.EventType.CLOSE,()=>{B||(B=!0,ot($e,`RPC '${e}' stream ${o} transport closed`),L.__(),this.I_(R))}),$(R,so.EventType.ERROR,Q=>{B||(B=!0,Vr($e,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),L.__(new ft(it.UNAVAILABLE,"The operation could not be completed")))}),$(R,so.EventType.MESSAGE,Q=>{var P;if(!B){const X=Q.data[0];Qt(!!X,16349);const rt=X,ut=rt?.error||((P=rt[0])===null||P===void 0?void 0:P.error);if(ut){ot($e,`RPC '${e}' stream ${o} received error:`,ut);const ct=ut.status;let Et=function(w){const D=Se[w];if(D!==void 0)return R0(D)}(ct),x=ut.message;Et===void 0&&(Et=it.INTERNAL,x="Unknown error status: "+ct+" with message "+ut.message),B=!0,L.__(new ft(Et,x)),R.close()}else ot($e,`RPC '${e}' stream ${o} received:`,X),L.a_(X)}}),$(g,Gv.STAT_EVENT,Q=>{Q.stat===Cd.PROXY?ot($e,`RPC '${e}' stream ${o} detected buffering proxy`):Q.stat===Cd.NOPROXY&&ot($e,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.o_()},0),L}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(a){return new _w(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="PersistentStream";class k0{constructor(e,i,s,o,c,d,g,y){this.Fi=e,this.w_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new j0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(Xi(i.toString()),Xi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new ft(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ot(W_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(ot(W_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gR extends k0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=Tw(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?mi(d.readTime):At.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=Pd(this.serializer),i.addTarget=function(c,d){let g;const y=d.target;if(g=Vd(y)?{documents:bw(c,y)}:{query:ww(c,y).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=N0(c,d.resumeToken);const p=Md(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Ic(c,d.snapshotVersion.toTimestamp());const p=Md(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const s=Cw(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=Pd(this.serializer),i.removeTarget=e,this.k_(i)}}class pR extends k0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return Qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=Aw(e.writeResults,e.commitTime),s=mi(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=Pd(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>Sw(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{}class _R extends yR{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,Ud(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(it.UNKNOWN,c.toString())})}Jo(e,i,s,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,Ud(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(it.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class vR{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Xi(i),this._a=!1):ot("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class ER{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{Ua(this)&&(ot(Oa,"Restarting streams for network reachability change."),await async function(y){const p=wt(y);p.Ia.add(4),await Oo(p),p.Aa.set("Unknown"),p.Ia.delete(4),await $c(p)}(this))})}),this.Aa=new vR(s,o)}}async function $c(a){if(Ua(a))for(const e of a.da)await e(!0)}async function Oo(a){for(const e of a.da)await e(!1)}function q0(a,e){const i=wt(a);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),Tm(i)?Em(i):Ys(i).x_()&&vm(i,e))}function _m(a,e){const i=wt(a),s=Ys(i);i.Ta.delete(e),s.x_()&&H0(i,e),i.Ta.size===0&&(s.x_()?s.B_():Ua(i)&&i.Aa.set("Unknown"))}function vm(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ys(a).H_(e)}function H0(a,e){a.Ra.$e(e),Ys(a).Y_(e)}function Em(a){a.Ra=new mw({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Ys(a).start(),a.Aa.aa()}function Tm(a){return Ua(a)&&!Ys(a).M_()&&a.Ta.size>0}function Ua(a){return wt(a).Ia.size===0}function G0(a){a.Ra=void 0}async function TR(a){a.Aa.set("Online")}async function SR(a){a.Ta.forEach((e,i)=>{vm(a,e)})}async function AR(a,e){G0(a),Tm(a)?(a.Aa.la(e),Em(a)):a.Aa.set("Unknown")}async function bR(a,e,i){if(a.Aa.set("Online"),e instanceof D0&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(a,e)}catch(s){ot(Oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Oc(a,s)}else if(e instanceof yc?a.Ra.Ye(e):e instanceof C0?a.Ra.it(e):a.Ra.et(e),!i.isEqual(At.min()))try{const s=await z0(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ta.get(p);E&&c.Ta.set(p,E.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const E=c.Ta.get(y);if(!E)return;c.Ta.set(y,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),H0(c,y);const R=new Cr(E.target,y,p,E.sequenceNumber);vm(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ot(Oa,"Failed to raise snapshot:",s),await Oc(a,s)}}async function Oc(a,e,i){if(!Qs(e))throw e;a.Ia.add(1),await Oo(a),a.Aa.set("Offline"),i||(i=()=>z0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ot(Oa,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await $c(a)})}function F0(a,e){return e().catch(i=>Oc(a,i,e))}async function Zc(a){const e=wt(a),i=Pr(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:rm;for(;wR(e);)try{const o=await sR(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,RR(e,o)}catch(o){await Oc(e,o)}Q0(e)&&Y0(e)}function wR(a){return Ua(a)&&a.Pa.length<10}function RR(a,e){a.Pa.push(e);const i=Pr(a);i.x_()&&i.Z_&&i.X_(e.mutations)}function Q0(a){return Ua(a)&&!Pr(a).M_()&&a.Pa.length>0}function Y0(a){Pr(a).start()}async function CR(a){Pr(a).na()}async function DR(a){const e=Pr(a);for(const i of a.Pa)e.X_(i.mutations)}async function NR(a,e,i){const s=a.Pa.shift(),o=hm.from(s,e,i);await F0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Zc(a)}async function xR(a,e){e&&Pr(a).Z_&&await async function(s,o){if(function(d){return fw(d)&&d!==it.ABORTED}(o.code)){const c=s.Pa.shift();Pr(s).N_(),await F0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Zc(s)}}(a,e),Q0(a)&&Y0(a)}async function tv(a,e){const i=wt(a);i.asyncQueue.verifyOperationInProgress(),ot(Oa,"RemoteStore received new credentials");const s=Ua(i);i.Ia.add(3),await Oo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await $c(i)}async function IR(a,e){const i=wt(a);e?(i.Ia.delete(2),await $c(i)):e||(i.Ia.add(2),await Oo(i),i.Aa.set("Unknown"))}function Ys(a){return a.Va||(a.Va=function(i,s,o){const c=wt(i);return c.ia(),new gR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{Zo:TR.bind(null,a),e_:SR.bind(null,a),n_:AR.bind(null,a),J_:bR.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),Tm(a)?Em(a):a.Aa.set("Unknown")):(await a.Va.stop(),G0(a))})),a.Va}function Pr(a){return a.ma||(a.ma=function(i,s,o){const c=wt(i);return c.ia(),new pR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:CR.bind(null,a),n_:xR.bind(null,a),ea:DR.bind(null,a),ta:NR.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await Zc(a)):(await a.ma.stop(),a.Pa.length>0&&(ot(Oa,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Sm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Am(a,e){if(Xi("AsyncQueue",`${e}: ${a}`),Qs(a))return new ft(it.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=lo(),this.sortedSet=new ce(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(){this.fa=new ce(pt.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):vt(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class zs{constructor(e,i,s,o,c,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new zs(e,i,Ms.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class OR{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=wt(i),c=o.queries;o.queries=nv(),c.forEach((d,g)=>{for(const y of g.wa)y.onError(s)})})(this,new ft(it.ABORTED,"Firestore shutting down"))}}function nv(){return new Ma(a=>d0(a),Gc)}async function MR(a,e){const i=wt(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.ba()&&(s=2):(c=new VR,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await i.onListen(o,!0);break;case 1:c.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Am(d,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.wa.push(e),e.va(i.onlineState),c.ya&&e.Ca(c.ya)&&bm(i)}async function UR(a,e){const i=wt(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function LR(a,e){const i=wt(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&bm(i)}function PR(a,e,i){const s=wt(a),o=s.queries.get(e);if(o)for(const c of o.wa)c.onError(i);s.queries.delete(e)}function bm(a){a.Da.forEach(e=>{e.next()})}var jd,iv;(iv=jd||(jd={})).Fa="default",iv.Cache="cache";class BR{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new zs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==jd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.key=e}}class X0{constructor(e){this.key=e}}class zR{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Lt(),this.mutatedKeys=Lt(),this.Xa=m0(e),this.eu=new Ms(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new ev,o=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,R)=>{const b=o.get(E),B=Fc(this.query,R)?R:null,L=!!b&&this.mutatedKeys.has(b.key),$=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let Q=!1;b&&B?b.data.isEqual(B.data)?L!==$&&(s.track({type:3,doc:B}),Q=!0):this.iu(b,B)||(s.track({type:2,doc:B}),Q=!0,(y&&this.Xa(B,y)>0||p&&this.Xa(B,p)<0)&&(g=!0)):!b&&B?(s.track({type:0,doc:B}),Q=!0):b&&!B&&(s.track({type:1,doc:b}),Q=!0,(y||p)&&(g=!0)),Q&&(B?(d=d.add(B),c=$?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{eu:d,ru:s,Ds:g,mutatedKeys:c}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((E,R)=>function(B,L){const $=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{At:Q})}};return $(B)-$(L)}(E.type,R.type)||this.Xa(E.doc,R.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],y=this.Za.size===0&&this.current&&!o?1:0,p=y!==this.Ya;return this.Ya=y,d.length!==0||p?{snapshot:new zs(this.query,e.eu,c,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ev,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Lt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new X0(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new K0(s))}),i}uu(e){this.Ha=e.qs,this.Za=Lt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return zs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const wm="SyncEngine";class jR{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class kR{constructor(e){this.key=e,this.lu=!1}}class qR{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Ma(g=>d0(g),Gc),this.Tu=new Map,this.Iu=new Set,this.du=new ce(pt.comparator),this.Eu=new Map,this.Au=new mm,this.Ru={},this.Vu=new Map,this.mu=Bs.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function HR(a,e,i=!0){const s=eE(a);let o;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await $0(s,e,i,!0),o}async function GR(a,e){const i=eE(a);await $0(i,e,!0,!1)}async function $0(a,e,i,s){const o=await lR(a.localStore,fi(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await FR(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&q0(a.remoteStore,o),g}async function FR(a,e,i,s,o){a.gu=(R,b,B)=>async function($,Q,P,X){let rt=Q.view.nu(P);rt.Ds&&(rt=await X_($.localStore,Q.query,!1).then(({documents:x})=>Q.view.nu(x,rt)));const ut=X&&X.targetChanges.get(Q.targetId),ct=X&&X.targetMismatches.get(Q.targetId)!=null,Et=Q.view.applyChanges(rt,$.isPrimaryClient,ut,ct);return av($,Q.targetId,Et._u),Et.snapshot}(a,R,b,B);const c=await X_(a.localStore,e,!0),d=new zR(e,c.qs),g=d.nu(c.documents),y=Vo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),p=d.applyChanges(g,a.isPrimaryClient,y);av(a,i,p._u);const E=new jR(e,i,d);return a.Pu.set(e,E),a.Tu.has(i)?a.Tu.get(i).push(e):a.Tu.set(i,[e]),p.snapshot}async function QR(a,e,i){const s=wt(a),o=s.Pu.get(e),c=s.Tu.get(o.targetId);if(c.length>1)return s.Tu.set(o.targetId,c.filter(d=>!Gc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&_m(s.remoteStore,o.targetId),kd(s,o.targetId)}).catch(Fs)):(kd(s,o.targetId),await Bd(s.localStore,o.targetId,!0))}async function YR(a,e){const i=wt(a),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),_m(i.remoteStore,s.targetId))}async function KR(a,e,i){const s=e2(a);try{const o=await function(d,g){const y=wt(d),p=re.now(),E=g.reduce((B,L)=>B.add(L.key),Lt());let R,b;return y.persistence.runTransaction("Locally write mutations","readwrite",B=>{let L=$i(),$=Lt();return y.Os.getEntries(B,E).next(Q=>{L=Q,L.forEach((P,X)=>{X.isValidDocument()||($=$.add(P))})}).next(()=>y.localDocuments.getOverlayedDocuments(B,L)).next(Q=>{R=Q;const P=[];for(const X of g){const rt=lw(X,R.get(X.key).overlayedDocument);rt!=null&&P.push(new kr(X.key,rt,s0(rt.value.mapValue),di.exists(!0)))}return y.mutationQueue.addMutationBatch(B,p,P,g)}).next(Q=>{b=Q;const P=Q.applyToLocalDocumentSet(R,$);return y.documentOverlayCache.saveOverlays(B,Q.batchId,P)})}).then(()=>({batchId:b.batchId,changes:p0(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.Ru[d.currentUser.toKey()];p||(p=new ce(xt)),p=p.insert(g,y),d.Ru[d.currentUser.toKey()]=p}(s,o.batchId,i),await Mo(s,o.changes),await Zc(s.remoteStore)}catch(o){const c=Am(o,"Failed to persist write");i.reject(c)}}async function Z0(a,e){const i=wt(a);try{const s=await rR(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Eu.get(c);d&&(Qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Qt(d.lu,14607):o.removedDocuments.size>0&&(Qt(d.lu,42227),d.lu=!1))}),await Mo(i,s,e)}catch(s){await Fs(s)}}function rv(a,e,i){const s=wt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=wt(d);y.onlineState=g;let p=!1;y.queries.forEach((E,R)=>{for(const b of R.wa)b.va(g)&&(p=!0)}),p&&bm(y)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XR(a,e,i){const s=wt(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),c=o&&o.key;if(c){let d=new ce(pt.comparator);d=d.insert(c,Je.newNoDocument(c,At.min()));const g=Lt().add(c),y=new Kc(At.min(),new Map,new ce(xt),d,g);await Z0(s,y),s.du=s.du.remove(c),s.Eu.delete(e),Rm(s)}else await Bd(s.localStore,e,!1).then(()=>kd(s,e,i)).catch(Fs)}async function $R(a,e){const i=wt(a),s=e.batch.batchId;try{const o=await iR(i.localStore,e);W0(i,s,null),J0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Mo(i,o)}catch(o){await Fs(o)}}async function ZR(a,e,i){const s=wt(a);try{const o=await function(d,g){const y=wt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next(R=>(Qt(R!==null,37113),E=R.keys(),y.mutationQueue.removeMutationBatch(p,R))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>y.localDocuments.getDocuments(p,E))})}(s.localStore,e);W0(s,e,i),J0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Mo(s,o)}catch(o){await Fs(o)}}function J0(a,e){(a.Vu.get(e)||[]).forEach(i=>{i.resolve()}),a.Vu.delete(e)}function W0(a,e,i){const s=wt(a);let o=s.Ru[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function kd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(s=>{a.Au.containsKey(s)||tE(a,s)})}function tE(a,e){a.Iu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(_m(a.remoteStore,i),a.du=a.du.remove(e),a.Eu.delete(i),Rm(a))}function av(a,e,i){for(const s of i)s instanceof K0?(a.Au.addReference(s.key,e),JR(a,s)):s instanceof X0?(ot(wm,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||tE(a,s.key)):vt(19791,{yu:s})}function JR(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(ot(wm,"New document in limbo: "+i),a.Iu.add(s),Rm(a))}function Rm(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const i=new pt(ue.fromString(e)),s=a.mu.next();a.Eu.set(s,new kR(i)),a.du=a.du.insert(i,s),q0(a.remoteStore,new Cr(fi(um(i.path)),s,"TargetPurposeLimboResolution",jc.ue))}}async function Mo(a,e,i){const s=wt(a),o=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,y)=>{d.push(s.gu(y,e,i).then(p=>{var E;if((p||i)&&s.isPrimaryClient){const R=p?!p.fromCache:(E=i?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(p){o.push(p);const R=pm.Es(y.targetId,p);c.push(R)}}))}),await Promise.all(d),s.hu.J_(o),await async function(y,p){const E=wt(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>tt.forEach(p,b=>tt.forEach(b.Is,B=>E.persistence.referenceDelegate.addReference(R,b.targetId,B)).next(()=>tt.forEach(b.ds,B=>E.persistence.referenceDelegate.removeReference(R,b.targetId,B)))))}catch(R){if(!Qs(R))throw R;ot(ym,"Failed to update sequence numbers: "+R)}for(const R of p){const b=R.targetId;if(!R.fromCache){const B=E.Fs.get(b),L=B.snapshotVersion,$=B.withLastLimboFreeSnapshotVersion(L);E.Fs=E.Fs.insert(b,$)}}}(s.localStore,c))}async function WR(a,e){const i=wt(a);if(!i.currentUser.isEqual(e)){ot(wm,"User change. New user:",e.toKey());const s=await B0(i.localStore,e);i.currentUser=e,function(c,d){c.Vu.forEach(g=>{g.forEach(y=>{y.reject(new ft(it.CANCELLED,d))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Mo(i,s.Bs)}}function t2(a,e){const i=wt(a),s=i.Eu.get(e);if(s&&s.lu)return Lt().add(s.key);{let o=Lt();const c=i.Tu.get(e);if(!c)return o;for(const d of c){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function eE(a){const e=wt(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XR.bind(null,e),e.hu.J_=LR.bind(null,e.eventManager),e.hu.pu=PR.bind(null,e.eventManager),e}function e2(a){const e=wt(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$R.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZR.bind(null,e),e}class Mc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return nR(this.persistence,new Ww,e.initialUser,this.serializer)}Du(e){return new P0(gm.Vi,this.serializer)}bu(e){return new uR}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mc.provider={build:()=>new Mc};class n2 extends Mc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){Qt(this.persistence.referenceDelegate instanceof Vc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Bw(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new P0(s=>Vc.Vi(s,i),this.serializer)}}class qd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WR.bind(null,this.syncEngine),await IR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new OR}()}createDatastore(e){const i=Xc(e.databaseInfo.databaseId),s=function(c){return new mR(c)}(e.databaseInfo);return function(c,d,g,y){return new _R(c,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new ER(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>rv(this.syncEngine,i,0),function(){return J_.C()?new J_:new cR}())}createSyncEngine(e,i){return function(o,c,d,g,y,p,E){const R=new qR(o,c,d,g,y,p);return E&&(R.fu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=wt(o);ot(Oa,"RemoteStore shutting down."),c.Ia.add(5),await Oo(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}qd.provider={build:()=>new qd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Xi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class r2{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ot(Br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(Br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Am(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vd(a,e){a.asyncQueue.verifyOperationInProgress(),ot(Br,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await B0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Vr("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{ot("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Vr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),a._offlineComponents=e}async function sv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await a2(a);ot(Br,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>tv(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>tv(e.remoteStore,o)),a._onlineComponents=e}async function a2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot(Br,"Using user provided OfflineComponentProvider");try{await vd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Vr("Error using user provided cache. Falling back to memory cache: "+i),await vd(a,new Mc)}}else ot(Br,"Using default OfflineComponentProvider"),await vd(a,new n2(void 0));return a._offlineComponents}async function nE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot(Br,"Using user provided OnlineComponentProvider"),await sv(a,a._uninitializedComponentsProvider._online)):(ot(Br,"Using default OnlineComponentProvider"),await sv(a,new qd))),a._onlineComponents}function s2(a){return nE(a).then(e=>e.syncEngine)}async function l2(a){const e=await nE(a),i=e.eventManager;return i.onListen=HR.bind(null,e.syncEngine),i.onUnlisten=QR.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=GR.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=YR.bind(null,e.syncEngine),i}function o2(a,e,i={}){const s=new Ir;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,p){const E=new i2({next:b=>{E.Ou(),d.enqueueAndForget(()=>UR(c,R));const B=b.docs.has(g);!B&&b.fromCache?p.reject(new ft(it.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&b.fromCache&&y&&y.source==="server"?p.reject(new ft(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(b)},error:b=>p.reject(b)}),R=new BR(um(g.path),E,{includeMetadataChanges:!0,ka:!0});return MR(c,R)}(await l2(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="firestore.googleapis.com",ov=!0;class uv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rE,this.ssl=ov}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:ov;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Lw)throw new ft(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Eb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ft(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cm{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new cb;switch(s.type){case"firstParty":return new mb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=lv.get(i);s&&(ot("ComponentProvider","Removing Datastore"),lv.delete(i),s.terminate())}(this),Promise.resolve()}}function u2(a,e,i,s={}){var o;a=Va(a,Cm);const c=Wd(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),y=`${e}:${i}`;c&&(zS(`https://${y}`),HS("Firestore",!0)),d.host!==rE&&d.host!==y&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:s});if(!Tc(p,g)&&(a._setSettings(p),s.mockUserToken)){let E,R;if(typeof s.mockUserToken=="string")E=s.mockUserToken,R=Ze.MOCK_USER;else{E=jS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ft(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Ze(b)}a._authCredentials=new hb(new Kv(E,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Dm(this.firestore,e,this._query)}}class xe{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Co(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xe(this.firestore,e,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(xo(i,xe._jsonSchema))return new xe(e,s||null,new pt(ue.fromString(i.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Ae("string",xe._jsonSchemaVersion),referencePath:Ae("string")};class Co extends Dm{constructor(e,i,s){super(e,i,um(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xe(this.firestore,null,new pt(e))}withConverter(e){return new Co(this.firestore,e,this._path)}}function rn(a,e,...i){if(a=xa(a),arguments.length===1&&(e=nm.newId()),vb("doc","path",e),a instanceof Cm){const s=ue.fromString(e,...i);return A_(s),new xe(a,null,new pt(s))}{if(!(a instanceof xe||a instanceof Co))throw new ft(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(ue.fromString(e,...i));return A_(s),new xe(a.firestore,a instanceof Co?a.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="AsyncQueue";class hv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new j0(this,"async_queue_retry"),this.oc=()=>{const s=_d();s&&ot(cv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Ir;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Qs(e))throw e;ot(cv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Xi("INTERNAL UNHANDLED ERROR: ",fv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=Sm.createAndSchedule(this,e,i,s,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&vt(47125,{hc:fv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function fv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class Jc extends Cm{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new hv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hv(e),this._firestoreClient=void 0,await e}}}function aE(a,e){const i=typeof a=="object"?a:WA(),s=typeof a=="string"?a:wc,o=KA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=PS("firestore");c&&u2(o,...c)}return o}function sE(a){if(a._terminated)throw new ft(it.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||c2(a),a._firestoreClient}function c2(a){var e,i,s;const o=a._freezeSettings(),c=function(g,y,p,E){return new Ib(g,y,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,iE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new r2(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const y=g?._online.build();return{_offline:g?._offline.build(y),_online:y}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Qe.fromBase64String(e))}catch(i){throw new ft(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Un(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xo(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ae("string",Un._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(e){if(xo(e,gi._jsonSchema))return new gi(e.latitude,e.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:Ae("string",gi._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xo(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new pi(e.vectorValues);throw new ft(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Ae("string",pi._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=/^__.*__$/;class f2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new kr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Io(e,this.data,i,this.fieldTransforms)}}class lE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new kr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function oE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ec:a})}}class xm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new xm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Uc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(oE(this.Ec)&&h2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class d2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Xc(e)}Dc(e,i,s,o=!1){return new xm({Ec:e,methodName:i,bc:s,path:Fe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uE(a){const e=a._freezeSettings(),i=Xc(a._databaseId);return new d2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function m2(a,e,i,s,o,c={}){const d=a.Dc(c.merge||c.mergeFields?2:0,e,i,o);Im("Data must be an object, but it was:",d,s);const g=cE(s,d);let y,p;if(c.merge)y=new Tn(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const R of c.mergeFields){const b=Hd(e,R,i);if(!d.contains(b))throw new ft(it.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);fE(E,b)||E.push(b)}y=new Tn(E),p=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,p=d.fieldTransforms;return new f2(new cn(g),y,p)}class th extends Nm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof th}}function g2(a,e,i,s){const o=a.Dc(1,e,i);Im("Data must be an object, but it was:",o,s);const c=[],d=cn.empty();jr(s,(y,p)=>{const E=Vm(e,y,i);p=xa(p);const R=o.gc(E);if(p instanceof th)c.push(E);else{const b=eh(p,R);b!=null&&(c.push(E),d.set(E,b))}});const g=new Tn(c);return new lE(d,g,o.fieldTransforms)}function p2(a,e,i,s,o,c){const d=a.Dc(1,e,i),g=[Hd(e,s,i)],y=[o];if(c.length%2!=0)throw new ft(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<c.length;b+=2)g.push(Hd(e,c[b])),y.push(c[b+1]);const p=[],E=cn.empty();for(let b=g.length-1;b>=0;--b)if(!fE(p,g[b])){const B=g[b];let L=y[b];L=xa(L);const $=d.gc(B);if(L instanceof th)p.push(B);else{const Q=eh(L,$);Q!=null&&(p.push(B),E.set(B,Q))}}const R=new Tn(p);return new lE(E,R,d.fieldTransforms)}function eh(a,e){if(hE(a=xa(a)))return Im("Unsupported field value:",e,a),cE(a,e);if(a instanceof Nm)return function(s,o){if(!oE(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let y=eh(g,o.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=xa(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ew(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=re.fromDate(s);return{timestampValue:Ic(o.serializer,c)}}if(s instanceof re){const c=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ic(o.serializer,c)}}if(s instanceof gi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:N0(o.serializer,s._byteString)};if(s instanceof xe){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:dm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pi)return function(d,g){return{mapValue:{fields:{[r0]:{stringValue:a0},[Rc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.wc("VectorValues must only contain numeric values.");return cm(g.serializer,p)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${im(s)}`)}(a,e)}function cE(a,e){const i={};return Jv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jr(a,(s,o)=>{const c=eh(o,e.Vc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function hE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof re||a instanceof gi||a instanceof Un||a instanceof xe||a instanceof Nm||a instanceof pi)}function Im(a,e,i){if(!hE(i)||!$v(i)){const s=im(i);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function Hd(a,e,i){if((e=xa(e))instanceof Wc)return e._internalPath;if(typeof e=="string")return Vm(a,e);throw Uc("Field path arguments must be of type string or ",a,!1,void 0,i)}const y2=new RegExp("[~\\*/\\[\\]]");function Vm(a,e,i){if(e.search(y2)>=0)throw Uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Wc(...e.split("."))._internalPath}catch{throw Uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Uc(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new ft(it.INVALID_ARGUMENT,g+a+y)}function fE(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(mE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _2 extends dE{data(){return super.data()}}function mE(a,e){return typeof e=="string"?Vm(a,e):e instanceof Wc?e._internalPath:e._delegate._internalPath}class v2{convertValue(e,i="none"){switch(Lr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return jr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Rc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ye(d.doubleValue));return new pi(c)}convertGeoPoint(e){return new gi(ye(e.latitude),ye(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=qc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(So(e));default:return null}}convertTimestamp(e){const i=Mr(e);return new re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ue.fromString(e);Qt(U0(s),9688,{name:e});const o=new Ao(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||Xi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class uo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Na extends dE{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(mE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Na._jsonSchemaVersion="firestore/documentSnapshot/1.0",Na._jsonSchema={type:Ae("string",Na._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class _c extends Na{data(e={}){return super.data(e)}}class po{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new uo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new _c(this._firestore,this._userDataWriter,s.key,s,new uo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new _c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new uo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new _c(o._firestore,o._userDataWriter,g.doc.key,g.doc,new uo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:T2(g.type),doc:y,oldIndex:p,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function T2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(a){a=Va(a,xe);const e=Va(a.firestore,Jc);return o2(sE(e),a._key).then(i=>A2(e,a,i))}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Ae("string",po._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class S2 extends v2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new xe(this.firestore,null,i)}}function nh(a,e,i){a=Va(a,xe);const s=Va(a.firestore,Jc),o=E2(a.converter,e,i);return pE(s,[m2(uE(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,di.none())])}function gE(a,e,i,...s){a=Va(a,xe);const o=Va(a.firestore,Jc),c=uE(o);let d;return d=typeof(e=xa(e))=="string"||e instanceof Wc?p2(c,"updateDoc",a._key,e,i,s):g2(c,"updateDoc",a._key,e),pE(o,[d.toMutation(a._key,di.exists(!0))])}function pE(a,e){return function(s,o){const c=new Ir;return s.asyncQueue.enqueueAndForget(async()=>KR(await s2(s),o,c)),c.promise}(sE(a),e)}function A2(a,e,i){const s=i.docs.get(e._key),o=new S2(a);return new Na(a,o,e._key,s,new uo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Gs=o})(JA),Ac(new vo("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Jc(new fb(s.getProvider("auth-internal")),new gb(d,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ft(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ao(p.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Os(__,v_,e),Os(__,v_,"esm2017")})();var b2="firebase",w2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(b2,w2,"app");const R2={BASE_URL:"/TanngoAPP/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyDId6UBjuGdf2ub6ap7phoRyX8tX0rcmHA",VITE_FIREBASE_APP_ID:"1:27385567412:web:2d30db854bf30e2a3adfe1",VITE_FIREBASE_AUTH_DOMAIN:"tanngoapp-5c0eb.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"27385567412",VITE_FIREBASE_PROJECT_ID:"tanngoapp-5c0eb",VITE_FIREBASE_STORAGE_BUCKET:"tanngoapp-5c0eb.firebasestorage.app"},C2=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"];C2.forEach(a=>{R2[a]||console.error(`錯誤：缺少必要的環境變數 ${a}`)});const D2={apiKey:"AIzaSyDId6UBjuGdf2ub6ap7phoRyX8tX0rcmHA",authDomain:"tanngoapp-5c0eb.firebaseapp.com",projectId:"tanngoapp-5c0eb",storageBucket:"tanngoapp-5c0eb.firebasestorage.app",messagingSenderId:"27385567412",appId:"1:27385567412:web:2d30db854bf30e2a3adfe1"},yE=Bv(D2),hn=aE(yE),zr={USER:"User",SEAN:"Sean",N5:"N5",N4:"N4"},N2=async a=>{try{const e=rn(hn,zr.USER,a),i=await an(e);if(!i.exists())throw new Error(`用戶${a}不存在`);return i.data().N5_record||{}}catch(e){return console.error("獲取 N5 記錄時出錯:",e),{}}},x2=async a=>{try{const e=rn(hn,zr.USER,a),i=await an(e);if(!i.exists())throw new Error(`用戶${a}不存在`);return i.data().N4_record||{}}catch(e){return console.error("獲取 N4 記錄時出錯:",e),{}}},I2=async(a,e,i)=>{try{const s=rn(hn,zr.USER,a),o=await an(s);let c={};if(o.exists())c=o.data();else{alert(`用戶${a}不存在`);return}const d={...c,N5_record:{...c.N5_record||{},[e]:i},updatedAt:new Date().toISOString()};return await nh(s,d,{merge:!0}),d.N5_record}catch(s){throw console.error("更新 N5 記錄時出錯:",s),s}},V2=async(a,e,i)=>{try{const s=rn(hn,zr.USER,a),o=await an(s);let c={};if(o.exists())c=o.data();else{alert(`用戶${a}不存在`);return}const d={...c,N4_record:{...c.N4_record||{},[e]:i},updatedAt:new Date().toISOString()};return await nh(s,d,{merge:!0}),d.N4_record}catch(s){throw console.error("更新 N4 記錄時出錯:",s),s}},_E=H.createContext(),O2=aE(yE);function Om(){return H.useContext(_E)}function M2({children:a}){const[e,i]=H.useState(null),[s,o]=H.useState(!0),c=async(y,p)=>{try{const E=rn(O2,"User",y),R=await an(E);if(R.exists()){const b=R.data();if(b.pwd===p)return console.log("username:"+b.name),i(b.name),localStorage.setItem("currentUser",JSON.stringify({name:b.name})),{success:!0}}return{success:!1,message:"用戶名或密碼錯誤"}}catch(E){return console.error("登入時出錯:",E),{success:!1,message:"登入時發生錯誤"}}},d=()=>{i(null),localStorage.removeItem("currentUser")};H.useEffect(()=>{const y=localStorage.getItem("currentUser");y&&i(JSON.parse(y).name),o(!1)},[]);const g={currentUser:e,login:c,logout:d,isAuthenticated:!!e};return U.jsx(_E.Provider,{value:g,children:!s&&a})}const U2="_layout_8sxxb_1",L2="_main_8sxxb_7",dv={layout:U2,main:L2},Hn=({children:a})=>U.jsx("div",{className:dv.layout,children:U.jsx("main",{className:dv.main,children:a})}),P2="_homePage_1ceyl_1",B2="_title_1ceyl_10",z2="_levelSelection_1ceyl_16",j2="_btn_1ceyl_21",k2="_primary_1ceyl_34",q2="_secondary_1ceyl_39",wa={homePage:P2,title:B2,levelSelection:z2,btn:j2,primary:k2,secondary:q2},H2=()=>U.jsx(Hn,{children:U.jsxs("div",{className:wa.homePage,children:[U.jsx("h1",{className:wa.title,children:"日文單字間隔複習"}),U.jsxs("div",{className:wa.levelSelection,children:[U.jsx(_o,{to:"/n5",className:`${wa.btn} ${wa.primary}`,children:"N5"}),U.jsx(_o,{to:"/n4",className:`${wa.btn} ${wa.secondary}`,children:"N4"})]})]})}),vE=["noun","verb","adj","adj-na","adv","loanword"],Lc=[1,2,4,7,14,30],G2="_levelPage_clw5t_2",F2="_pageTitle_clw5t_8",Q2="_categoryList_clw5t_13",Y2="_categoryItem_clw5t_19",K2="_highlight_clw5t_36",X2="_modalOverlay_clw5t_48",$2="_modal_clw5t_48",Z2="_modalActions_clw5t_82",Ut={levelPage:G2,pageTitle:F2,categoryList:Q2,categoryItem:Y2,highlight:K2,modalOverlay:X2,modal:$2,modalActions:Z2},J2=(a,e)=>{const i=new Date(a);return i.setDate(i.getDate()+e),i.toISOString().split("T")[0]},W2=()=>{const a=JSON.parse(localStorage.getItem("currentUser")).name,[e,i]=H.useState({}),[s,o]=H.useState(!0),[c,d]=H.useState(!1),[g,y]=H.useState(""),[p,E]=H.useState(""),[R,b]=H.useState(0),B=Zi(),L=async P=>{try{const X=rn(hn,zr.N4,`${P}`),rt=await an(X);return rt.exists()&&rt.data().words.length||0}catch(X){return console.error(`獲取 ${P} 單字總數時出錯:`,X),0}};H.useEffect(()=>{(async()=>{if(!a){o(!1);return}try{console.log("currentUser:",a);const X=await x2(a);console.log("record:",JSON.stringify(X,null,2)),console.log("record type:",typeof X),console.log("record keys:",Object.keys(X)),i(X)}catch(X){console.error("載入 N4 學習記錄時出錯:",X),i({})}finally{o(!1)}})()},[a]),H.useEffect(()=>{g&&L(g).then(P=>{b(P)})},[g]);const $=async()=>{if(!(!g||!p||!a)){o(!0);try{const P=rn(hn,zr.N4,`${g}`),X=await an(P);if(!X.exists())throw new Error(`找不到 ${g} 的單字資料`);const ut=X.data().words||[],ct=ut.length;if(ct===0)throw new Error("該分類沒有可用的單字");const Et=new Date().toISOString().split("T")[0],x=ut.map((O,C)=>{const Rt=Math.floor(C/p);return{...O,nextReview:J2(Et,Rt)}}),A=`N4_${g}`,w=rn(hn,a,A),D=await an(w),I={words:x,total:ct,category:g,level:"N4",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...D.exists()?D.data():{}};await nh(w,I),B(`/n4/review/${g}`)}catch(P){console.error("初始化學習記錄時出錯:",P),alert(`初始化失敗: ${P.message}`)}finally{o(!1),d(!1)}}},Q=async P=>{console.log("category:",P);const X=e[P]||"";if(console.log("status:"+X),!X)console.log("未開始學習"),y(P),d(!0);else{console.log("已經開始學習");const rt=new Date(X),ut=new Date;console.log("reviewDate:"+rt),console.log("today:"+ut),rt<=ut?(console.log("需要複習"),B(`/n4/review/${P}`)):(console.log("不需要複習"),alert(`還未到達${P}的複習日期`))}};return s?U.jsx(Hn,{children:U.jsx("div",{className:Ut.loading,children:"載入中..."})}):a?U.jsxs(Hn,{children:[U.jsxs("div",{className:Ut.levelPage,children:[U.jsx("h1",{className:Ut.pageTitle,children:"N4 單字分類"}),U.jsx("div",{className:Ut.categoryList,children:vE.map(P=>{const X=e[P]||"",rt=X?new Date(X)>new Date?Ut.completed:Ut.highlight:"";return U.jsxs("div",{className:`${Ut.categoryItem} ${rt}`,onClick:()=>Q(P),children:[U.jsx("div",{className:Ut.categoryName,children:P}),U.jsx("div",{className:Ut.status,children:X?new Date(X)<=new Date?"需要複習➕":"已完成✅":"開始學習⁉️"})]},P)})})]}),c&&U.jsx("div",{className:Ut.modalOverlay,children:U.jsxs("div",{className:Ut.modal,children:[U.jsxs("h3",{children:["設定每日學習目標 - ",g]}),U.jsx("p",{children:"請設定您每天想要學習的單字數量："}),U.jsxs("div",{className:Ut.goalContainer,children:[U.jsx("input",{type:"number",min:"1",value:p,onChange:P=>{const X=parseInt(P.target.value);E(Math.min(Math.max(1,X),150))},className:Ut.goalInput}),U.jsxs("span",{className:Ut.totalWords,children:["共 ",R," 個單字，預計 ",Math.ceil(R/p)," 天完成"]})]}),U.jsxs("div",{className:Ut.modalActions,children:[U.jsx("button",{onClick:()=>d(!1),className:Ut.cancelButton,disabled:s,children:"取消"}),U.jsx("button",{onClick:$,className:Ut.confirmButton,disabled:!p||s,children:s?"處理中...":"開始學習"})]})]})})]}):U.jsx(Hn,{children:U.jsx("div",{className:Ut.unauthorized,children:U.jsx("p",{children:"請先登入以查看 N4 單字"})})})},tC=(a,e)=>{const i=new Date(a);return i.setDate(i.getDate()+e),i.toISOString().split("T")[0]},eC=()=>{const a=JSON.parse(localStorage.getItem("currentUser")).name,[e,i]=H.useState({}),[s,o]=H.useState(!0),[c,d]=H.useState(!1),[g,y]=H.useState(""),[p,E]=H.useState(""),[R,b]=H.useState(0),B=Zi(),L=async P=>{try{const X=rn(hn,zr.N5,`${P}`),rt=await an(X);return rt.exists()&&rt.data().words.length||0}catch(X){return console.error(`獲取 ${P} 單字總數時出錯:`,X),0}};H.useEffect(()=>{(async()=>{if(!a){o(!1);return}try{console.log("currentUser:",a);const X=await N2(a);console.log("record:",JSON.stringify(X,null,2)),console.log("record type:",typeof X),console.log("record keys:",Object.keys(X)),i(X)}catch(X){console.error("載入 N5 學習記錄時出錯:",X),i({})}finally{o(!1)}})()},[a]),H.useEffect(()=>{g&&L(g).then(P=>{b(P)})},[g]);const $=async()=>{if(!(!g||!p||!a)){o(!0);try{const P=rn(hn,zr.N5,`${g}`),X=await an(P);if(!X.exists())throw new Error(`找不到 ${g} 的單字資料`);const ut=X.data().words||[],ct=ut.length;if(ct===0)throw new Error("該分類沒有可用的單字");const Et=new Date().toISOString().split("T")[0],x=ut.map((O,C)=>{const Rt=Math.floor(C/p);return{...O,nextReview:tC(Et,Rt)}}),A=`N5_${g}`,w=rn(hn,a,A),D=await an(w),I={words:x,total:ct,category:g,level:"N5",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...D.exists()?D.data():{}};await nh(w,I),B(`/n5/review/${g}`)}catch(P){console.error("初始化學習記錄時出錯:",P),alert(`初始化失敗: ${P.message}`)}finally{o(!1),d(!1)}}},Q=async P=>{console.log("category:",P);const X=e[P]||"";if(console.log("status:"+X),!X)console.log("未開始學習"),y(P),d(!0);else{console.log("已經開始學習");const rt=new Date(X),ut=new Date;console.log("reviewDate:"+rt),console.log("today:"+ut),rt<=ut?(console.log("需要複習"),B(`/n5/review/${P}`)):(console.log("不需要複習"),alert(`還未到達${P}的複習日期`))}};return s?U.jsx(Hn,{children:U.jsx("div",{className:Ut.loading,children:"載入中..."})}):a?U.jsxs(Hn,{children:[U.jsxs("div",{className:Ut.levelPage,children:[U.jsx("h1",{className:Ut.pageTitle,children:"N5 單字分類"}),U.jsx("div",{className:Ut.categoryList,children:vE.map(P=>{const X=e[P]||"",rt=X?new Date(X)>new Date?Ut.completed:Ut.highlight:"";return U.jsxs("div",{className:`${Ut.categoryItem} ${rt}`,onClick:()=>Q(P),children:[U.jsx("div",{className:Ut.categoryName,children:P}),U.jsx("div",{className:Ut.status,children:X?new Date(X)<=new Date?"需要複習➕":"已完成✅":"開始學習⁉️"})]},P)})})]}),c&&U.jsx("div",{className:Ut.modalOverlay,children:U.jsxs("div",{className:Ut.modal,children:[U.jsxs("h3",{children:["設定每日學習目標 - ",g]}),U.jsx("p",{children:"請設定您每天想要學習的單字數量："}),U.jsxs("div",{className:Ut.goalContainer,children:[U.jsx("input",{type:"number",min:"1",value:p,onChange:P=>{const X=parseInt(P.target.value);E(Math.min(Math.max(1,X),150))},className:Ut.goalInput}),U.jsxs("span",{className:Ut.totalWords,children:["共 ",R," 個單字，預計 ",Math.ceil(R/p)," 天完成"]})]}),U.jsxs("div",{className:Ut.modalActions,children:[U.jsx("button",{onClick:()=>d(!1),className:Ut.cancelButton,disabled:s,children:"取消"}),U.jsx("button",{onClick:$,className:Ut.confirmButton,disabled:!p||s,children:s?"處理中...":"開始學習"})]})]})})]}):U.jsx(Hn,{children:U.jsx("div",{className:Ut.unauthorized,children:U.jsx("p",{children:"請先登入以查看 N5 單字"})})})},Pc=()=>new Date().toISOString().split("T")[0],EE=(a,e)=>{const i=new Date(a);return i.setDate(i.getDate()+e),i.toISOString().split("T")[0]},nC="_reviewPage_15iq6_1",iC="_progress_15iq6_17",rC="_flashcard_15iq6_28",aC="_cardContent_15iq6_62",sC="_word_15iq6_66",lC="_reading_15iq6_86",oC="_meaning_15iq6_99",uC="_example_15iq6_127",cC="_jp_15iq6_135",hC="_zh_15iq6_143",fC="_buttons_15iq6_201",dC="_navButtonContainer_15iq6_209",mC="_navButton_15iq6_209",gC="_buttonGroup_15iq6_235",pC="_rememberButton_15iq6_243",yC="_forgotButton_15iq6_243",_C="_bottomButtons_15iq6_279",vC="_toggleButton_15iq6_286",Dt={reviewPage:nC,progress:iC,flashcard:rC,cardContent:aC,word:sC,reading:lC,meaning:oC,example:uC,jp:cC,zh:hC,buttons:fC,navButtonContainer:dC,navButton:mC,buttonGroup:gC,rememberButton:pC,forgotButton:yC,bottomButtons:_C,toggleButton:vC},EC=()=>{const a=JSON.parse(localStorage.getItem("currentUser")).name,{category:e}=Sv(),[i,s]=H.useState([]),[o,c]=H.useState([]),[d,g]=H.useState([]),[y,p]=H.useState(0),[E,R]=H.useState(!1),[b,B]=H.useState([]),[L,$]=H.useState(!0),[Q,P]=H.useState(""),X=Zi();H.useEffect(()=>{(async()=>{if(a)try{$(!0);const w=Pc(),D=`N4_${e}`,I=rn(hn,a,D),O=await an(I);if(!O.exists()){console.error("未找到單字數據");return}const C=O.data().words;if(console.log("data: ",C),s(C),C.length>=2){const bt=C.filter(Y=>Y.nextReview);if(bt.length>=2){const Y=[...new Set(bt.map(et=>et.nextReview.split("T")[0]))].sort();if(Y.length>=2){const et=Y[1];P(et)}else console.log("不重複的日期不足 2 個"),P("")}else console.log("有 nextReview 的單字不足 2 個"),P("")}else console.log("單字數量不足 2 個"),P("");const Rt=C.filter(bt=>!bt.nextReview||new Date(bt.nextReview)<=new Date(w));c(Rt)}catch(w){console.error("加載單字時出錯:",w)}finally{$(!1)}})()},[e,a]);const rt=()=>{y>0&&(p(A=>A-1),B(A=>A.slice(0,-1)))},ut=async A=>{if(a)try{const w=`N4_${e}`,D=rn(hn,a,w);if((await an(D)).exists()){const O=i.map(C=>{const Rt=A.find(bt=>bt.id===C.id);return Rt?{...C,...Rt}:C});await gE(D,{words:O,updatedAt:new Date().toISOString()}),console.log("批次更新單字完成")}}catch(w){throw console.error("批量更新單字時出錯:",w),w}},ct=async A=>{if(!a)return;let w;try{A.forEach(I=>{w=A.reduce((O,C)=>C.nextReview<O?C.nextReview:O,A[0].nextReview)});const D=w<Q?w:Q;await V2(a,e,D)}catch(D){console.error("更新 N4_record 時出錯:",D)}},Et=async A=>{const w=Pc(),D=o[y];let I,O;if(A){I=Math.min((D.level||1)+1,Lc.length);const et=Lc[I-2];O=EE(w,et)}else I=D.level,O=w;const C={...D,level:I,lastReviewed:w,nextReview:O},Rt=[...d];Rt[y]=C,g(Rt),R(!1);const bt={wordId:D.id,word:D.word,reading:D.reading,meaning:D.meaning,remembered:A,level:I,nextReview:O},Y=new Map(b.map(et=>[et.wordId,et]));if(Y.set(bt.wordId,bt),B(Array.from(Y.values())),y<o.length-1)console.log("移動到下一個單字，當前索引:",y,"總單字數:",o.length),console.log("currentResult: ",b),p(y+1);else try{console.log("所有單字複習完成，準備更新記錄..."),console.log("updatedWords: ",Rt),console.log("updatedResults: ",b),await ut(Rt),await ct(Rt);const et=Array.from(Y.values());console.log("準備導向總結頁面，結果:",et),X("/summary",{state:{results:et,category:e?e.charAt(0).toUpperCase()+e.slice(1):"N4"},replace:!0})}catch(et){console.error("更新記錄時出錯:",et),console.log("出錯，但仍嘗試導向總結頁面"),X("/summary",{state:{results:finalResults||[],category:e?e.charAt(0).toUpperCase()+e.slice(1):"N4"},replace:!0})}};if(L)return U.jsx("div",{className:Dt.loading,children:"載入中..."});if(o.length===0)return U.jsx("div",{className:Dt.noWords,children:"沒有需要複習的單字！"});const x=o[y];return console.log("currentWord: ",x),U.jsx(Hn,{children:U.jsxs("div",{className:Dt.reviewPage,children:[U.jsxs("div",{className:Dt.progress,children:["進度: ",y+1," / ",o.length,x.level&&U.jsxs("span",{children:[" | 等級: ",x.level]})]}),U.jsx("div",{className:Dt.flashcard,onClick:()=>R(!E),children:U.jsxs("div",{className:Dt.cardContent,children:[U.jsx("h2",{className:Dt.word,children:x.word}),U.jsx("p",{className:Dt.reading,children:E?x.reading:"點擊顯示讀音"}),E&&U.jsxs(U.Fragment,{children:[U.jsx("h3",{className:Dt.meaning,children:x.meaning}),x.example&&U.jsxs("div",{className:Dt.example,children:[U.jsx("p",{className:Dt.jp,children:x.example.jp}),U.jsx("p",{className:Dt.zh,children:x.example.zh})]})]})]})}),U.jsxs("div",{className:Dt.buttons,children:[U.jsx("div",{className:Dt.navButtonContainer,children:U.jsx("button",{className:Dt.navButton,onClick:A=>{A.stopPropagation(),rt()},disabled:y===0,children:"← 上一個"})}),U.jsxs("div",{className:Dt.buttonGroup,children:[U.jsxs("button",{className:Dt.forgotButton,onClick:A=>{A.stopPropagation(),Et(!1)},children:[U.jsx("span",{children:"✕"})," 忘惹"]}),U.jsxs("button",{className:Dt.rememberButton,onClick:A=>{A.stopPropagation(),Et(!0)},children:[U.jsx("span",{children:"✓"})," 記住惹"]})]}),U.jsx("div",{className:Dt.bottomButtons,children:U.jsx("button",{className:Dt.toggleButton,onClick:A=>{A.stopPropagation(),R(!E)},children:E?"隱藏答案":"顯示答案"})})]})]})})},TC=()=>{const a=JSON.parse(localStorage.getItem("currentUser")).name,{category:e}=Sv(),[i,s]=H.useState([]),[o,c]=H.useState([]),[d,g]=H.useState([]),[y,p]=H.useState(0),[E,R]=H.useState(!1),[b,B]=H.useState([]),[L,$]=H.useState(!0),[Q,P]=H.useState(""),X=Zi();H.useEffect(()=>{console.log("N5Review useEffect"+a),(async()=>{if(a)try{$(!0);const w=Pc(),D=`N5_${e}`,I=rn(hn,a,D),O=await an(I);if(!O.exists()){console.error("未找到單字數據");return}const C=O.data().words;if(s(C),C.length>=2){const bt=C.filter(Y=>Y.nextReview);if(bt.length>=2){const Y=[...new Set(bt.map(et=>et.nextReview.split("T")[0]))].sort();if(Y.length>=2){const et=Y[1];P(et)}else console.log("不重複的日期不足 2 個"),P("")}else console.log("有 nextReview 的單字不足 2 個"),P("")}else console.log("單字數量不足 2 個"),P("");const Rt=C.filter(bt=>!bt.nextReview||new Date(bt.nextReview)<=new Date(w));c(Rt),g(Rt)}catch(w){console.error("加載單字時出錯:",w)}finally{$(!1)}})()},[e,a]);const rt=()=>{y>0&&(p(A=>A-1),B(A=>A.slice(0,-1)))},ut=async A=>{if(a)try{const w=`N5_${e}`,D=rn(hn,a,w);if((await an(D)).exists()){const O=i.map(C=>{const Rt=A.find(bt=>bt.id===C.id);return Rt?{...C,...Rt}:C});await gE(D,{words:O,updatedAt:new Date().toISOString()}),console.log("批次更新單字完成")}}catch(w){throw console.error("批量更新單字時出錯:",w),w}},ct=async A=>{if(!a)return;let w;try{A.forEach(I=>{w=A.reduce((O,C)=>C.nextReview<O?C.nextReview:O,A[0].nextReview)}),console.log("這次複習中最小的日期:"+w),console.log("所有單字中第二小的日期:"+Q);const D=w<Q?w:Q;await I2(a,e,D)}catch(D){console.error("更新 N5_record 時出錯:",D)}},Et=async A=>{const w=Pc(),D=o[y];let I,O;if(A){I=Math.min((D.level||1)+1,Lc.length);const et=Lc[I-2];O=EE(w,et),console.log("newLevel: ",I),console.log("newReviewDate: ",O)}else I=D.level,O=w;const C={...D,level:I,lastReviewed:w,nextReview:O},Rt=[...d];Rt[y]=C,g(Rt),R(!1);const bt={wordId:D.id,word:D.word,reading:D.reading,meaning:D.meaning,remembered:A,level:I,nextReview:O},Y=new Map(b.map(et=>[et.wordId,et]));if(Y.set(bt.wordId,bt),B(Array.from(Y.values())),y<o.length-1)console.log("移動到下一個單字，當前索引:",y,"總單字數:",o.length),p(y+1);else try{console.log("所有單字複習完成，準備更新記錄..."),await ut(Rt),await ct(Rt);const et=Array.from(Y.values());console.log("準備導向總結頁面，結果:",et),X("/summary",{state:{results:et,category:e?e.charAt(0).toUpperCase()+e.slice(1):"N5"},replace:!0})}catch(et){console.error("更新記錄時出錯:",et),console.log("出錯，但仍嘗試導向總結頁面"),X("/summary",{state:{results:finalResults||[],category:e?e.charAt(0).toUpperCase()+e.slice(1):"N5"},replace:!0})}};if(L)return U.jsx("div",{className:Dt.loading,children:"載入中..."});if(o.length===0)return U.jsx("div",{className:Dt.noWords,children:"沒有需要複習的單字！"});const x=o[y];return U.jsx(Hn,{children:U.jsxs("div",{className:Dt.reviewPage,children:[U.jsxs("div",{className:Dt.progress,children:["進度: ",y+1," / ",o.length,x.level&&U.jsxs("span",{children:[" | 等級: ",x.level]})]}),U.jsx("div",{className:Dt.flashcard,onClick:()=>R(!E),children:U.jsxs("div",{className:Dt.cardContent,children:[U.jsx("h2",{className:Dt.word,children:x.word}),U.jsx("p",{className:Dt.reading,children:E?x.reading:"點擊顯示讀音"}),E&&U.jsxs(U.Fragment,{children:[U.jsx("h3",{className:Dt.meaning,children:x.meaning}),x.example&&U.jsxs("div",{className:Dt.example,children:[U.jsx("p",{className:Dt.jp,children:x.example.jp}),U.jsx("p",{className:Dt.zh,children:x.example.zh})]})]})]})}),U.jsxs("div",{className:Dt.buttons,children:[U.jsx("div",{className:Dt.navButtonContainer,children:U.jsx("button",{className:Dt.navButton,onClick:A=>{A.stopPropagation(),rt()},disabled:y===0,children:"← 上一個"})}),U.jsxs("div",{className:Dt.buttonGroup,children:[U.jsxs("button",{className:Dt.forgotButton,onClick:A=>{A.stopPropagation(),Et(!1)},children:[U.jsx("span",{children:"✕"})," 忘惹"]}),U.jsxs("button",{className:Dt.rememberButton,onClick:A=>{A.stopPropagation(),Et(!0)},children:[U.jsx("span",{children:"✓"})," 記住惹"]})]}),U.jsx("div",{className:Dt.bottomButtons,children:U.jsx("button",{className:Dt.toggleButton,onClick:A=>{A.stopPropagation(),R(!E)},children:E?"隱藏答案":"顯示答案"})})]})]})})},SC="_summaryContainer_47qvw_1",AC="_statsContainer_47qvw_21",bC="_statItem_47qvw_33",wC="_statNumber_47qvw_46",RC="_remembered_47qvw_52",CC="_forgotten_47qvw_55",DC="_statLabel_47qvw_59",NC="_wordsList_47qvw_66",xC="_wordsGrid_47qvw_71",IC="_wordItem_47qvw_78",VC="_forgottenWord_47qvw_93",OC="_wordContent_47qvw_98",MC="_japanese_47qvw_102",UC="_reading_47qvw_109",LC="_meaning_47qvw_115",PC="_statusIndicator_47qvw_121",BC="_backButton_47qvw_141",ee={summaryContainer:SC,statsContainer:AC,statItem:bC,statNumber:wC,remembered:RC,forgotten:CC,statLabel:DC,wordsList:NC,wordsGrid:xC,wordItem:IC,forgottenWord:VC,wordContent:OC,japanese:MC,reading:UC,meaning:LC,statusIndicator:PC,backButton:BC},zC=()=>{const a=Yn(),e=Zi(),{results:i=[],category:s="N5"}=a.state||{},o=i.length,c=i.filter(E=>E.remembered).length,d=o-c,g=o>0?Math.round(c/o*100):0,y=()=>{switch(s){case"N5":return"/n5";case"N4":return"/n4";default:return"/n5"}},p=()=>{e(y())};return U.jsx(Hn,{children:U.jsxs("div",{className:ee.summaryContainer,children:[U.jsx("h1",{children:"複習完成！"}),U.jsxs("div",{className:ee.statsContainer,children:[U.jsxs("div",{className:ee.statItem,children:[U.jsx("div",{className:ee.statNumber,children:o}),U.jsx("div",{className:ee.statLabel,children:"總複習單字"})]}),U.jsxs("div",{className:ee.statItem,children:[U.jsx("div",{className:`${ee.statNumber} ${ee.remembered}`,children:c}),U.jsx("div",{className:ee.statLabel,children:"記住"})]}),U.jsxs("div",{className:ee.statItem,children:[U.jsx("div",{className:`${ee.statNumber} ${d>0?ee.forgotten:""}`,children:d}),U.jsx("div",{className:ee.statLabel,children:"忘記"})]}),U.jsxs("div",{className:ee.statItem,children:[U.jsxs("div",{className:ee.statNumber,children:[g,"%"]}),U.jsx("div",{className:ee.statLabel,children:"正確率"})]})]}),U.jsxs("div",{className:ee.wordsList,children:[U.jsx("h2",{children:"單字列表"}),U.jsx("div",{className:ee.wordsGrid,children:i.map((E,R)=>U.jsxs("div",{className:`${ee.wordItem} ${E.remembered?"":ee.forgottenWord}`,children:[U.jsxs("div",{className:ee.wordContent,children:[U.jsxs("div",{className:ee.wordText,children:[U.jsx("span",{className:ee.japanese,children:E.word}),U.jsx("span",{className:ee.reading,children:E.reading||""})]}),U.jsx("div",{className:ee.meaning,children:E.meaning})]}),U.jsx("div",{className:ee.statusIndicator,children:E.remembered?"✓":"✕"})]},`${E.wordId||R}`))})]}),U.jsxs("button",{className:ee.backButton,onClick:p,children:["返回",s,"目錄"]})]})})},jC="_loginContainer_ljnw0_1",kC="_loginBox_ljnw0_13",qC="_loginForm_ljnw0_30",HC="_formGroup_ljnw0_36",GC="_error_ljnw0_64",FC="_loginButton_ljnw0_74",Ra={loginContainer:jC,loginBox:kC,loginForm:qC,formGroup:HC,error:GC,loginButton:FC},QC=()=>{const[a,e]=H.useState(""),[i,s]=H.useState(""),[o,c]=H.useState(""),[d,g]=H.useState(!1),{login:y}=Om(),p=Zi(),R=Yn().state?.from?.pathname||"/",b=async B=>{if(B.preventDefault(),c(""),!a||!i){c("請輸入用戶名和密碼");return}try{g(!0);const L=await y(a,i);L.success?p(R,{replace:!0}):c(L.message||"登入失敗")}catch(L){console.error("登入時出錯:",L),c("登入時發生錯誤")}finally{g(!1)}};return U.jsx(Hn,{children:U.jsx("div",{className:Ra.loginContainer,children:U.jsxs("div",{className:Ra.loginBox,children:[U.jsx("h2",{children:"登入"}),o&&U.jsx("div",{className:Ra.error,children:o}),U.jsxs("form",{onSubmit:b,className:Ra.loginForm,children:[U.jsxs("div",{className:Ra.formGroup,children:[U.jsx("label",{htmlFor:"username",children:"用戶名"}),U.jsx("input",{id:"username",type:"text",value:a,onChange:B=>e(B.target.value),disabled:d,placeholder:"請輸入用戶名"})]}),U.jsxs("div",{className:Ra.formGroup,children:[U.jsx("label",{htmlFor:"password",children:"密碼"}),U.jsx("input",{id:"password",type:"password",value:i,onChange:B=>s(B.target.value),disabled:d,placeholder:"請輸入密碼"})]}),U.jsx("button",{type:"submit",className:Ra.loginButton,disabled:d,children:d?"登入中...":"登入"})]})]})})})},YC="_navbar_22qo8_1",KC="_logo_22qo8_13",XC="_navLinks_22qo8_23",$C="_navLink_22qo8_23",ZC="_loginButton_22qo8_43",JC="_logoutButton_22qo8_54",WC="_userSection_22qo8_65",tD="_username_22qo8_71",qn={navbar:YC,logo:KC,navLinks:XC,navLink:$C,loginButton:ZC,logoutButton:JC,userSection:WC,username:tD},eD=()=>{const{currentUser:a,logout:e}=Om(),i=Zi(),s=async()=>{try{await e(),i("/login")}catch(o){console.error("登出失敗:",o)}};return U.jsxs("nav",{className:qn.navbar,children:[U.jsx(_o,{to:"/",className:qn.logo,children:"日文單字間隔複習"}),U.jsx("div",{className:qn.navLinks,children:a?U.jsxs(U.Fragment,{children:[U.jsx("button",{onClick:()=>i("/n5"),className:qn.navLink,children:"N5"}),U.jsx("button",{onClick:()=>i("/n4"),className:qn.navLink,children:"N4"}),U.jsxs("div",{className:qn.userSection,children:[U.jsxs("span",{className:qn.username,children:["歡迎, ",a.name]}),U.jsx("button",{onClick:s,className:`${qn.navLink} ${qn.logoutButton}`,children:"登出"})]})]}):U.jsx("button",{onClick:()=>i("/login"),className:`${qn.navLink} ${qn.loginButton}`,children:"登入"})})]})},Ds=({children:a})=>{const{currentUser:e}=Om(),i=Yn();return e?a:U.jsx(wv,{to:"/login",state:{from:i},replace:!0})},nD=()=>U.jsxs(Y1,{children:[U.jsx(Fi,{path:"/login",element:U.jsx(QC,{})}),U.jsx(Fi,{path:"/",element:U.jsx(Ds,{children:U.jsx(H2,{})})}),U.jsx(Fi,{path:"/n4",element:U.jsx(Ds,{children:U.jsx(W2,{})})}),U.jsx(Fi,{path:"/n5",element:U.jsx(Ds,{children:U.jsx(eC,{})})}),U.jsx(Fi,{path:"/n4/review/:category",element:U.jsx(Ds,{children:U.jsx(EC,{})})}),U.jsx(Fi,{path:"/n5/review/:category",element:U.jsx(Ds,{children:U.jsx(TC,{})})}),U.jsx(Fi,{path:"/summary",element:U.jsx(Ds,{children:U.jsx(zC,{})})}),U.jsx(Fi,{path:"*",element:U.jsx(wv,{to:"/",replace:!0})})]}),iD=()=>U.jsx(M2,{children:U.jsxs("div",{className:"app",children:[U.jsx(eD,{}),U.jsx("div",{className:"content",children:U.jsx(nD,{})})]})});n1.createRoot(document.getElementById("root")).render(U.jsx(KT.StrictMode,{children:U.jsx(yS,{basename:"/TanngoAPP/",children:U.jsx(iD,{})})}));
