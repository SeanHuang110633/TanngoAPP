(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function dv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ed={exports:{}},to={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function qT(){if(jy)return to;jy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:c}}return to.Fragment=e,to.jsx=i,to.jsxs=i,to}var qy;function HT(){return qy||(qy=1,ed.exports=qT()),ed.exports}var Y=HT(),nd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function GT(){if(Hy)return Rt;Hy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function A(V){return V===null||typeof V!="object"?null:(V=R&&V[R]||V["@@iterator"],typeof V=="function"?V:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,X={};function G(V,nt,lt){this.props=V,this.context=nt,this.refs=X,this.updater=lt||P}G.prototype.isReactComponent={},G.prototype.setState=function(V,nt){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,nt,"setState")},G.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Q(){}Q.prototype=G.prototype;function tt(V,nt,lt){this.props=V,this.context=nt,this.refs=X,this.updater=lt||P}var et=tt.prototype=new Q;et.constructor=tt,U(et,G.prototype),et.isPureReactComponent=!0;var ft=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function O(V,nt,lt,rt,gt,Dt){return lt=Dt.ref,{$$typeof:a,type:V,key:nt,ref:lt!==void 0?lt:null,props:Dt}}function b(V,nt){return O(V.type,nt,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function I(V){var nt={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return nt[lt]})}var N=/\/+/g;function M(V,nt){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):nt.toString(36)}function C(){}function zt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(nt){V.status==="pending"&&(V.status="fulfilled",V.value=nt)},function(nt){V.status==="pending"&&(V.status="rejected",V.reason=nt)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ot(V,nt,lt,rt,gt){var Dt=typeof V;(Dt==="undefined"||Dt==="boolean")&&(V=null);var Tt=!1;if(V===null)Tt=!0;else switch(Dt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(V.$$typeof){case a:case e:Tt=!0;break;case E:return Tt=V._init,Ot(Tt(V._payload),nt,lt,rt,gt)}}if(Tt)return gt=gt(V),Tt=rt===""?"."+M(V,0):rt,ft(gt)?(lt="",Tt!=null&&(lt=Tt.replace(N,"$&/")+"/"),Ot(gt,nt,lt,"",function(Gn){return Gn})):gt!=null&&(w(gt)&&(gt=b(gt,lt+(gt.key==null||V&&V.key===gt.key?"":(""+gt.key).replace(N,"$&/")+"/")+Tt)),nt.push(gt)),1;Tt=0;var Ve=rt===""?".":rt+":";if(ft(V))for(var te=0;te<V.length;te++)rt=V[te],Dt=Ve+M(rt,te),Tt+=Ot(rt,nt,lt,Dt,gt);else if(te=A(V),typeof te=="function")for(V=te.call(V),te=0;!(rt=V.next()).done;)rt=rt.value,Dt=Ve+M(rt,te++),Tt+=Ot(rt,nt,lt,Dt,gt);else if(Dt==="object"){if(typeof V.then=="function")return Ot(zt(V),nt,lt,rt,gt);throw nt=String(V),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function K(V,nt,lt){if(V==null)return V;var rt=[],gt=0;return Ot(V,rt,"","",function(Dt){return nt.call(lt,Dt,gt++)}),rt}function at(V){if(V._status===-1){var nt=V._result;nt=nt(),nt.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=nt)}if(V._status===1)return V._result.default;throw V._result}var ot=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function jt(){}return Rt.Children={map:K,forEach:function(V,nt,lt){K(V,function(){nt.apply(this,arguments)},lt)},count:function(V){var nt=0;return K(V,function(){nt++}),nt},toArray:function(V){return K(V,function(nt){return nt})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Rt.Component=G,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=tt,Rt.StrictMode=s,Rt.Suspense=y,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ct.H.useMemoCache(V)}},Rt.cache=function(V){return function(){return V.apply(null,arguments)}},Rt.cloneElement=function(V,nt,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=U({},V.props),gt=V.key,Dt=void 0;if(nt!=null)for(Tt in nt.ref!==void 0&&(Dt=void 0),nt.key!==void 0&&(gt=""+nt.key),nt)!bt.call(nt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&nt.ref===void 0||(rt[Tt]=nt[Tt]);var Tt=arguments.length-2;if(Tt===1)rt.children=lt;else if(1<Tt){for(var Ve=Array(Tt),te=0;te<Tt;te++)Ve[te]=arguments[te+2];rt.children=Ve}return O(V.type,gt,void 0,void 0,Dt,rt)},Rt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Rt.createElement=function(V,nt,lt){var rt,gt={},Dt=null;if(nt!=null)for(rt in nt.key!==void 0&&(Dt=""+nt.key),nt)bt.call(nt,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(gt[rt]=nt[rt]);var Tt=arguments.length-2;if(Tt===1)gt.children=lt;else if(1<Tt){for(var Ve=Array(Tt),te=0;te<Tt;te++)Ve[te]=arguments[te+2];gt.children=Ve}if(V&&V.defaultProps)for(rt in Tt=V.defaultProps,Tt)gt[rt]===void 0&&(gt[rt]=Tt[rt]);return O(V,Dt,void 0,void 0,null,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(V){return{$$typeof:g,render:V}},Rt.isValidElement=w,Rt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:at}},Rt.memo=function(V,nt){return{$$typeof:p,type:V,compare:nt===void 0?null:nt}},Rt.startTransition=function(V){var nt=ct.T,lt={};ct.T=lt;try{var rt=V(),gt=ct.S;gt!==null&&gt(lt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(jt,ot)}catch(Dt){ot(Dt)}finally{ct.T=nt}},Rt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},Rt.use=function(V){return ct.H.use(V)},Rt.useActionState=function(V,nt,lt){return ct.H.useActionState(V,nt,lt)},Rt.useCallback=function(V,nt){return ct.H.useCallback(V,nt)},Rt.useContext=function(V){return ct.H.useContext(V)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(V,nt){return ct.H.useDeferredValue(V,nt)},Rt.useEffect=function(V,nt,lt){var rt=ct.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(V,nt)},Rt.useId=function(){return ct.H.useId()},Rt.useImperativeHandle=function(V,nt,lt){return ct.H.useImperativeHandle(V,nt,lt)},Rt.useInsertionEffect=function(V,nt){return ct.H.useInsertionEffect(V,nt)},Rt.useLayoutEffect=function(V,nt){return ct.H.useLayoutEffect(V,nt)},Rt.useMemo=function(V,nt){return ct.H.useMemo(V,nt)},Rt.useOptimistic=function(V,nt){return ct.H.useOptimistic(V,nt)},Rt.useReducer=function(V,nt,lt){return ct.H.useReducer(V,nt,lt)},Rt.useRef=function(V){return ct.H.useRef(V)},Rt.useState=function(V){return ct.H.useState(V)},Rt.useSyncExternalStore=function(V,nt,lt){return ct.H.useSyncExternalStore(V,nt,lt)},Rt.useTransition=function(){return ct.H.useTransition()},Rt.version="19.1.0",Rt}var Gy;function jd(){return Gy||(Gy=1,nd.exports=GT()),nd.exports}var H=jd();const FT=dv(H);var id={exports:{}},eo={},rd={exports:{}},ad={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function QT(){return Fy||(Fy=1,function(a){function e(K,at){var ot=K.length;K.push(at);t:for(;0<ot;){var jt=ot-1>>>1,V=K[jt];if(0<o(V,at))K[jt]=at,K[ot]=V,ot=jt;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var at=K[0],ot=K.pop();if(ot!==at){K[0]=ot;t:for(var jt=0,V=K.length,nt=V>>>1;jt<nt;){var lt=2*(jt+1)-1,rt=K[lt],gt=lt+1,Dt=K[gt];if(0>o(rt,ot))gt<V&&0>o(Dt,rt)?(K[jt]=Dt,K[gt]=ot,jt=gt):(K[jt]=rt,K[lt]=ot,jt=lt);else if(gt<V&&0>o(Dt,ot))K[jt]=Dt,K[gt]=ot,jt=gt;else break t}}return at}function o(K,at){var ot=K.sortIndex-at.sortIndex;return ot!==0?ot:K.id-at.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],p=[],E=1,R=null,A=3,P=!1,U=!1,X=!1,G=!1,Q=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ft(K){for(var at=i(p);at!==null;){if(at.callback===null)s(p);else if(at.startTime<=K)s(p),at.sortIndex=at.expirationTime,e(y,at);else break;at=i(p)}}function ct(K){if(X=!1,ft(K),!U)if(i(y)!==null)U=!0,bt||(bt=!0,M());else{var at=i(p);at!==null&&Ot(ct,at.startTime-K)}}var bt=!1,O=-1,b=5,w=-1;function I(){return G?!0:!(a.unstable_now()-w<b)}function N(){if(G=!1,bt){var K=a.unstable_now();w=K;var at=!0;try{t:{U=!1,X&&(X=!1,tt(O),O=-1),P=!0;var ot=A;try{e:{for(ft(K),R=i(y);R!==null&&!(R.expirationTime>K&&I());){var jt=R.callback;if(typeof jt=="function"){R.callback=null,A=R.priorityLevel;var V=jt(R.expirationTime<=K);if(K=a.unstable_now(),typeof V=="function"){R.callback=V,ft(K),at=!0;break e}R===i(y)&&s(y),ft(K)}else s(y);R=i(y)}if(R!==null)at=!0;else{var nt=i(p);nt!==null&&Ot(ct,nt.startTime-K),at=!1}}break t}finally{R=null,A=ot,P=!1}at=void 0}}finally{at?M():bt=!1}}}var M;if(typeof et=="function")M=function(){et(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,zt=C.port2;C.port1.onmessage=N,M=function(){zt.postMessage(null)}}else M=function(){Q(N,0)};function Ot(K,at){O=Q(function(){K(a.unstable_now())},at)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return A},a.unstable_next=function(K){switch(A){case 1:case 2:case 3:var at=3;break;default:at=A}var ot=A;A=at;try{return K()}finally{A=ot}},a.unstable_requestPaint=function(){G=!0},a.unstable_runWithPriority=function(K,at){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ot=A;A=K;try{return at()}finally{A=ot}},a.unstable_scheduleCallback=function(K,at,ot){var jt=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?jt+ot:jt):ot=jt,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ot+V,K={id:E++,callback:at,priorityLevel:K,startTime:ot,expirationTime:V,sortIndex:-1},ot>jt?(K.sortIndex=ot,e(p,K),i(y)===null&&K===i(p)&&(X?(tt(O),O=-1):X=!0,Ot(ct,ot-jt))):(K.sortIndex=V,e(y,K),U||P||(U=!0,bt||(bt=!0,M()))),K},a.unstable_shouldYield=I,a.unstable_wrapCallback=function(K){var at=A;return function(){var ot=A;A=at;try{return K.apply(this,arguments)}finally{A=ot}}}}(ad)),ad}var Qy;function YT(){return Qy||(Qy=1,rd.exports=QT()),rd.exports}var sd={exports:{}},Xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function KT(){if(Yy)return Xe;Yy=1;var a=jd();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)p+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:y,containerInfo:p,implementation:E}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xe.createPortal=function(y,p){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(y,p,null,E)},Xe.flushSync=function(y){var p=d.T,E=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=p,s.p=E,s.d.f()}},Xe.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},Xe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Xe.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var E=p.as,R=g(E,p.crossOrigin),A=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;E==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:R,integrity:A,fetchPriority:P}):E==="script"&&s.d.X(y,{crossOrigin:R,integrity:A,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Xe.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var E=g(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},Xe.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var E=p.as,R=g(E,p.crossOrigin);s.d.L(y,E,{crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Xe.preloadModule=function(y,p){if(typeof y=="string")if(p){var E=g(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},Xe.requestFormReset=function(y){s.d.r(y)},Xe.unstable_batchedUpdates=function(y,p){return y(p)},Xe.useFormState=function(y,p,E){return d.H.useFormState(y,p,E)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.1.0",Xe}var Ky;function XT(){if(Ky)return sd.exports;Ky=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),sd.exports=KT(),sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function $T(){if(Xy)return eo;Xy=1;var a=YT(),e=jd(),i=XT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===r){v=!0,r=h,l=f;break}if(T===l){v=!0,l=h,r=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===r){v=!0,r=f,l=h;break}if(T===l){v=!0,l=f,r=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case G:return"Profiler";case X:return"StrictMode";case ct:return"Suspense";case bt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case et:return(t.displayName||"Context")+".Provider";case tt:return(t._context.displayName||"Context")+".Consumer";case ft:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:zt(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return zt(t(n))}catch{}}return null}var Ot=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},jt=[],V=-1;function nt(t){return{current:t}}function lt(t){0>V||(t.current=jt[V],jt[V]=null,V--)}function rt(t,n){V++,jt[V]=t.current,t.current=n}var gt=nt(null),Dt=nt(null),Tt=nt(null),Ve=nt(null);function te(t,n){switch(rt(Tt,n),rt(Dt,t),rt(gt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?gy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=gy(n),t=py(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(gt),rt(gt,t)}function Gn(){lt(gt),lt(Dt),lt(Tt)}function Qi(t){t.memoizedState!==null&&rt(Ve,t);var n=gt.current,r=py(n,t.type);n!==r&&(rt(Dt,t),rt(gt,r))}function gi(t){Dt.current===t&&(lt(gt),lt(Dt)),Ve.current===t&&(lt(Ve),Xl._currentValue=ot)}var Pr=Object.prototype.hasOwnProperty,Br=a.unstable_scheduleCallback,zr=a.unstable_cancelCallback,Qs=a.unstable_shouldYield,Oo=a.unstable_requestPaint,vn=a.unstable_now,th=a.unstable_getCurrentPriorityLevel,Ys=a.unstable_ImmediatePriority,Ua=a.unstable_UserBlockingPriority,kr=a.unstable_NormalPriority,eh=a.unstable_LowPriority,La=a.unstable_IdlePriority,Ks=a.log,Mo=a.unstable_setDisableYieldValue,ue=null,Ft=null;function un(t){if(typeof Ks=="function"&&Mo(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ue,t)}catch{}}var Ye=Math.clz32?Math.clz32:jr,Uo=Math.log,nh=Math.LN2;function jr(t){return t>>>=0,t===0?32:31-(Uo(t)/nh|0)|0}var qr=256,Hr=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Pa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=On(l):(v&=T,v!==0?h=On(v):r||(r=T&~t,r!==0&&(h=On(r))))):(T=l&~f,T!==0?h=On(T):v!==0?h=On(v):r||(r=l&~t,r!==0&&(h=On(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Gr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Xs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $s(){var t=qr;return qr<<=1,(qr&4194048)===0&&(qr=256),t}function Zs(){var t=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),t}function pi(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function yi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Js(t,n,r,l,h,f){var v=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,k=t.hiddenUpdates;for(r=v&~r;0<r;){var $=31-Ye(r),J=1<<$;T[$]=0,D[$]=-1;var j=k[$];if(j!==null)for(k[$]=null,$=0;$<j.length;$++){var q=j[$];q!==null&&(q.lane&=-536870913)}r&=~J}l!==0&&Fn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Fn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ws(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),h=1<<l;h&n|t[l]&n&&(t[l]|=n),r&=~h}}function Yi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ba(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ki(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:Uy(t.type))}function Lo(t,n){var r=at.p;try{return at.p=t,n()}finally{at.p=r}}var ie=Math.random().toString(36).slice(2),Ae="__reactFiber$"+ie,pe="__reactProps$"+ie,En="__reactContainer$"+ie,tl="__reactEvents$"+ie,ih="__reactListeners$"+ie,Xi="__reactHandles$"+ie,Po="__reactResources$"+ie,Fr="__reactMarker$"+ie;function $i(t){delete t[Ae],delete t[pe],delete t[tl],delete t[ih],delete t[Xi]}function _i(t){var n=t[Ae];if(n)return n;for(var r=t.parentNode;r;){if(n=r[En]||r[Ae]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Ey(t);t!==null;){if(r=t[Ae])return r;t=Ey(t)}return n}t=r,r=t.parentNode}return null}function Qn(t){if(t=t[Ae]||t[En]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Yn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function We(t){var n=t[Po];return n||(n=t[Po]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function fe(t){t[Fr]=!0}var el=new Set,za={};function Mn(t,n){vi(t,n),vi(t+"Capture",n)}function vi(t,n){for(za[t]=n,t=0;t<n.length;t++)el.add(n[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zo={},Qr={};function ko(t){return Pr.call(Qr,t)?!0:Pr.call(zo,t)?!1:Bo.test(t)?Qr[t]=!0:(zo[t]=!0,!1)}function Zi(t,n,r){if(ko(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Kn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function ze(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Yr,jo;function Ei(t){if(Yr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",jo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+t+jo}var ka=!1;function ja(t,n){if(!t||ka)return"";ka=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(q){var j=q}Reflect.construct(t,[],J)}else{try{J.call()}catch(q){j=q}t.call(J.prototype)}}else{try{throw Error()}catch(q){j=q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var D=v.split(`
`),k=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===k.length)for(l=D.length-1,h=k.length-1;1<=l&&0<=h&&D[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==k[h]){var $=`
`+D[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{ka=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Ei(r):""}function nl(t){switch(t.tag){case 26:case 27:case 5:return Ei(t.type);case 16:return Ei("Lazy");case 13:return Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return ja(t.type,!1);case 11:return ja(t.type.render,!1);case 1:return ja(t.type,!0);case 31:return Ei("Activity");default:return""}}function qa(t){try{var n="";do n+=nl(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function il(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function rh(t){var n=il(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var h=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ha(t){t._valueTracker||(t._valueTracker=rh(t))}function rl(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=il(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ah=/[\n"\\]/g;function ye(t){return t.replace(ah,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function cn(t,n,r,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+tn(n)):t.value!==""+tn(n)&&(t.value=""+tn(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Ji(t,v,tn(n)):r!=null?Ji(t,v,tn(r)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function Xr(t,n,r,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+tn(r):"",n=n!=null?""+tn(n):r,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ji(t,n,r){n==="number"&&Kr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ti(t,n,r,l){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+tn(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Kt(t,n,r){if(n!=null&&(n=""+tn(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+tn(r):""}function $r(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(Ot(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=tn(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function Tn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Zr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Zr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function al(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&qo(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&qo(t,f,n[f])}function sl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ga(t){return lh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Si=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,bi=null;function ll(t){var n=Qn(t);if(n&&(t=n.stateNode)){var r=t[pe]||null;t:switch(t=n.stateNode,n.type){case"input":if(cn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ye(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var h=l[pe]||null;if(!h)throw Error(s(90));cn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&rl(l)}break t;case"textarea":Kt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ti(t,!!r.multiple,n,!1)}}}var Xn=!1;function Ho(t,n,r){if(Xn)return t(n,r);Xn=!0;try{var l=t(n);return l}finally{if(Xn=!1,(Ai!==null||bi!==null)&&(Lu(),Ai&&(n=Ai,t=bi,bi=Ai=null,ll(n),t)))for(n=0;n<t.length;n++)ll(t[n])}}function Jr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[pe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(Un)try{var Wr={};Object.defineProperty(Wr,"passive",{get:function(){An=!0}}),window.addEventListener("test",Wr,Wr),window.removeEventListener("test",Wr,Wr)}catch{An=!1}var $n=null,Wi=null,Ri=null;function ol(){if(Ri)return Ri;var t,n=Wi,r=n.length,l,h="value"in $n?$n.value:$n.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var v=r-t;for(l=1;l<=v&&n[r-l]===h[f-l];l++);return Ri=h.slice(t,1<l?1-l:void 0)}function Zn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Jn(){return!0}function ul(){return!1}function xe(t){function n(r,l,h,f,v){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Jn:ul,this.isPropagationStopped=ul,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=xe(Ht),ta=E({},Ht,{view:0,detail:0}),Go=xe(ta),Qa,Ya,Wn,ea=E({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(Qa=t.screenX-Wn.screenX,Ya=t.screenY-Wn.screenY):Ya=Qa=0,Wn=t),Qa)},movementY:function(t){return"movementY"in t?t.movementY:Ya}}),bn=xe(ea),Fo=E({},ea,{dataTransfer:0}),oh=xe(Fo),na=E({},ta,{relatedTarget:0}),Ka=xe(na),cl=E({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Xa=xe(cl),Qo=E({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$a=xe(Qo),uh=E({},Ht,{data:0}),hl=xe(uh),ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ko[t])?!!n[t]:!1}function ra(){return fl}var Xo=E({},ta,{key:function(t){if(t.key){var n=ia[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Zn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(t){return t.type==="keypress"?Zn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Za=xe(Xo),$o=E({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=xe($o),wi=E({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),Zo=xe(wi),Jo=E({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wo=xe(Jo),tu=E({},ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ja=xe(tu),en=E({},Ht,{newState:0,oldState:0}),eu=xe(en),nu=[9,13,27,32],ti=Un&&"CompositionEvent"in window,u=null;Un&&"documentMode"in document&&(u=document.documentMode);var m=Un&&"TextEvent"in window&&!u,_=Un&&(!ti||u&&8<u&&11>=u),S=" ",B=!1;function F(t,n){switch(t){case"keyup":return nu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function be(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(B=!0,S);case"textInput":return t=n.data,t===S&&B?null:t;default:return null}}function Ut(t,n){if(Mt)return t==="compositionend"||!ti&&F(t,n)?(t=ol(),Ri=Wi=$n=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Oe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Re(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Oe[t.type]:n==="textarea"}function Ci(t,n,r,l){Ai?bi?bi.push(l):bi=[l]:Ai=l,n=qu(n,"onChange"),0<n.length&&(r=new Fa("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var ke=null,ei=null;function ml(t){cy(t,0)}function iu(t){var n=Yn(t);if(rl(n))return t}function Vm(t,n){if(t==="change")return n}var xm=!1;if(Un){var ch;if(Un){var hh="oninput"in document;if(!hh){var Om=document.createElement("div");Om.setAttribute("oninput","return;"),hh=typeof Om.oninput=="function"}ch=hh}else ch=!1;xm=ch&&(!document.documentMode||9<document.documentMode)}function Mm(){ke&&(ke.detachEvent("onpropertychange",Um),ei=ke=null)}function Um(t){if(t.propertyName==="value"&&iu(ei)){var n=[];Ci(n,ei,t,Sn(t)),Ho(ml,n)}}function _E(t,n,r){t==="focusin"?(Mm(),ke=n,ei=r,ke.attachEvent("onpropertychange",Um)):t==="focusout"&&Mm()}function vE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(ei)}function EE(t,n){if(t==="click")return iu(n)}function TE(t,n){if(t==="input"||t==="change")return iu(n)}function SE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var hn=typeof Object.is=="function"?Object.is:SE;function gl(t,n){if(hn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!Pr.call(n,h)||!hn(t[h],n[h]))return!1}return!0}function Lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pm(t,n){var r=Lm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Lm(r)}}function Bm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Bm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function zm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Kr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Kr(t.document)}return n}function fh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var AE=Un&&"documentMode"in document&&11>=document.documentMode,Wa=null,dh=null,pl=null,mh=!1;function km(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mh||Wa==null||Wa!==Kr(l)||(l=Wa,"selectionStart"in l&&fh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pl&&gl(pl,l)||(pl=l,l=qu(dh,"onSelect"),0<l.length&&(n=new Fa("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Wa)))}function aa(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ts={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},gh={},jm={};Un&&(jm=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function sa(t){if(gh[t])return gh[t];if(!ts[t])return t;var n=ts[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in jm)return gh[t]=n[r];return t}var qm=sa("animationend"),Hm=sa("animationiteration"),Gm=sa("animationstart"),bE=sa("transitionrun"),RE=sa("transitionstart"),wE=sa("transitioncancel"),Fm=sa("transitionend"),Qm=new Map,ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ph.push("scrollEnd");function Ln(t,n){Qm.set(t,n),Mn(n,[t])}var Ym=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var r=Ym.get(t);return r!==void 0?r:(n={value:t,source:n,stack:qa(n)},Ym.set(t,n),n)}return{value:t,source:n,stack:qa(n)}}var wn=[],es=0,yh=0;function ru(){for(var t=es,n=yh=es=0;n<t;){var r=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&Km(r,h,f)}}function au(t,n,r,l){wn[es++]=t,wn[es++]=n,wn[es++]=r,wn[es++]=l,yh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _h(t,n,r,l){return au(t,n,r,l),su(t)}function ns(t,n){return au(t,null,null,n),su(t)}function Km(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Ye(r),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function su(t){if(50<jl)throw jl=0,Rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var is={};function CE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,n,r,l){return new CE(t,n,r,l)}function vh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,n){var r=t.alternate;return r===null?(r=fn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Xm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function lu(t,n,r,l,h,f){var v=0;if(l=t,typeof t=="function")vh(t)&&(v=1);else if(typeof t=="string")v=IT(t,r,gt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=fn(31,r,n,h),t.elementType=w,t.lanes=f,t;case U:return la(r.children,h,f,n);case X:v=8,h|=24;break;case G:return t=fn(12,r,n,h|2),t.elementType=G,t.lanes=f,t;case ct:return t=fn(13,r,n,h),t.elementType=ct,t.lanes=f,t;case bt:return t=fn(19,r,n,h),t.elementType=bt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case et:v=10;break t;case tt:v=9;break t;case ft:v=11;break t;case O:v=14;break t;case b:v=16,l=null;break t}v=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=fn(v,r,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function la(t,n,r,l){return t=fn(7,t,l,n),t.lanes=r,t}function Eh(t,n,r){return t=fn(6,t,null,n),t.lanes=r,t}function Th(t,n,r){return n=fn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var rs=[],as=0,ou=null,uu=0,Cn=[],Dn=0,oa=null,Ii=1,Ni="";function ua(t,n){rs[as++]=uu,rs[as++]=ou,ou=t,uu=n}function $m(t,n,r){Cn[Dn++]=Ii,Cn[Dn++]=Ni,Cn[Dn++]=oa,oa=t;var l=Ii;t=Ni;var h=32-Ye(l)-1;l&=~(1<<h),r+=1;var f=32-Ye(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-Ye(n)+h|r<<h|l,Ni=f+t}else Ii=1<<f|r<<h|l,Ni=t}function Sh(t){t.return!==null&&(ua(t,1),$m(t,1,0))}function Ah(t){for(;t===ou;)ou=rs[--as],rs[as]=null,uu=rs[--as],rs[as]=null;for(;t===oa;)oa=Cn[--Dn],Cn[Dn]=null,Ni=Cn[--Dn],Cn[Dn]=null,Ii=Cn[--Dn],Cn[Dn]=null}var nn=null,ce=null,qt=!1,ca=null,ni=!1,bh=Error(s(519));function ha(t){var n=Error(s(418,""));throw vl(Rn(n,t)),bh}function Zm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ae]=t,n[pe]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Hl.length;r++)Vt(Hl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Xr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ha(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),$r(n,l.value,l.defaultValue,l.children),Ha(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||my(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Hu),n=!0):n=!1,n||ha(t)}function Jm(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:nn=nn.return}}function yl(t){if(t!==nn)return!1;if(!qt)return Jm(t),qt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||jf(t.type,t.memoizedProps)),r=!r),r&&ce&&ha(t),Jm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ce=Bn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ce=null}}else n===27?(n=ce,gr(t.type)?(t=Ff,Ff=null,ce=t):ce=n):ce=nn?Bn(t.stateNode.nextSibling):null;return!0}function _l(){ce=nn=null,qt=!1}function Wm(){var t=ca;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ca=null),t}function vl(t){ca===null?ca=[t]:ca.push(t)}var Rh=nt(null),fa=null,Vi=null;function tr(t,n,r){rt(Rh,n._currentValue),n._currentValue=r}function xi(t){t._currentValue=Rh.current,lt(Rh)}function wh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Ch(t,n,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),wh(f.return,r,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=r,f=v.alternate,f!==null&&(f.lanes|=r),wh(v,r,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function El(t,n,r,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;hn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ve.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Xl):t=[Xl])}h=h.return}t!==null&&Ch(n,t,r,l),n.flags|=262144}function cu(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function da(t){fa=t,Vi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ke(t){return tg(fa,t)}function hu(t,n){return fa===null&&da(t),tg(t,n)}function tg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Vi===null){if(t===null)throw Error(s(308));Vi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Vi=Vi.next=n;return r}var DE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},IE=a.unstable_scheduleCallback,NE=a.unstable_NormalPriority,we={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new DE,data:new Map,refCount:0}}function Tl(t){t.refCount--,t.refCount===0&&IE(NE,function(){t.controller.abort()})}var Sl=null,Ih=0,ss=0,ls=null;function VE(t,n){if(Sl===null){var r=Sl=[];Ih=0,ss=xf(),ls={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Ih++,n.then(eg,eg),n}function eg(){if(--Ih===0&&Sl!==null){ls!==null&&(ls.status="fulfilled");var t=Sl;Sl=null,ss=0,ls=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function xE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var ng=K.S;K.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&VE(t,n),ng!==null&&ng(t,n)};var ma=nt(null);function Nh(){var t=ma.current;return t!==null?t:ee.pooledCache}function fu(t,n){n===null?rt(ma,ma.current):rt(ma,n.pool)}function ig(){var t=Nh();return t===null?null:{parent:we._currentValue,pool:t}}var Al=Error(s(460)),rg=Error(s(474)),du=Error(s(542)),Vh={then:function(){}};function ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mu(){}function sg(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(mu,mu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,og(t),t;default:if(typeof n.status=="string")n.then(mu,mu);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,og(t),t}throw bl=n,Al}}var bl=null;function lg(){if(bl===null)throw Error(s(459));var t=bl;return bl=null,t}function og(t){if(t===Al||t===du)throw Error(s(483))}var er=!1;function xh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ir(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=su(t),Km(t,null,r),n}return au(t,l,n,r),su(t)}function Rl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ws(t,r)}}function Mh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var v={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Uh=!1;function wl(){if(Uh){var t=ls;if(t!==null)throw t}}function Cl(t,n,r,l){Uh=!1;var h=t.updateQueue;er=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,k=D.next;D.next=null,v===null?f=k:v.next=k,v=D;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=k:T.next=k,$.lastBaseUpdate=D))}if(f!==null){var J=h.baseState;v=0,$=k=D=null,T=f;do{var j=T.lane&-536870913,q=j!==T.lane;if(q?(Lt&j)===j:(l&j)===j){j!==0&&j===ss&&(Uh=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=t,yt=T;j=n;var Zt=r;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){J=Et.call(Zt,J,j);break t}J=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,j=typeof Et=="function"?Et.call(Zt,J,j):Et,j==null)break t;J=E({},J,j);break t;case 2:er=!0}}j=T.callback,j!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(k=$=q,D=J):$=$.next=q,v|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);$===null&&(D=J),h.baseState=D,h.firstBaseUpdate=k,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),hr|=v,t.lanes=v,t.memoizedState=J}}function ug(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function cg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ug(r[t],n)}var os=nt(null),gu=nt(0);function hg(t,n){t=zi,rt(gu,t),rt(os,n),zi=t|n.baseLanes}function Lh(){rt(gu,zi),rt(os,os.current)}function Ph(){zi=gu.current,lt(os),lt(gu)}var rr=0,wt=null,Xt=null,_e=null,pu=!1,us=!1,ga=!1,yu=0,Dl=0,cs=null,OE=0;function de(){throw Error(s(321))}function Bh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!hn(t[r],n[r]))return!1;return!0}function zh(t,n,r,l,h,f){return rr=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=t===null||t.memoizedState===null?Kg:Xg,ga=!1,f=r(l,h),ga=!1,us&&(f=dg(n,r,l,h)),fg(t),f}function fg(t){K.H=Au;var n=Xt!==null&&Xt.next!==null;if(rr=0,_e=Xt=wt=null,pu=!1,Dl=0,cs=null,n)throw Error(s(300));t===null||Me||(t=t.dependencies,t!==null&&cu(t)&&(Me=!0))}function dg(t,n,r,l){wt=t;var h=0;do{if(us&&(cs=null),Dl=0,us=!1,25<=h)throw Error(s(301));if(h+=1,_e=Xt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=kE,f=n(r,l)}while(us);return f}function ME(){var t=K.H,n=t.useState()[0];return n=typeof n.then=="function"?Il(n):n,t=t.useState()[0],(Xt!==null?Xt.memoizedState:null)!==t&&(wt.flags|=1024),n}function kh(){var t=yu!==0;return yu=0,t}function jh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function qh(t){if(pu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}pu=!1}rr=0,_e=Xt=wt=null,us=!1,Dl=yu=0,cs=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?wt.memoizedState=_e=t:_e=_e.next=t,_e}function ve(){if(Xt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var n=_e===null?wt.memoizedState:_e.next;if(n!==null)_e=n,Xt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},_e===null?wt.memoizedState=_e=t:_e=_e.next=t}return _e}function Hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var n=Dl;return Dl+=1,cs===null&&(cs=[]),t=sg(cs,t,n),n=wt,(_e===null?n.memoizedState:_e.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?Kg:Xg),t}function _u(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===et)return Ke(t)}throw Error(s(438,String(t)))}function Gh(t){var n=null,r=wt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Hh(),wt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function Oi(t,n){return typeof n=="function"?n(t):n}function vu(t){var n=ve();return Fh(n,Xt,t)}function Fh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,D=null,k=n,$=!1;do{var J=k.lane&-536870913;if(J!==k.lane?(Lt&J)===J:(rr&J)===J){var j=k.revertLane;if(j===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),J===ss&&($=!0);else if((rr&j)===j){k=k.next,j===ss&&($=!0);continue}else J={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(T=D=J,v=f):D=D.next=J,wt.lanes|=j,hr|=j;J=k.action,ga&&r(f,J),f=k.hasEagerState?k.eagerState:r(f,J)}else j={lane:J,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},D===null?(T=D=j,v=f):D=D.next=j,wt.lanes|=J,hr|=J;k=k.next}while(k!==null&&k!==n);if(D===null?v=f:D.next=T,!hn(f,t.memoizedState)&&(Me=!0,$&&(r=ls,r!==null)))throw r;t.memoizedState=f,t.baseState=v,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Qh(t){var n=ve(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);hn(f,n.memoizedState)||(Me=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function mg(t,n,r){var l=wt,h=ve(),f=qt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var v=!hn((Xt||h).memoizedState,r);v&&(h.memoizedState=r,Me=!0),h=h.queue;var T=yg.bind(null,l,h,t);if(Nl(2048,8,T,[t]),h.getSnapshot!==n||v||_e!==null&&_e.memoizedState.tag&1){if(l.flags|=2048,hs(9,Eu(),pg.bind(null,l,h,r,n),null),ee===null)throw Error(s(349));f||(rr&124)!==0||gg(l,n,r)}return r}function gg(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=wt.updateQueue,n===null?(n=Hh(),wt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function pg(t,n,r,l){n.value=r,n.getSnapshot=l,_g(n)&&vg(t)}function yg(t,n,r){return r(function(){_g(n)&&vg(t)})}function _g(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!hn(t,r)}catch{return!0}}function vg(t){var n=ns(t,2);n!==null&&yn(n,t,2)}function Yh(t){var n=rn();if(typeof t=="function"){var r=t;if(t=r(),ga){un(!0);try{r()}finally{un(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},n}function Eg(t,n,r,l){return t.baseState=r,Fh(t,Xt,typeof l=="function"?l:Oi)}function UE(t,n,r,l,h){if(Su(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};K.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Tg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Tg(t,n){var r=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=K.T,v={};K.T=v;try{var T=r(h,l),D=K.S;D!==null&&D(v,T),Sg(t,n,T)}catch(k){Kh(t,n,k)}finally{K.T=f}}else try{f=r(h,l),Sg(t,n,f)}catch(k){Kh(t,n,k)}}function Sg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ag(t,n,l)},function(l){return Kh(t,n,l)}):Ag(t,n,r)}function Ag(t,n,r){n.status="fulfilled",n.value=r,bg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Tg(t,r)))}function Kh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,bg(n),n=n.next;while(n!==l)}t.action=null}function bg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Rg(t,n){return n}function wg(t,n){if(qt){var r=ee.formState;if(r!==null){t:{var l=wt;if(qt){if(ce){e:{for(var h=ce,f=ni;h.nodeType!==8;){if(!f){h=null;break e}if(h=Bn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=Bn(h.nextSibling),l=h.data==="F!";break t}}ha(l)}l=!1}l&&(n=r[0])}}return r=rn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rg,lastRenderedState:n},r.queue=l,r=Fg.bind(null,wt,l),l.dispatch=r,l=Yh(!1),f=Wh.bind(null,wt,!1,l.queue),l=rn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,r=UE.bind(null,wt,h,f,r),h.dispatch=r,l.memoizedState=t,[n,r,!1]}function Cg(t){var n=ve();return Dg(n,Xt,t)}function Dg(t,n,r){if(n=Fh(t,n,Rg)[0],t=vu(Oi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Il(n)}catch(v){throw v===Al?du:v}else l=n;n=ve();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(wt.flags|=2048,hs(9,Eu(),LE.bind(null,h,r),null)),[l,f,t]}function LE(t,n){t.action=n}function Ig(t){var n=ve(),r=Xt;if(r!==null)return Dg(n,r,t);ve(),n=n.memoizedState,r=ve();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function hs(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Hh(),wt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Eu(){return{destroy:void 0,resource:void 0}}function Ng(){return ve().memoizedState}function Tu(t,n,r,l){var h=rn();l=l===void 0?null:l,wt.flags|=t,h.memoizedState=hs(1|n,Eu(),r,l)}function Nl(t,n,r,l){var h=ve();l=l===void 0?null:l;var f=h.memoizedState.inst;Xt!==null&&l!==null&&Bh(l,Xt.memoizedState.deps)?h.memoizedState=hs(n,f,r,l):(wt.flags|=t,h.memoizedState=hs(1|n,f,r,l))}function Vg(t,n){Tu(8390656,8,t,n)}function xg(t,n){Nl(2048,8,t,n)}function Og(t,n){return Nl(4,2,t,n)}function Mg(t,n){return Nl(4,4,t,n)}function Ug(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Lg(t,n,r){r=r!=null?r.concat([t]):null,Nl(4,4,Ug.bind(null,n,t),r)}function Xh(){}function Pg(t,n){var r=ve();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Bh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Bg(t,n){var r=ve();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Bh(n,l[1]))return l[0];if(l=t(),ga){un(!0);try{t()}finally{un(!1)}}return r.memoizedState=[l,n],l}function $h(t,n,r){return r===void 0||(rr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=jp(),wt.lanes|=t,hr|=t,r)}function zg(t,n,r,l){return hn(r,n)?r:os.current!==null?(t=$h(t,r,l),hn(t,n)||(Me=!0),t):(rr&42)===0?(Me=!0,t.memoizedState=r):(t=jp(),wt.lanes|=t,hr|=t,n)}function kg(t,n,r,l,h){var f=at.p;at.p=f!==0&&8>f?f:8;var v=K.T,T={};K.T=T,Wh(t,!1,n,r);try{var D=h(),k=K.S;if(k!==null&&k(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=xE(D,l);Vl(t,n,$,pn(t))}else Vl(t,n,l,pn(t))}catch(J){Vl(t,n,{then:function(){},status:"rejected",reason:J},pn())}finally{at.p=f,K.T=v}}function PE(){}function Zh(t,n,r,l){if(t.tag!==5)throw Error(s(476));var h=jg(t).queue;kg(t,h,n,ot,r===null?PE:function(){return qg(t),r(l)})}function jg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function qg(t){var n=jg(t).next.queue;Vl(t,n,{},pn())}function Jh(){return Ke(Xl)}function Hg(){return ve().memoizedState}function Gg(){return ve().memoizedState}function BE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=pn();t=nr(r);var l=ir(n,t,r);l!==null&&(yn(l,n,r),Rl(l,n,r)),n={cache:Dh()},t.payload=n;return}n=n.return}}function zE(t,n,r){var l=pn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Su(t)?Qg(n,r):(r=_h(t,n,r,l),r!==null&&(yn(r,t,l),Yg(r,n,l)))}function Fg(t,n,r){var l=pn();Vl(t,n,r,l)}function Vl(t,n,r,l){var h={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Su(t))Qg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,r);if(h.hasEagerState=!0,h.eagerState=T,hn(T,v))return au(t,n,h,0),ee===null&&ru(),!1}catch{}finally{}if(r=_h(t,n,h,l),r!==null)return yn(r,t,l),Yg(r,n,l),!0}return!1}function Wh(t,n,r,l){if(l={lane:2,revertLane:xf(),action:l,hasEagerState:!1,eagerState:null,next:null},Su(t)){if(n)throw Error(s(479))}else n=_h(t,r,l,2),n!==null&&yn(n,t,2)}function Su(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Qg(t,n){us=pu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Yg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ws(t,r)}}var Au={readContext:Ke,use:_u,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Kg={readContext:Ke,use:_u,useCallback:function(t,n){return rn().memoizedState=[t,n===void 0?null:n],t},useContext:Ke,useEffect:Vg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Tu(4194308,4,Ug.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Tu(4194308,4,t,n)},useInsertionEffect:function(t,n){Tu(4,2,t,n)},useMemo:function(t,n){var r=rn();n=n===void 0?null:n;var l=t();if(ga){un(!0);try{t()}finally{un(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=rn();if(r!==void 0){var h=r(n);if(ga){un(!0);try{r(n)}finally{un(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Yh(t);var n=t.queue,r=Fg.bind(null,wt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Xh,useDeferredValue:function(t,n){var r=rn();return $h(r,t,n)},useTransition:function(){var t=Yh(!1);return t=kg.bind(null,wt,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=wt,h=rn();if(qt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),ee===null)throw Error(s(349));(Lt&124)!==0||gg(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Vg(yg.bind(null,l,f,t),[t]),l.flags|=2048,hs(9,Eu(),pg.bind(null,l,f,r,n),null),r},useId:function(){var t=rn(),n=ee.identifierPrefix;if(qt){var r=Ni,l=Ii;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=yu++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=OE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Jh,useFormState:wg,useActionState:wg,useOptimistic:function(t){var n=rn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Wh.bind(null,wt,!0,r),r.dispatch=n,[t,n]},useMemoCache:Gh,useCacheRefresh:function(){return rn().memoizedState=BE.bind(null,wt)}},Xg={readContext:Ke,use:_u,useCallback:Pg,useContext:Ke,useEffect:xg,useImperativeHandle:Lg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Bg,useReducer:vu,useRef:Ng,useState:function(){return vu(Oi)},useDebugValue:Xh,useDeferredValue:function(t,n){var r=ve();return zg(r,Xt.memoizedState,t,n)},useTransition:function(){var t=vu(Oi)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Jh,useFormState:Cg,useActionState:Cg,useOptimistic:function(t,n){var r=ve();return Eg(r,Xt,t,n)},useMemoCache:Gh,useCacheRefresh:Gg},kE={readContext:Ke,use:_u,useCallback:Pg,useContext:Ke,useEffect:xg,useImperativeHandle:Lg,useInsertionEffect:Og,useLayoutEffect:Mg,useMemo:Bg,useReducer:Qh,useRef:Ng,useState:function(){return Qh(Oi)},useDebugValue:Xh,useDeferredValue:function(t,n){var r=ve();return Xt===null?$h(r,t,n):zg(r,Xt.memoizedState,t,n)},useTransition:function(){var t=Qh(Oi)[0],n=ve().memoizedState;return[typeof t=="boolean"?t:Il(t),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Jh,useFormState:Ig,useActionState:Ig,useOptimistic:function(t,n){var r=ve();return Xt!==null?Eg(r,Xt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:Gg},fs=null,xl=0;function bu(t){var n=xl;return xl+=1,fs===null&&(fs=[]),sg(fs,t,n)}function Ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ru(t,n){throw n.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $g(t){var n=t._init;return n(t._payload)}function Zg(t){function n(L,x){if(t){var z=L.deletions;z===null?(L.deletions=[x],L.flags|=16):z.push(x)}}function r(L,x){if(!t)return null;for(;x!==null;)n(L,x),x=x.sibling;return null}function l(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function h(L,x){return L=Di(L,x),L.index=0,L.sibling=null,L}function f(L,x,z){return L.index=z,t?(z=L.alternate,z!==null?(z=z.index,z<x?(L.flags|=67108866,x):z):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function T(L,x,z,Z){return x===null||x.tag!==6?(x=Eh(z,L.mode,Z),x.return=L,x):(x=h(x,z),x.return=L,x)}function D(L,x,z,Z){var ht=z.type;return ht===U?$(L,x,z.props.children,Z,z.key):x!==null&&(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&$g(ht)===x.type)?(x=h(x,z.props),Ol(x,z),x.return=L,x):(x=lu(z.type,z.key,z.props,null,L.mode,Z),Ol(x,z),x.return=L,x)}function k(L,x,z,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==z.containerInfo||x.stateNode.implementation!==z.implementation?(x=Th(z,L.mode,Z),x.return=L,x):(x=h(x,z.children||[]),x.return=L,x)}function $(L,x,z,Z,ht){return x===null||x.tag!==7?(x=la(z,L.mode,Z,ht),x.return=L,x):(x=h(x,z),x.return=L,x)}function J(L,x,z){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Eh(""+x,L.mode,z),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case A:return z=lu(x.type,x.key,x.props,null,L.mode,z),Ol(z,x),z.return=L,z;case P:return x=Th(x,L.mode,z),x.return=L,x;case b:var Z=x._init;return x=Z(x._payload),J(L,x,z)}if(Ot(x)||M(x))return x=la(x,L.mode,z,null),x.return=L,x;if(typeof x.then=="function")return J(L,bu(x),z);if(x.$$typeof===et)return J(L,hu(L,x),z);Ru(L,x)}return null}function j(L,x,z,Z){var ht=x!==null?x.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ht!==null?null:T(L,x,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===ht?D(L,x,z,Z):null;case P:return z.key===ht?k(L,x,z,Z):null;case b:return ht=z._init,z=ht(z._payload),j(L,x,z,Z)}if(Ot(z)||M(z))return ht!==null?null:$(L,x,z,Z,null);if(typeof z.then=="function")return j(L,x,bu(z),Z);if(z.$$typeof===et)return j(L,x,hu(L,z),Z);Ru(L,z)}return null}function q(L,x,z,Z,ht){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(z)||null,T(x,L,""+Z,ht);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return L=L.get(Z.key===null?z:Z.key)||null,D(x,L,Z,ht);case P:return L=L.get(Z.key===null?z:Z.key)||null,k(x,L,Z,ht);case b:var It=Z._init;return Z=It(Z._payload),q(L,x,z,Z,ht)}if(Ot(Z)||M(Z))return L=L.get(z)||null,$(x,L,Z,ht,null);if(typeof Z.then=="function")return q(L,x,z,bu(Z),ht);if(Z.$$typeof===et)return q(L,x,z,hu(x,Z),ht);Ru(x,Z)}return null}function Et(L,x,z,Z){for(var ht=null,It=null,mt=x,_t=x=0,Le=null;mt!==null&&_t<z.length;_t++){mt.index>_t?(Le=mt,mt=null):Le=mt.sibling;var kt=j(L,mt,z[_t],Z);if(kt===null){mt===null&&(mt=Le);break}t&&mt&&kt.alternate===null&&n(L,mt),x=f(kt,x,_t),It===null?ht=kt:It.sibling=kt,It=kt,mt=Le}if(_t===z.length)return r(L,mt),qt&&ua(L,_t),ht;if(mt===null){for(;_t<z.length;_t++)mt=J(L,z[_t],Z),mt!==null&&(x=f(mt,x,_t),It===null?ht=mt:It.sibling=mt,It=mt);return qt&&ua(L,_t),ht}for(mt=l(mt);_t<z.length;_t++)Le=q(mt,L,_t,z[_t],Z),Le!==null&&(t&&Le.alternate!==null&&mt.delete(Le.key===null?_t:Le.key),x=f(Le,x,_t),It===null?ht=Le:It.sibling=Le,It=Le);return t&&mt.forEach(function(Er){return n(L,Er)}),qt&&ua(L,_t),ht}function yt(L,x,z,Z){if(z==null)throw Error(s(151));for(var ht=null,It=null,mt=x,_t=x=0,Le=null,kt=z.next();mt!==null&&!kt.done;_t++,kt=z.next()){mt.index>_t?(Le=mt,mt=null):Le=mt.sibling;var Er=j(L,mt,kt.value,Z);if(Er===null){mt===null&&(mt=Le);break}t&&mt&&Er.alternate===null&&n(L,mt),x=f(Er,x,_t),It===null?ht=Er:It.sibling=Er,It=Er,mt=Le}if(kt.done)return r(L,mt),qt&&ua(L,_t),ht;if(mt===null){for(;!kt.done;_t++,kt=z.next())kt=J(L,kt.value,Z),kt!==null&&(x=f(kt,x,_t),It===null?ht=kt:It.sibling=kt,It=kt);return qt&&ua(L,_t),ht}for(mt=l(mt);!kt.done;_t++,kt=z.next())kt=q(mt,L,_t,kt.value,Z),kt!==null&&(t&&kt.alternate!==null&&mt.delete(kt.key===null?_t:kt.key),x=f(kt,x,_t),It===null?ht=kt:It.sibling=kt,It=kt);return t&&mt.forEach(function(jT){return n(L,jT)}),qt&&ua(L,_t),ht}function Zt(L,x,z,Z){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:t:{for(var ht=z.key;x!==null;){if(x.key===ht){if(ht=z.type,ht===U){if(x.tag===7){r(L,x.sibling),Z=h(x,z.props.children),Z.return=L,L=Z;break t}}else if(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&$g(ht)===x.type){r(L,x.sibling),Z=h(x,z.props),Ol(Z,z),Z.return=L,L=Z;break t}r(L,x);break}else n(L,x);x=x.sibling}z.type===U?(Z=la(z.props.children,L.mode,Z,z.key),Z.return=L,L=Z):(Z=lu(z.type,z.key,z.props,null,L.mode,Z),Ol(Z,z),Z.return=L,L=Z)}return v(L);case P:t:{for(ht=z.key;x!==null;){if(x.key===ht)if(x.tag===4&&x.stateNode.containerInfo===z.containerInfo&&x.stateNode.implementation===z.implementation){r(L,x.sibling),Z=h(x,z.children||[]),Z.return=L,L=Z;break t}else{r(L,x);break}else n(L,x);x=x.sibling}Z=Th(z,L.mode,Z),Z.return=L,L=Z}return v(L);case b:return ht=z._init,z=ht(z._payload),Zt(L,x,z,Z)}if(Ot(z))return Et(L,x,z,Z);if(M(z)){if(ht=M(z),typeof ht!="function")throw Error(s(150));return z=ht.call(z),yt(L,x,z,Z)}if(typeof z.then=="function")return Zt(L,x,bu(z),Z);if(z.$$typeof===et)return Zt(L,x,hu(L,z),Z);Ru(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,x!==null&&x.tag===6?(r(L,x.sibling),Z=h(x,z),Z.return=L,L=Z):(r(L,x),Z=Eh(z,L.mode,Z),Z.return=L,L=Z),v(L)):r(L,x)}return function(L,x,z,Z){try{xl=0;var ht=Zt(L,x,z,Z);return fs=null,ht}catch(mt){if(mt===Al||mt===du)throw mt;var It=fn(29,mt,null,L.mode);return It.lanes=Z,It.return=L,It}finally{}}}var ds=Zg(!0),Jg=Zg(!1),In=nt(null),ii=null;function ar(t){var n=t.alternate;rt(Ce,Ce.current&1),rt(In,t),ii===null&&(n===null||os.current!==null||n.memoizedState!==null)&&(ii=t)}function Wg(t){if(t.tag===22){if(rt(Ce,Ce.current),rt(In,t),ii===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ii=t)}}else sr()}function sr(){rt(Ce,Ce.current),rt(In,In.current)}function Mi(t){lt(In),ii===t&&(ii=null),lt(Ce)}var Ce=nt(0);function wu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Gf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function tf(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:E({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ef={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=pn(),h=nr(l);h.payload=n,r!=null&&(h.callback=r),n=ir(t,h,l),n!==null&&(yn(n,t,l),Rl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=pn(),h=nr(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=ir(t,h,l),n!==null&&(yn(n,t,l),Rl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=pn(),l=nr(r);l.tag=2,n!=null&&(l.callback=n),n=ir(t,l,r),n!==null&&(yn(n,t,r),Rl(n,t,r))}};function tp(t,n,r,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!gl(r,l)||!gl(h,f):!0}function ep(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&ef.enqueueReplaceState(n,n.state,null)}function pa(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function np(t){Cu(t)}function ip(t){console.error(t)}function rp(t){Cu(t)}function Du(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ap(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nf(t,n,r){return r=nr(r),r.tag=3,r.payload={element:null},r.callback=function(){Du(t,n)},r}function sp(t){return t=nr(t),t.tag=3,t}function lp(t,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){ap(n,r,l)}}var v=r.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ap(n,r,l),typeof h!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function jE(t,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&El(n,r,h,!0),r=In.current,r!==null){switch(r.tag){case 13:return ii===null?Cf():r.alternate===null&&he===0&&(he=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Vh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),If(t,l,h)),!1;case 22:return r.flags|=65536,l===Vh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),If(t,l,h)),!1}throw Error(s(435,r.tag))}return If(t,l,h),Cf(),!1}if(qt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==bh&&(t=Error(s(422),{cause:l}),vl(Rn(t,r)))):(l!==bh&&(n=Error(s(423),{cause:l}),vl(Rn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,r),h=nf(t.stateNode,l,h),Mh(t,h),he!==4&&(he=2)),!1;var f=Error(s(520),{cause:l});if(f=Rn(f,r),kl===null?kl=[f]:kl.push(f),he!==4&&(he=2),n===null)return!0;l=Rn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=nf(r.stateNode,l,t),Mh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=sp(h),lp(h,t,r,l),Mh(r,h),!1}r=r.return}while(r!==null);return!1}var op=Error(s(461)),Me=!1;function je(t,n,r,l){n.child=t===null?Jg(n,null,r,l):ds(n,t.child,r,l)}function up(t,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return da(n),l=zh(t,n,r,v,f,h),T=kh(),t!==null&&!Me?(jh(t,n,h),Ui(t,n,h)):(qt&&T&&Sh(n),n.flags|=1,je(t,n,l,h),n.child)}function cp(t,n,r,l,h){if(t===null){var f=r.type;return typeof f=="function"&&!vh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,hp(t,n,f,l,h)):(t=lu(r.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!hf(t,h)){var v=f.memoizedProps;if(r=r.compare,r=r!==null?r:gl,r(v,l)&&t.ref===n.ref)return Ui(t,n,h)}return n.flags|=1,t=Di(f,l),t.ref=n.ref,t.return=n,n.child=t}function hp(t,n,r,l,h){if(t!==null){var f=t.memoizedProps;if(gl(f,l)&&t.ref===n.ref)if(Me=!1,n.pendingProps=l=f,hf(t,h))(t.flags&131072)!==0&&(Me=!0);else return n.lanes=t.lanes,Ui(t,n,h)}return rf(t,n,r,l,h)}function fp(t,n,r){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return dp(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&fu(n,f!==null?f.cachePool:null),f!==null?hg(n,f):Lh(),Wg(n);else return n.lanes=n.childLanes=536870912,dp(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(fu(n,f.cachePool),hg(n,f),sr(),n.memoizedState=null):(t!==null&&fu(n,null),Lh(),sr());return je(t,n,h,r),n.child}function dp(t,n,r,l){var h=Nh();return h=h===null?null:{parent:we._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&fu(n,null),Lh(),Wg(n),t!==null&&El(t,n,l,!0),null}function Iu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function rf(t,n,r,l,h){return da(n),r=zh(t,n,r,l,void 0,h),l=kh(),t!==null&&!Me?(jh(t,n,h),Ui(t,n,h)):(qt&&l&&Sh(n),n.flags|=1,je(t,n,r,h),n.child)}function mp(t,n,r,l,h,f){return da(n),n.updateQueue=null,r=dg(n,l,r,h),fg(t),l=kh(),t!==null&&!Me?(jh(t,n,f),Ui(t,n,f)):(qt&&l&&Sh(n),n.flags|=1,je(t,n,r,f),n.child)}function gp(t,n,r,l,h){if(da(n),n.stateNode===null){var f=is,v=r.contextType;typeof v=="object"&&v!==null&&(f=Ke(v)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ef,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},xh(n),v=r.contextType,f.context=typeof v=="object"&&v!==null?Ke(v):is,f.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(tf(n,r,v,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&ef.enqueueReplaceState(f,f.state,null),Cl(n,l,f,h),wl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,D=pa(r,T);f.props=D;var k=f.context,$=r.contextType;v=is,typeof $=="object"&&$!==null&&(v=Ke($));var J=r.getDerivedStateFromProps;$=typeof J=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||k!==v)&&ep(n,f,l,v),er=!1;var j=n.memoizedState;f.state=j,Cl(n,l,f,h),wl(),k=n.memoizedState,T||j!==k||er?(typeof J=="function"&&(tf(n,r,J,l),k=n.memoizedState),(D=er||tp(n,r,D,l,j,k,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=v,l=D):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Oh(t,n),v=n.memoizedProps,$=pa(r,v),f.props=$,J=n.pendingProps,j=f.context,k=r.contextType,D=is,typeof k=="object"&&k!==null&&(D=Ke(k)),T=r.getDerivedStateFromProps,(k=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==J||j!==D)&&ep(n,f,l,D),er=!1,j=n.memoizedState,f.state=j,Cl(n,l,f,h),wl();var q=n.memoizedState;v!==J||j!==q||er||t!==null&&t.dependencies!==null&&cu(t.dependencies)?(typeof T=="function"&&(tf(n,r,T,l),q=n.memoizedState),($=er||tp(n,r,$,l,j,q,D)||t!==null&&t.dependencies!==null&&cu(t.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,D)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=D,l=$):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Iu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ds(n,t.child,null,h),n.child=ds(n,null,r,h)):je(t,n,r,h),n.memoizedState=f.state,t=n.child):t=Ui(t,n,h),t}function pp(t,n,r,l){return _l(),n.flags|=256,je(t,n,r,l),n.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sf(t){return{baseLanes:t,cachePool:ig()}}function lf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Nn),t}function yp(t,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Ce.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(qt){if(h?ar(n):sr(),qt){var T=ce,D;if(D=T){t:{for(D=T,T=ni;D.nodeType!==8;){if(!T){T=null;break t}if(D=Bn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:oa!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},D=fn(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,nn=n,ce=null,D=!0):D=!1}D||ha(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Gf(T)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return T=l.children,l=l.fallback,h?(sr(),h=n.mode,T=Nu({mode:"hidden",children:T},h),l=la(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=sf(r),h.childLanes=lf(t,v,r),n.memoizedState=af,l):(ar(n),of(n,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=uf(t,n,r)):n.memoizedState!==null?(sr(),n.child=t.child,n.flags|=128,n=null):(sr(),h=l.fallback,T=n.mode,l=Nu({mode:"visible",children:l.children},T),h=la(h,T,r,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ds(n,t.child,null,r),l=n.child,l.memoizedState=sf(r),l.childLanes=lf(t,v,r),n.memoizedState=af,n=h);else if(ar(n),Gf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,vl({value:l,source:null,stack:null}),n=uf(t,n,r)}else if(Me||El(t,n,r,!1),v=(r&t.childLanes)!==0,Me||v){if(v=ee,v!==null&&(l=r&-r,l=(l&42)!==0?1:Yi(l),l=(l&(v.suspendedLanes|r))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,ns(t,l),yn(v,t,l),op;T.data==="$?"||Cf(),n=uf(t,n,r)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,ce=Bn(T.nextSibling),nn=n,qt=!0,ca=null,ni=!1,t!==null&&(Cn[Dn++]=Ii,Cn[Dn++]=Ni,Cn[Dn++]=oa,Ii=t.id,Ni=t.overflow,oa=n),n=of(n,l.children),n.flags|=4096);return n}return h?(sr(),h=l.fallback,T=n.mode,D=t.child,k=D.sibling,l=Di(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,k!==null?h=Di(k,h):(h=la(h,T,r,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=sf(r):(D=T.cachePool,D!==null?(k=we._currentValue,D=D.parent!==k?{parent:k,pool:k}:D):D=ig(),T={baseLanes:T.baseLanes|r,cachePool:D}),h.memoizedState=T,h.childLanes=lf(t,v,r),n.memoizedState=af,l):(ar(n),r=t.child,t=r.sibling,r=Di(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=r,n.memoizedState=null,r)}function of(t,n){return n=Nu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Nu(t,n){return t=fn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function uf(t,n,r){return ds(n,t.child,null,r),t=of(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function _p(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),wh(t.return,n,r)}function cf(t,n,r,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=h)}function vp(t,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(je(t,n,l.children,r),l=Ce.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_p(t,r,n);else if(t.tag===19)_p(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(rt(Ce,l),h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&wu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),cf(n,!1,h,r,f);break;case"backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&wu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}cf(n,!0,r,null,f);break;case"together":cf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ui(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(El(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Di(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Di(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function hf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&cu(t)))}function qE(t,n,r){switch(n.tag){case 3:te(n,n.stateNode.containerInfo),tr(n,we,t.memoizedState.cache),_l();break;case 27:case 5:Qi(n);break;case 4:te(n,n.stateNode.containerInfo);break;case 10:tr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(n),n.flags|=128,null):(r&n.child.childLanes)!==0?yp(t,n,r):(ar(n),t=Ui(t,n,r),t!==null?t.sibling:null);ar(n);break;case 19:var h=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(El(t,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return vp(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),rt(Ce,Ce.current),l)break;return null;case 22:case 23:return n.lanes=0,fp(t,n,r);case 24:tr(n,we,t.memoizedState.cache)}return Ui(t,n,r)}function Ep(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Me=!0;else{if(!hf(t,r)&&(n.flags&128)===0)return Me=!1,qE(t,n,r);Me=(t.flags&131072)!==0}else Me=!1,qt&&(n.flags&1048576)!==0&&$m(n,uu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")vh(l)?(t=pa(l,t),n.tag=1,n=gp(null,n,l,t,r)):(n.tag=0,n=rf(null,n,l,t,r));else{if(l!=null){if(h=l.$$typeof,h===ft){n.tag=11,n=up(null,n,l,t,r);break t}else if(h===O){n.tag=14,n=cp(null,n,l,t,r);break t}}throw n=zt(l)||l,Error(s(306,n,""))}}return n;case 0:return rf(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=pa(l,n.pendingProps),gp(t,n,l,h,r);case 3:t:{if(te(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Oh(t,n),Cl(n,l,null,r);var v=n.memoizedState;if(l=v.cache,tr(n,we,l),l!==f.cache&&Ch(n,[we],r,!0),wl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=pp(t,n,l,r);break t}else if(l!==h){h=Rn(Error(s(424)),n),vl(h),n=pp(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ce=Bn(t.firstChild),nn=n,qt=!0,ca=null,ni=!0,r=Jg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(_l(),l===h){n=Ui(t,n,r);break t}je(t,n,l,r)}n=n.child}return n;case 26:return Iu(t,n),t===null?(r=by(n.type,null,n.pendingProps,null))?n.memoizedState=r:qt||(r=n.type,t=n.pendingProps,l=Gu(Tt.current).createElement(r),l[Ae]=n,l[pe]=t,He(l,r,t),fe(l),n.stateNode=l):n.memoizedState=by(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qi(n),t===null&&qt&&(l=n.stateNode=Ty(n.type,n.pendingProps,Tt.current),nn=n,ni=!0,h=ce,gr(n.type)?(Ff=h,ce=Bn(l.firstChild)):ce=h),je(t,n,n.pendingProps.children,r),Iu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&qt&&((h=l=ce)&&(l=pT(l,n.type,n.pendingProps,ni),l!==null?(n.stateNode=l,nn=n,ce=Bn(l.firstChild),ni=!1,h=!0):h=!1),h||ha(n)),Qi(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,jf(h,f)?l=null:v!==null&&jf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=zh(t,n,ME,null,null,r),Xl._currentValue=h),Iu(t,n),je(t,n,l,r),n.child;case 6:return t===null&&qt&&((t=r=ce)&&(r=yT(r,n.pendingProps,ni),r!==null?(n.stateNode=r,nn=n,ce=null,t=!0):t=!1),t||ha(n)),null;case 13:return yp(t,n,r);case 4:return te(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ds(n,null,l,r):je(t,n,l,r),n.child;case 11:return up(t,n,n.type,n.pendingProps,r);case 7:return je(t,n,n.pendingProps,r),n.child;case 8:return je(t,n,n.pendingProps.children,r),n.child;case 12:return je(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,tr(n,n.type,l.value),je(t,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,da(n),h=Ke(h),l=l(h),n.flags|=1,je(t,n,l,r),n.child;case 14:return cp(t,n,n.type,n.pendingProps,r);case 15:return hp(t,n,n.type,n.pendingProps,r);case 19:return vp(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Nu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Di(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return fp(t,n,r);case 24:return da(n),l=Ke(we),t===null?(h=Nh(),h===null&&(h=ee,f=Dh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},xh(n),tr(n,we,h)):((t.lanes&r)!==0&&(Oh(t,n),Cl(n,null,null,r),wl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),tr(n,we,l)):(l=f.cache,tr(n,we,l),l!==h.cache&&Ch(n,[we],r,!0))),je(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Li(t){t.flags|=4}function Tp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Iy(n)){if(n=In.current,n!==null&&((Lt&4194048)===Lt?ii!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==ii))throw bl=Vh,rg;t.flags|=8192}}function Vu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Zs():536870912,t.lanes|=n,ys|=n)}function Ml(t,n){if(!qt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function HE(t,n,r){var l=n.pendingProps;switch(Ah(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),xi(we),Gn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(yl(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wm())),se(n),null;case 26:return r=n.memoizedState,t===null?(Li(n),r!==null?(se(n),Tp(n,r)):(se(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Li(n),se(n),Tp(n,r)):(se(n),n.flags&=-16777217):(t.memoizedProps!==l&&Li(n),se(n),n.flags&=-16777217),null;case 27:gi(n),r=Tt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}t=gt.current,yl(n)?Zm(n):(t=Ty(h,l,r),n.stateNode=t,Li(n))}return se(n),null;case 5:if(gi(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return se(n),null}if(t=gt.current,yl(n))Zm(n);else{switch(h=Gu(Tt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(r,{is:l.is}):h.createElement(r)}}t[Ae]=n,t[pe]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(He(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Li(n)}}return se(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,yl(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ae]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||my(t.nodeValue,r)),t||ha(n)}else t=Gu(t).createTextNode(l),t[Ae]=n,n.stateNode=t}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=yl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=n}else _l(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Wm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Vu(n,n.updateQueue),se(n),null;case 4:return Gn(),t===null&&Lf(n.stateNode.containerInfo),se(n),null;case 10:return xi(n.type),se(n),null;case 19:if(lt(Ce),h=n.memoizedState,h===null)return se(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Ml(h,!1);else{if(he!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=wu(t),f!==null){for(n.flags|=128,Ml(h,!1),t=f.updateQueue,n.updateQueue=t,Vu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Xm(r,t),r=r.sibling;return rt(Ce,Ce.current&1|2),n.child}t=t.sibling}h.tail!==null&&vn()>Mu&&(n.flags|=128,l=!0,Ml(h,!1),n.lanes=4194304)}else{if(!l)if(t=wu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Vu(n,t),Ml(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!qt)return se(n),null}else 2*vn()-h.renderingStartTime>Mu&&r!==536870912&&(n.flags|=128,l=!0,Ml(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=vn(),n.sibling=null,t=Ce.current,rt(Ce,l?t&1|2:t&1),n):(se(n),null);case 22:case 23:return Mi(n),Ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&Vu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&lt(ma),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(we),se(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function GE(t,n){switch(Ah(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return xi(we),Gn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return gi(n),null;case 13:if(Mi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));_l()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(Ce),null;case 4:return Gn(),null;case 10:return xi(n.type),null;case 22:case 23:return Mi(n),Ph(),t!==null&&lt(ma),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return xi(we),null;case 25:return null;default:return null}}function Sp(t,n){switch(Ah(n),n.tag){case 3:xi(we),Gn();break;case 26:case 27:case 5:gi(n);break;case 4:Gn();break;case 13:Mi(n);break;case 19:lt(Ce);break;case 10:xi(n.type);break;case 22:case 23:Mi(n),Ph(),t!==null&&lt(ma);break;case 24:xi(we)}}function Ul(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var f=r.create,v=r.inst;l=f(),v.destroy=l}r=r.next}while(r!==h)}}catch(T){Jt(n,n.return,T)}}function lr(t,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var D=r,k=T;try{k()}catch($){Jt(h,D,$)}}}l=l.next}while(l!==f)}}catch($){Jt(n,n.return,$)}}function Ap(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{cg(n,r)}catch(l){Jt(t,t.return,l)}}}function bp(t,n,r){r.props=pa(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Jt(t,n,l)}}function Ll(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Jt(t,n,h)}}function ri(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Jt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Jt(t,n,h)}else r.current=null}function Rp(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Jt(t,t.return,h)}}function ff(t,n,r){try{var l=t.stateNode;hT(l,t.type,r,n),l[pe]=n}catch(h){Jt(t,t.return,h)}}function wp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gr(t.type)||t.tag===4}function df(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||wp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Hu));else if(l!==4&&(l===27&&gr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(mf(t,n,r),t=t.sibling;t!==null;)mf(t,n,r),t=t.sibling}function xu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&gr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(xu(t,n,r),t=t.sibling;t!==null;)xu(t,n,r),t=t.sibling}function Cp(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,r),n[Ae]=t,n[pe]=r}catch(f){Jt(t,t.return,f)}}var Pi=!1,me=!1,gf=!1,Dp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function FE(t,n){if(t=t.containerInfo,zf=$u,t=zm(t),fh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var v=0,T=-1,D=-1,k=0,$=0,J=t,j=null;e:for(;;){for(var q;J!==r||h!==0&&J.nodeType!==3||(T=v+h),J!==f||l!==0&&J.nodeType!==3||(D=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(q=J.firstChild)!==null;)j=J,J=q;for(;;){if(J===t)break e;if(j===r&&++k===h&&(T=v),j===f&&++$===l&&(D=v),(q=J.nextSibling)!==null)break;J=j,j=J.parentNode}J=q}r=T===-1||D===-1?null:{start:T,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(kf={focusedElem:t,selectionRange:r},$u=!1,Ue=n;Ue!==null;)if(n=Ue,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ue=t;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var Et=pa(r.type,h,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Jt(r,r.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Hf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ue=t;break}Ue=n.return}}function Ip(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:or(t,r),l&4&&Ul(5,r);break;case 1:if(or(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(v){Jt(r,r.return,v)}else{var h=pa(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(r,r.return,v)}}l&64&&Ap(r),l&512&&Ll(r,r.return);break;case 3:if(or(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{cg(t,n)}catch(v){Jt(r,r.return,v)}}break;case 27:n===null&&l&4&&Cp(r);case 26:case 5:or(t,r),n===null&&l&4&&Rp(r),l&512&&Ll(r,r.return);break;case 12:or(t,r);break;case 13:or(t,r),l&4&&xp(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=tT.bind(null,r),_T(t,r))));break;case 22:if(l=r.memoizedState!==null||Pi,!l){n=n!==null&&n.memoizedState!==null||me,h=Pi;var f=me;Pi=l,(me=n)&&!f?ur(t,r,(r.subtreeFlags&8772)!==0):or(t,r),Pi=h,me=f}break;case 30:break;default:or(t,r)}}function Np(t){var n=t.alternate;n!==null&&(t.alternate=null,Np(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&$i(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var re=null,an=!1;function Bi(t,n,r){for(r=r.child;r!==null;)Vp(t,n,r),r=r.sibling}function Vp(t,n,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ue,r)}catch{}switch(r.tag){case 26:me||ri(r,n),Bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:me||ri(r,n);var l=re,h=an;gr(r.type)&&(re=r.stateNode,an=!1),Bi(t,n,r),Fl(r.stateNode),re=l,an=h;break;case 5:me||ri(r,n);case 6:if(l=re,h=an,re=null,Bi(t,n,r),re=l,an=h,re!==null)if(an)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(r.stateNode)}catch(f){Jt(r,n,f)}else try{re.removeChild(r.stateNode)}catch(f){Jt(r,n,f)}break;case 18:re!==null&&(an?(t=re,vy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Wl(t)):vy(re,r.stateNode));break;case 4:l=re,h=an,re=r.stateNode.containerInfo,an=!0,Bi(t,n,r),re=l,an=h;break;case 0:case 11:case 14:case 15:me||lr(2,r,n),me||lr(4,r,n),Bi(t,n,r);break;case 1:me||(ri(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&bp(r,n,l)),Bi(t,n,r);break;case 21:Bi(t,n,r);break;case 22:me=(l=me)||r.memoizedState!==null,Bi(t,n,r),me=l;break;default:Bi(t,n,r)}}function xp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Wl(t)}catch(r){Jt(n,n.return,r)}}function QE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Dp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Dp),n;default:throw Error(s(435,t.tag))}}function pf(t,n){var r=QE(t);n.forEach(function(l){var h=eT.bind(null,t,l);r.has(l)||(r.add(l),l.then(h,h))})}function dn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(gr(T.type)){re=T.stateNode,an=!1;break t}break;case 5:re=T.stateNode,an=!1;break t;case 3:case 4:re=T.stateNode.containerInfo,an=!0;break t}T=T.return}if(re===null)throw Error(s(160));Vp(f,v,h),re=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Op(n,t),n=n.sibling}var Pn=null;function Op(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(n,t),mn(t),l&4&&(lr(3,t,t.return),Ul(3,t),lr(5,t,t.return));break;case 1:dn(n,t),mn(t),l&512&&(me||r===null||ri(r,r.return)),l&64&&Pi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=Pn;if(dn(n,t),mn(t),l&512&&(me||r===null||ri(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Fr]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,r),f[Ae]=t,fe(f),l=f;break t;case"link":var v=Cy("link","href",h).get(l+(r.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),He(f,l,r),h.head.appendChild(f);break;case"meta":if(v=Cy("meta","content",h).get(l+(r.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){v.splice(T,1);break e}}f=h.createElement(l),He(f,l,r),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ae]=t,fe(f),l=f}t.stateNode=l}else Dy(h,t.type,t.stateNode);else t.stateNode=wy(h,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Dy(h,t.type,t.stateNode):wy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ff(t,t.memoizedProps,r.memoizedProps)}break;case 27:dn(n,t),mn(t),l&512&&(me||r===null||ri(r,r.return)),r!==null&&l&4&&ff(t,t.memoizedProps,r.memoizedProps);break;case 5:if(dn(n,t),mn(t),l&512&&(me||r===null||ri(r,r.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(q){Jt(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ff(t,h,r!==null?r.memoizedProps:h)),l&1024&&(gf=!0);break;case 6:if(dn(n,t),mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Jt(t,t.return,q)}}break;case 3:if(Yu=null,h=Pn,Pn=Fu(n.containerInfo),dn(n,t),Pn=h,mn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Wl(n.containerInfo)}catch(q){Jt(t,t.return,q)}gf&&(gf=!1,Mp(t));break;case 4:l=Pn,Pn=Fu(t.stateNode.containerInfo),dn(n,t),mn(t),Pn=l;break;case 12:dn(n,t),mn(t);break;case 13:dn(n,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Sf=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 22:h=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,k=Pi,$=me;if(Pi=k||h,me=$||D,dn(n,t),me=$,Pi=k,mn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||D||Pi||me||ya(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){D=r=n;try{if(f=D.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var J=D.memoizedProps.style,j=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(q){Jt(D,D.return,q)}}}else if(n.tag===6){if(r===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(q){Jt(D,D.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,pf(t,r))));break;case 19:dn(n,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pf(t,l)));break;case 30:break;case 21:break;default:dn(n,t),mn(t)}}function mn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(wp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,f=df(t);xu(t,f,h);break;case 5:var v=r.stateNode;r.flags&32&&(Tn(v,""),r.flags&=-33);var T=df(t);xu(t,T,v);break;case 3:case 4:var D=r.stateNode.containerInfo,k=df(t);mf(t,k,D);break;default:throw Error(s(161))}}catch($){Jt(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function or(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ip(t,n.alternate,n),n=n.sibling}function ya(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),ya(n);break;case 1:ri(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&bp(n,n.return,r),ya(n);break;case 27:Fl(n.stateNode);case 26:case 5:ri(n,n.return),ya(n);break;case 22:n.memoizedState===null&&ya(n);break;case 30:ya(n);break;default:ya(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ur(h,f,r),Ul(4,f);break;case 1:if(ur(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Jt(l,l.return,k)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)ug(D[h],T)}catch(k){Jt(l,l.return,k)}}r&&v&64&&Ap(f),Ll(f,f.return);break;case 27:Cp(f);case 26:case 5:ur(h,f,r),r&&l===null&&v&4&&Rp(f),Ll(f,f.return);break;case 12:ur(h,f,r);break;case 13:ur(h,f,r),r&&v&4&&xp(h,f);break;case 22:f.memoizedState===null&&ur(h,f,r),Ll(f,f.return);break;case 30:break;default:ur(h,f,r)}n=n.sibling}}function yf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Tl(r))}function _f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t))}function ai(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Up(t,n,r,l),n=n.sibling}function Up(t,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ai(t,n,r,l),h&2048&&Ul(9,n);break;case 1:ai(t,n,r,l);break;case 3:ai(t,n,r,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Tl(t)));break;case 12:if(h&2048){ai(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Jt(n,n.return,D)}}else ai(t,n,r,l);break;case 13:ai(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ai(t,n,r,l):Pl(t,n):f._visibility&2?ai(t,n,r,l):(f._visibility|=2,ms(t,n,r,l,(n.subtreeFlags&10256)!==0)),h&2048&&yf(v,n);break;case 24:ai(t,n,r,l),h&2048&&_f(n.alternate,n);break;default:ai(t,n,r,l)}}function ms(t,n,r,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=r,D=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:ms(f,v,T,D,h),Ul(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?ms(f,v,T,D,h):Pl(f,v):($._visibility|=2,ms(f,v,T,D,h)),h&&k&2048&&yf(v.alternate,v);break;case 24:ms(f,v,T,D,h),h&&k&2048&&_f(v.alternate,v);break;default:ms(f,v,T,D,h)}n=n.sibling}}function Pl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,h=l.flags;switch(l.tag){case 22:Pl(r,l),h&2048&&yf(l.alternate,l);break;case 24:Pl(r,l),h&2048&&_f(l.alternate,l);break;default:Pl(r,l)}n=n.sibling}}var Bl=8192;function gs(t){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)Lp(t),t=t.sibling}function Lp(t){switch(t.tag){case 26:gs(t),t.flags&Bl&&t.memoizedState!==null&&VT(Pn,t.memoizedState,t.memoizedProps);break;case 5:gs(t);break;case 3:case 4:var n=Pn;Pn=Fu(t.stateNode.containerInfo),gs(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Bl,Bl=16777216,gs(t),Bl=n):gs(t));break;default:gs(t)}}function Pp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function zl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ue=l,zp(l,t)}Pp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bp(t),t=t.sibling}function Bp(t){switch(t.tag){case 0:case 11:case 15:zl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:zl(t);break;case 12:zl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ou(t)):zl(t);break;default:zl(t)}}function Ou(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ue=l,zp(l,t)}Pp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Ou(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ou(n));break;default:Ou(n)}t=t.sibling}}function zp(t,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Tl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ue=l;else t:for(r=t;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(Np(l),l===r){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var YE={getCacheForType:function(t){var n=Ke(we),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},KE=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ee=null,Nt=null,Lt=0,Yt=0,gn=null,cr=!1,ps=!1,vf=!1,zi=0,he=0,hr=0,_a=0,Ef=0,Nn=0,ys=0,kl=null,sn=null,Tf=!1,Sf=0,Mu=1/0,Uu=null,fr=null,qe=0,dr=null,_s=null,vs=0,Af=0,bf=null,kp=null,jl=0,Rf=null;function pn(){if((Qt&2)!==0&&Lt!==0)return Lt&-Lt;if(K.T!==null){var t=ss;return t!==0?t:xf()}return Ki()}function jp(){Nn===0&&(Nn=(Lt&536870912)===0||qt?$s():536870912);var t=In.current;return t!==null&&(t.flags|=32),Nn}function yn(t,n,r){(t===ee&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)&&(Es(t,0),mr(t,Lt,Nn,!1)),yi(t,r),((Qt&2)===0||t!==ee)&&(t===ee&&((Qt&2)===0&&(_a|=r),he===4&&mr(t,Lt,Nn,!1)),si(t))}function qp(t,n,r){if((Qt&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Gr(t,n),h=l?ZE(t,n):Df(t,n,!0),f=l;do{if(h===0){ps&&!l&&mr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!XE(r)){h=Df(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=kl;var D=T.current.memoizedState.isDehydrated;if(D&&(Es(T,v).flags|=256),v=Df(T,v,!1),v!==2){if(vf&&!D){T.errorRecoveryDisabledLanes|=f,_a|=f,h=4;break t}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Es(t,0),mr(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:mr(l,n,Nn,!cr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Sf+300-vn(),10<h)){if(mr(l,n,Nn,!cr),Pa(l,0,!0)!==0)break t;l.timeoutHandle=yy(Hp.bind(null,l,r,sn,Uu,Tf,n,Nn,_a,ys,cr,f,2,-0,0),h);break t}Hp(l,r,sn,Uu,Tf,n,Nn,_a,ys,cr,f,0,-0,0)}}break}while(!0);si(t)}function Hp(t,n,r,l,h,f,v,T,D,k,$,J,j,q){if(t.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:NT},Lp(n),J=xT(),J!==null)){t.cancelPendingCommit=J($p.bind(null,t,n,f,r,l,h,v,T,D,$,1,j,q)),mr(t,f,v,!k);return}$p(t,n,f,r,l,h,v,T,D)}function XE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!hn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function mr(t,n,r,l){n&=~Ef,n&=~_a,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Ye(h),v=1<<f;l[f]=-1,h&=~v}r!==0&&Fn(t,r,n)}function Lu(){return(Qt&6)===0?(ql(0),!1):!0}function wf(){if(Nt!==null){if(Yt===0)var t=Nt.return;else t=Nt,Vi=fa=null,qh(t),fs=null,xl=0,t=Nt;for(;t!==null;)Sp(t.alternate,t),t=t.return;Nt=null}}function Es(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,dT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),wf(),ee=t,Nt=r=Di(t.current,null),Lt=n,Yt=0,gn=null,cr=!1,ps=Gr(t,n),vf=!1,ys=Nn=Ef=_a=hr=he=0,sn=kl=null,Tf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Ye(l),f=1<<h;n|=t[h],l&=~f}return zi=n,ru(),r}function Gp(t,n){wt=null,K.H=Au,n===Al||n===du?(n=lg(),Yt=3):n===rg?(n=lg(),Yt=4):Yt=n===op?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Nt===null&&(he=1,Du(t,Rn(n,t.current)))}function Fp(){var t=K.H;return K.H=Au,t===null?Au:t}function Qp(){var t=K.A;return K.A=YE,t}function Cf(){he=4,cr||(Lt&4194048)!==Lt&&In.current!==null||(ps=!0),(hr&134217727)===0&&(_a&134217727)===0||ee===null||mr(ee,Lt,Nn,!1)}function Df(t,n,r){var l=Qt;Qt|=2;var h=Fp(),f=Qp();(ee!==t||Lt!==n)&&(Uu=null,Es(t,n)),n=!1;var v=he;t:do try{if(Yt!==0&&Nt!==null){var T=Nt,D=gn;switch(Yt){case 8:wf(),v=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(n=!0);var k=Yt;if(Yt=0,gn=null,Ts(t,T,D,k),r&&ps){v=0;break t}break;default:k=Yt,Yt=0,gn=null,Ts(t,T,D,k)}}$E(),v=he;break}catch($){Gp(t,$)}while(!0);return n&&t.shellSuspendCounter++,Vi=fa=null,Qt=l,K.H=h,K.A=f,Nt===null&&(ee=null,Lt=0,ru()),v}function $E(){for(;Nt!==null;)Yp(Nt)}function ZE(t,n){var r=Qt;Qt|=2;var l=Fp(),h=Qp();ee!==t||Lt!==n?(Uu=null,Mu=vn()+500,Es(t,n)):ps=Gr(t,n);t:do try{if(Yt!==0&&Nt!==null){n=Nt;var f=gn;e:switch(Yt){case 1:Yt=0,gn=null,Ts(t,n,f,1);break;case 2:case 9:if(ag(f)){Yt=0,gn=null,Kp(n);break}n=function(){Yt!==2&&Yt!==9||ee!==t||(Yt=7),si(t)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:ag(f)?(Yt=0,gn=null,Kp(n)):(Yt=0,gn=null,Ts(t,n,f,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var T=Nt;if(!v||Iy(v)){Yt=0,gn=null;var D=T.sibling;if(D!==null)Nt=D;else{var k=T.return;k!==null?(Nt=k,Pu(k)):Nt=null}break e}}Yt=0,gn=null,Ts(t,n,f,5);break;case 6:Yt=0,gn=null,Ts(t,n,f,6);break;case 8:wf(),he=6;break t;default:throw Error(s(462))}}JE();break}catch($){Gp(t,$)}while(!0);return Vi=fa=null,K.H=l,K.A=h,Qt=r,Nt!==null?0:(ee=null,Lt=0,ru(),he)}function JE(){for(;Nt!==null&&!Qs();)Yp(Nt)}function Yp(t){var n=Ep(t.alternate,t,zi);t.memoizedProps=t.pendingProps,n===null?Pu(t):Nt=n}function Kp(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=mp(r,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=mp(r,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:qh(n);default:Sp(r,n),n=Nt=Xm(n,zi),n=Ep(r,n,zi)}t.memoizedProps=t.pendingProps,n===null?Pu(t):Nt=n}function Ts(t,n,r,l){Vi=fa=null,qh(n),fs=null,xl=0;var h=n.return;try{if(jE(t,h,n,r,Lt)){he=1,Du(t,Rn(r,t.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;he=1,Du(t,Rn(r,t.current)),Nt=null;return}n.flags&32768?(qt||l===1?t=!0:ps||(Lt&536870912)!==0?t=!1:(cr=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xp(n,t)):Pu(n)}function Pu(t){var n=t;do{if((n.flags&32768)!==0){Xp(n,cr);return}t=n.return;var r=HE(n.alternate,n,zi);if(r!==null){Nt=r;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);he===0&&(he=5)}function Xp(t,n){do{var r=GE(t.alternate,t);if(r!==null){r.flags&=32767,Nt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=r}while(t!==null);he=6,Nt=null}function $p(t,n,r,l,h,f,v,T,D){t.cancelPendingCommit=null;do Bu();while(qe!==0);if((Qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=yh,Js(t,r,f,v,T,D),t===ee&&(Nt=ee=null,Lt=0),_s=n,dr=t,vs=r,Af=f,bf=h,kp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,nT(kr,function(){return ey(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=at.p,at.p=2,v=Qt,Qt|=4;try{FE(t,n,r)}finally{Qt=v,at.p=h,K.T=l}}qe=1,Zp(),Jp(),Wp()}}function Zp(){if(qe===1){qe=0;var t=dr,n=_s,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var l=at.p;at.p=2;var h=Qt;Qt|=4;try{Op(n,t);var f=kf,v=zm(t.containerInfo),T=f.focusedElem,D=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Bm(T.ownerDocument.documentElement,T)){if(D!==null&&fh(T)){var k=D.start,$=D.end;if($===void 0&&($=k),"selectionStart"in T)T.selectionStart=k,T.selectionEnd=Math.min($,T.value.length);else{var J=T.ownerDocument||document,j=J&&J.defaultView||window;if(j.getSelection){var q=j.getSelection(),Et=T.textContent.length,yt=Math.min(D.start,Et),Zt=D.end===void 0?yt:Math.min(D.end,Et);!q.extend&&yt>Zt&&(v=Zt,Zt=yt,yt=v);var L=Pm(T,yt),x=Pm(T,Zt);if(L&&x&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var z=J.createRange();z.setStart(L.node,L.offset),q.removeAllRanges(),yt>Zt?(q.addRange(z),q.extend(x.node,x.offset)):(z.setEnd(x.node,x.offset),q.addRange(z))}}}}for(J=[],q=T;q=q.parentNode;)q.nodeType===1&&J.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var Z=J[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}$u=!!zf,kf=zf=null}finally{Qt=h,at.p=l,K.T=r}}t.current=n,qe=2}}function Jp(){if(qe===2){qe=0;var t=dr,n=_s,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var l=at.p;at.p=2;var h=Qt;Qt|=4;try{Ip(t,n.alternate,n)}finally{Qt=h,at.p=l,K.T=r}}qe=3}}function Wp(){if(qe===4||qe===3){qe=0,Oo();var t=dr,n=_s,r=vs,l=kp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,_s=dr=null,ty(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(fr=null),Ba(r),n=n.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ue,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,h=at.p,at.p=2,K.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{K.T=n,at.p=h}}(vs&3)!==0&&Bu(),si(t),h=t.pendingLanes,(r&4194090)!==0&&(h&42)!==0?t===Rf?jl++:(jl=0,Rf=t):jl=0,ql(0)}}function ty(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Tl(n)))}function Bu(t){return Zp(),Jp(),Wp(),ey()}function ey(){if(qe!==5)return!1;var t=dr,n=Af;Af=0;var r=Ba(vs),l=K.T,h=at.p;try{at.p=32>r?32:r,K.T=null,r=bf,bf=null;var f=dr,v=vs;if(qe=0,_s=dr=null,vs=0,(Qt&6)!==0)throw Error(s(331));var T=Qt;if(Qt|=4,Bp(f.current),Up(f,f.current,v,r),Qt=T,ql(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ue,f)}catch{}return!0}finally{at.p=h,K.T=l,ty(t,n)}}function ny(t,n,r){n=Rn(r,n),n=nf(t.stateNode,n,2),t=ir(t,n,2),t!==null&&(yi(t,2),si(t))}function Jt(t,n,r){if(t.tag===3)ny(t,t,r);else for(;n!==null;){if(n.tag===3){ny(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=Rn(r,t),r=sp(2),l=ir(n,r,2),l!==null&&(lp(r,l,n,t),yi(l,2),si(l));break}}n=n.return}}function If(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new KE;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(vf=!0,h.add(r),t=WE.bind(null,t,n,r),n.then(t,t))}function WE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,ee===t&&(Lt&r)===r&&(he===4||he===3&&(Lt&62914560)===Lt&&300>vn()-Sf?(Qt&2)===0&&Es(t,0):Ef|=r,ys===Lt&&(ys=0)),si(t)}function iy(t,n){n===0&&(n=Zs()),t=ns(t,n),t!==null&&(yi(t,n),si(t))}function tT(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),iy(t,r)}function eT(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),iy(t,r)}function nT(t,n){return Br(t,n)}var zu=null,Ss=null,Nf=!1,ku=!1,Vf=!1,va=0;function si(t){t!==Ss&&t.next===null&&(Ss===null?zu=Ss=t:Ss=Ss.next=t),ku=!0,Nf||(Nf=!0,rT())}function ql(t,n){if(!Vf&&ku){Vf=!0;do for(var r=!1,l=zu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,ly(l,f))}else f=Lt,f=Pa(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Gr(l,f)||(r=!0,ly(l,f));l=l.next}while(r);Vf=!1}}function iT(){ry()}function ry(){ku=Nf=!1;var t=0;va!==0&&(fT()&&(t=va),va=0);for(var n=vn(),r=null,l=zu;l!==null;){var h=l.next,f=ay(l,n);f===0?(l.next=null,r===null?zu=h:r.next=h,h===null&&(Ss=r)):(r=l,(t!==0||(f&3)!==0)&&(ku=!0)),l=h}ql(t)}function ay(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ye(f),T=1<<v,D=h[v];D===-1?((T&r)===0||(T&l)!==0)&&(h[v]=Xs(T,n)):D<=n&&(t.expiredLanes|=T),f&=~T}if(n=ee,r=Lt,r=Pa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Yt===2||Yt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&zr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Gr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&zr(l),Ba(r)){case 2:case 8:r=Ua;break;case 32:r=kr;break;case 268435456:r=La;break;default:r=kr}return l=sy.bind(null,t),r=Br(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&zr(l),t.callbackPriority=2,t.callbackNode=null,2}function sy(t,n){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Bu()&&t.callbackNode!==r)return null;var l=Lt;return l=Pa(t,t===ee?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(qp(t,l,n),ay(t,vn()),t.callbackNode!=null&&t.callbackNode===r?sy.bind(null,t):null)}function ly(t,n){if(Bu())return null;qp(t,n,!0)}function rT(){mT(function(){(Qt&6)!==0?Br(Ys,iT):ry()})}function xf(){return va===0&&(va=$s()),va}function oy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ga(""+t)}function uy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function aT(t,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=oy((h[pe]||null).action),v=l.submitter;v&&(n=(n=v[pe]||null)?oy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Fa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var D=v?uy(h,v):new FormData(h);Zh(r,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(T.preventDefault(),D=v?uy(h,v):new FormData(h),Zh(r,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Of=0;Of<ph.length;Of++){var Mf=ph[Of],sT=Mf.toLowerCase(),lT=Mf[0].toUpperCase()+Mf.slice(1);Ln(sT,"on"+lT)}Ln(qm,"onAnimationEnd"),Ln(Hm,"onAnimationIteration"),Ln(Gm,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(bE,"onTransitionRun"),Ln(RE,"onTransitionStart"),Ln(wE,"onTransitionCancel"),Ln(Fm,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hl));function cy(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,k=T.currentTarget;if(T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=k;try{f(h)}catch($){Cu($)}h.currentTarget=null,f=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,k=T.currentTarget,T=T.listener,D!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=k;try{f(h)}catch($){Cu($)}h.currentTarget=null,f=D}}}}function Vt(t,n){var r=n[tl];r===void 0&&(r=n[tl]=new Set);var l=t+"__bubble";r.has(l)||(hy(n,t,2,!1),r.add(l))}function Uf(t,n,r){var l=0;n&&(l|=4),hy(r,t,l,n)}var ju="_reactListening"+Math.random().toString(36).slice(2);function Lf(t){if(!t[ju]){t[ju]=!0,el.forEach(function(r){r!=="selectionchange"&&(oT.has(r)||Uf(r,!1,t),Uf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ju]||(n[ju]=!0,Uf("selectionchange",!1,n))}}function hy(t,n,r,l){switch(Uy(n)){case 2:var h=UT;break;case 8:h=LT;break;default:h=$f}r=h.bind(null,n,r,t),h=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function Pf(t,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_i(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Ho(function(){var k=f,$=Sn(r),J=[];t:{var j=Qm.get(t);if(j!==void 0){var q=Fa,Et=t;switch(t){case"keypress":if(Zn(r)===0)break t;case"keydown":case"keyup":q=Za;break;case"focusin":Et="focus",q=Ka;break;case"focusout":Et="blur",q=Ka;break;case"beforeblur":case"afterblur":q=Ka;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Zo;break;case qm:case Hm:case Gm:q=Xa;break;case Fm:q=Wo;break;case"scroll":case"scrollend":q=Go;break;case"wheel":q=Ja;break;case"copy":case"cut":case"paste":q=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=dl;break;case"toggle":case"beforetoggle":q=eu}var yt=(n&4)!==0,Zt=!yt&&(t==="scroll"||t==="scrollend"),L=yt?j!==null?j+"Capture":null:j;yt=[];for(var x=k,z;x!==null;){var Z=x;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||L===null||(Z=Jr(x,L),Z!=null&&yt.push(Gl(x,Z,z))),Zt)break;x=x.return}0<yt.length&&(j=new q(j,Et,null,r,$),J.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",j&&r!==Si&&(Et=r.relatedTarget||r.fromElement)&&(_i(Et)||Et[En]))break t;if((q||j)&&(j=$.window===$?$:(j=$.ownerDocument)?j.defaultView||j.parentWindow:window,q?(Et=r.relatedTarget||r.toElement,q=k,Et=Et?_i(Et):null,Et!==null&&(Zt=c(Et),yt=Et.tag,Et!==Zt||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(q=null,Et=k),q!==Et)){if(yt=bn,Z="onMouseLeave",L="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(yt=dl,Z="onPointerLeave",L="onPointerEnter",x="pointer"),Zt=q==null?j:Yn(q),z=Et==null?j:Yn(Et),j=new yt(Z,x+"leave",q,r,$),j.target=Zt,j.relatedTarget=z,Z=null,_i($)===k&&(yt=new yt(L,x+"enter",Et,r,$),yt.target=z,yt.relatedTarget=Zt,Z=yt),Zt=Z,q&&Et)e:{for(yt=q,L=Et,x=0,z=yt;z;z=As(z))x++;for(z=0,Z=L;Z;Z=As(Z))z++;for(;0<x-z;)yt=As(yt),x--;for(;0<z-x;)L=As(L),z--;for(;x--;){if(yt===L||L!==null&&yt===L.alternate)break e;yt=As(yt),L=As(L)}yt=null}else yt=null;q!==null&&fy(J,j,q,yt,!1),Et!==null&&Zt!==null&&fy(J,Zt,Et,yt,!0)}}t:{if(j=k?Yn(k):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var ht=Vm;else if(Re(j))if(xm)ht=TE;else{ht=vE;var It=_E}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?k&&sl(k.elementType)&&(ht=Vm):ht=EE;if(ht&&(ht=ht(t,k))){Ci(J,ht,r,$);break t}It&&It(t,j,k),t==="focusout"&&k&&j.type==="number"&&k.memoizedProps.value!=null&&Ji(j,"number",j.value)}switch(It=k?Yn(k):window,t){case"focusin":(Re(It)||It.contentEditable==="true")&&(Wa=It,dh=k,pl=null);break;case"focusout":pl=dh=Wa=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,km(J,r,$);break;case"selectionchange":if(AE)break;case"keydown":case"keyup":km(J,r,$)}var mt;if(ti)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Mt?F(t,r)&&(_t="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(_&&r.locale!=="ko"&&(Mt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Mt&&(mt=ol()):($n=$,Wi="value"in $n?$n.value:$n.textContent,Mt=!0)),It=qu(k,_t),0<It.length&&(_t=new hl(_t,t,null,r,$),J.push({event:_t,listeners:It}),mt?_t.data=mt:(mt=st(r),mt!==null&&(_t.data=mt)))),(mt=m?be(t,r):Ut(t,r))&&(_t=qu(k,"onBeforeInput"),0<_t.length&&(It=new hl("onBeforeInput","beforeinput",null,r,$),J.push({event:It,listeners:_t}),It.data=mt)),aT(J,t,k,r,$)}cy(J,n)})}function Gl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function qu(t,n){for(var r=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Jr(t,r),h!=null&&l.unshift(Gl(t,h,f)),h=Jr(t,n),h!=null&&l.push(Gl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function fy(t,n,r,l,h){for(var f=n._reactName,v=[];r!==null&&r!==l;){var T=r,D=T.alternate,k=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||k===null||(D=k,h?(k=Jr(r,f),k!=null&&v.unshift(Gl(r,k,D))):h||(k=Jr(r,f),k!=null&&v.push(Gl(r,k,D)))),r=r.return}v.length!==0&&t.push({event:n,listeners:v})}var uT=/\r\n?/g,cT=/\u0000|\uFFFD/g;function dy(t){return(typeof t=="string"?t:""+t).replace(uT,`
`).replace(cT,"")}function my(t,n){return n=dy(n),dy(t)===n}function Hu(){}function $t(t,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(t,""+l);break;case"className":Kn(t,"class",l);break;case"tabIndex":Kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(t,r,l);break;case"style":al(t,l,f);break;case"data":if(n!=="object"){Kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ga(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&$t(t,n,"name",h.name,h,null),$t(t,n,"formEncType",h.formEncType,h,null),$t(t,n,"formMethod",h.formMethod,h,null),$t(t,n,"formTarget",h.formTarget,h,null)):($t(t,n,"encType",h.encType,h,null),$t(t,n,"method",h.method,h,null),$t(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ga(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Zi(t,"popover",l);break;case"xlinkActuate":ze(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ze(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ze(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ze(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ze(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ze(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ze(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ze(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ze(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=sh.get(r)||r,Zi(t,r,l))}}function Bf(t,n,r,l,h,f){switch(r){case"style":al(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[pe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,h);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Zi(t,r,l)}}}function He(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var v=r[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,f,v,r,null)}}h&&$t(t,n,"srcSet",r.srcSet,r,null),l&&$t(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var T=f=v=h=null,D=null,k=null;for(l in r)if(r.hasOwnProperty(l)){var $=r[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":D=$;break;case"defaultChecked":k=$;break;case"value":f=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,n));break;default:$t(t,n,l,$,r,null)}}Xr(t,f,T,D,k,v,h,!1),Ha(t);return;case"select":Vt("invalid",t),l=v=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$t(t,n,h,T,r,null)}n=f,r=v,t.multiple=!!l,n!=null?Ti(t,!!l,n,!1):r!=null&&Ti(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=h=l=null;for(v in r)if(r.hasOwnProperty(v)&&(T=r[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$t(t,n,v,T,r,null)}$r(t,l,h,f),Ha(t);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(l=r[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$t(t,n,D,l,r,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Hl.length;l++)Vt(Hl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(l=r[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:$t(t,n,k,l,r,null)}return;default:if(sl(n)){for($ in r)r.hasOwnProperty($)&&(l=r[$],l!==void 0&&Bf(t,n,$,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&$t(t,n,T,l,r,null))}function hT(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,D=null,k=null,$=null;for(q in r){var J=r[q];if(r.hasOwnProperty(q)&&J!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(q)||$t(t,n,q,null,l,J)}}for(var j in l){var q=l[j];if(J=r[j],l.hasOwnProperty(j)&&(q!=null||J!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":$=q;break;case"value":v=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==J&&$t(t,n,j,q,l,J)}}cn(t,v,T,D,k,$,f,h);return;case"select":q=v=T=j=null;for(f in r)if(D=r[f],r.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(f)||$t(t,n,f,null,l,D)}for(h in l)if(f=l[h],D=r[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==D&&$t(t,n,h,f,l,D)}n=T,r=v,l=q,j!=null?Ti(t,!!r,j,!1):!!l!=!!r&&(n!=null?Ti(t,!!r,n,!0):Ti(t,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$t(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=r[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&$t(t,n,v,h,l,f)}Kt(t,j,q);return;case"option":for(var Et in r)if(j=r[Et],r.hasOwnProperty(Et)&&j!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:$t(t,n,Et,null,l,j)}for(D in l)if(j=l[D],q=r[D],l.hasOwnProperty(D)&&j!==q&&(j!=null||q!=null))switch(D){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:$t(t,n,D,j,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in r)j=r[yt],r.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&$t(t,n,yt,null,l,j);for(k in l)if(j=l[k],q=r[k],l.hasOwnProperty(k)&&j!==q&&(j!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:$t(t,n,k,j,l,q)}return;default:if(sl(n)){for(var Zt in r)j=r[Zt],r.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&Bf(t,n,Zt,void 0,l,j);for($ in l)j=l[$],q=r[$],!l.hasOwnProperty($)||j===q||j===void 0&&q===void 0||Bf(t,n,$,j,l,q);return}}for(var L in r)j=r[L],r.hasOwnProperty(L)&&j!=null&&!l.hasOwnProperty(L)&&$t(t,n,L,null,l,j);for(J in l)j=l[J],q=r[J],!l.hasOwnProperty(J)||j===q||j==null&&q==null||$t(t,n,J,j,l,q)}var zf=null,kf=null;function Gu(t){return t.nodeType===9?t:t.ownerDocument}function gy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function py(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function jf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var qf=null;function fT(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var yy=typeof setTimeout=="function"?setTimeout:void 0,dT=typeof clearTimeout=="function"?clearTimeout:void 0,_y=typeof Promise=="function"?Promise:void 0,mT=typeof queueMicrotask=="function"?queueMicrotask:typeof _y<"u"?function(t){return _y.resolve(null).then(t).catch(gT)}:yy;function gT(t){setTimeout(function(){throw t})}function gr(t){return t==="head"}function vy(t,n){var r=n,l=0,h=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var v=t.ownerDocument;if(r&1&&Fl(v.documentElement),r&2&&Fl(v.body),r&4)for(r=v.head,Fl(r),v=r.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[Fr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||r.removeChild(v),v=T}}if(h===0){t.removeChild(f),Wl(n);return}h--}else r==="$"||r==="$?"||r==="$!"?h++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Wl(n)}function Hf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Hf(r),$i(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function pT(t,n,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Bn(t.nextSibling),t===null)break}return null}function yT(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Bn(t.nextSibling),t===null))return null;return t}function Gf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function _T(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Bn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Ff=null;function Ey(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Ty(t,n,r){switch(n=Gu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Fl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);$i(t)}var Vn=new Map,Sy=new Set;function Fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ki=at.d;at.d={f:vT,r:ET,D:TT,C:ST,L:AT,m:bT,X:wT,S:RT,M:CT};function vT(){var t=ki.f(),n=Lu();return t||n}function ET(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?qg(n):ki.r(t)}var bs=typeof document>"u"?null:document;function Ay(t,n,r){var l=bs;if(l&&typeof n=="string"&&n){var h=ye(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Sy.has(h)||(Sy.add(h),t={rel:t,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",t),fe(n),l.head.appendChild(n)))}}function TT(t){ki.D(t),Ay("dns-prefetch",t,null)}function ST(t,n){ki.C(t,n),Ay("preconnect",t,n)}function AT(t,n,r){ki.L(t,n,r);var l=bs;if(l&&t&&n){var h='link[rel="preload"][as="'+ye(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+ye(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+ye(r.imageSizes)+'"]')):h+='[href="'+ye(t)+'"]';var f=h;switch(n){case"style":f=Rs(t);break;case"script":f=ws(t)}Vn.has(f)||(t=E({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Vn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Ql(f))||n==="script"&&l.querySelector(Yl(f))||(n=l.createElement("link"),He(n,"link",t),fe(n),l.head.appendChild(n)))}}function bT(t,n){ki.m(t,n);var r=bs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ye(l)+'"][href="'+ye(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ws(t)}if(!Vn.has(f)&&(t=E({rel:"modulepreload",href:t},n),Vn.set(f,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yl(f)))return}l=r.createElement("link"),He(l,"link",t),fe(l),r.head.appendChild(l)}}}function RT(t,n,r){ki.S(t,n,r);var l=bs;if(l&&t){var h=We(l).hoistableStyles,f=Rs(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Ql(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Vn.get(f))&&Qf(t,r);var D=v=l.createElement("link");fe(D),He(D,"link",t),D._p=new Promise(function(k,$){D.onload=k,D.onerror=$}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Qu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function wT(t,n){ki.X(t,n);var r=bs;if(r&&t){var l=We(r).hoistableScripts,h=ws(t),f=l.get(h);f||(f=r.querySelector(Yl(h)),f||(t=E({src:t,async:!0},n),(n=Vn.get(h))&&Yf(t,n),f=r.createElement("script"),fe(f),He(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function CT(t,n){ki.M(t,n);var r=bs;if(r&&t){var l=We(r).hoistableScripts,h=ws(t),f=l.get(h);f||(f=r.querySelector(Yl(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=Vn.get(h))&&Yf(t,n),f=r.createElement("script"),fe(f),He(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function by(t,n,r,l){var h=(h=Tt.current)?Fu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Rs(r.href),r=We(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Rs(r.href);var f=We(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(Ql(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Vn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(t,r),f||DT(h,t,r,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ws(r),r=We(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Rs(t){return'href="'+ye(t)+'"'}function Ql(t){return'link[rel="stylesheet"]['+t+"]"}function Ry(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function DT(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",r),fe(n),t.head.appendChild(n))}function ws(t){return'[src="'+ye(t)+'"]'}function Yl(t){return"script[async]"+t}function wy(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ye(r.href)+'"]');if(l)return n.instance=l,fe(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),fe(l),He(l,"style",h),Qu(l,r.precedence,t),n.instance=l;case"stylesheet":h=Rs(r.href);var f=t.querySelector(Ql(h));if(f)return n.state.loading|=4,n.instance=f,fe(f),f;l=Ry(r),(h=Vn.get(h))&&Qf(l,h),f=(t.ownerDocument||t).createElement("link"),fe(f);var v=f;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),He(f,"link",l),n.state.loading|=4,Qu(f,r.precedence,t),n.instance=f;case"script":return f=ws(r.src),(h=t.querySelector(Yl(f)))?(n.instance=h,fe(h),h):(l=r,(h=Vn.get(f))&&(l=E({},r),Yf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),fe(h),He(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Qu(l,r.precedence,t));return n.instance}function Qu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Yu=null;function Cy(t,n,r){if(Yu===null){var l=new Map,h=Yu=new Map;h.set(r,l)}else h=Yu,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Fr]||f[Ae]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Dy(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function IT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Kl=null;function NT(){}function VT(t,n,r){if(Kl===null)throw Error(s(475));var l=Kl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Rs(r.href),f=t.querySelector(Ql(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ku.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,fe(f);return}f=t.ownerDocument||t,r=Ry(r),(h=Vn.get(h))&&Qf(r,h),f=f.createElement("link"),fe(f);var v=f;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),He(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ku.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function xT(){if(Kl===null)throw Error(s(475));var t=Kl;return t.stylesheets&&t.count===0&&Kf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Kf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Ku(){if(this.count--,this.count===0){if(this.stylesheets)Kf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xu=null;function Kf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xu=new Map,n.forEach(OT,t),Xu=null,Ku.call(t))}function OT(t,n){if(!(n.state.loading&4)){var r=Xu.get(t);if(r)var l=r.get(null);else{r=new Map,Xu.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(r.set(v.dataset.precedence,v),l=v)}l&&r.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=r.get(v)||l,f===l&&r.set(null,h),r.set(v,h),this.count++,l=Ku.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Xl={$$typeof:et,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function MT(t,n,r,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ny(t,n,r,l,h,f,v,T,D,k,$,J){return t=new MT(t,n,r,v,T,D,k,J),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),t.current=f,f.stateNode=t,n=Dh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},xh(f),t}function Vy(t){return t?(t=is,t):is}function xy(t,n,r,l,h,f){h=Vy(h),l.context===null?l.context=h:l.pendingContext=h,l=nr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ir(t,l,n),r!==null&&(yn(r,t,n),Rl(r,t,n))}function Oy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Xf(t,n){Oy(t,n),(t=t.alternate)&&Oy(t,n)}function My(t){if(t.tag===13){var n=ns(t,67108864);n!==null&&yn(n,t,67108864),Xf(t,67108864)}}var $u=!0;function UT(t,n,r,l){var h=K.T;K.T=null;var f=at.p;try{at.p=2,$f(t,n,r,l)}finally{at.p=f,K.T=h}}function LT(t,n,r,l){var h=K.T;K.T=null;var f=at.p;try{at.p=8,$f(t,n,r,l)}finally{at.p=f,K.T=h}}function $f(t,n,r,l){if($u){var h=Zf(l);if(h===null)Pf(t,n,l,Zu,r),Ly(t,l);else if(BT(h,t,n,r,l))l.stopPropagation();else if(Ly(t,l),n&4&&-1<PT.indexOf(t)){for(;h!==null;){var f=Qn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=On(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-Ye(v);T.entanglements[1]|=D,v&=~D}si(f),(Qt&6)===0&&(Mu=vn()+500,ql(0))}}break;case 13:T=ns(f,2),T!==null&&yn(T,f,2),Lu(),Xf(f,2)}if(f=Zf(l),f===null&&Pf(t,n,l,Zu,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else Pf(t,n,l,null,r)}}function Zf(t){return t=Sn(t),Jf(t)}var Zu=null;function Jf(t){if(Zu=null,t=_i(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Zu=t,null}function Uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(th()){case Ys:return 2;case Ua:return 8;case kr:case eh:return 32;case La:return 268435456;default:return 32}default:return 32}}var Wf=!1,pr=null,yr=null,_r=null,$l=new Map,Zl=new Map,vr=[],PT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(t,n){switch(t){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":$l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(n.pointerId)}}function Jl(t,n,r,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Qn(n),n!==null&&My(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function BT(t,n,r,l,h){switch(n){case"focusin":return pr=Jl(pr,t,n,r,l,h),!0;case"dragenter":return yr=Jl(yr,t,n,r,l,h),!0;case"mouseover":return _r=Jl(_r,t,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return $l.set(f,Jl($l.get(f)||null,t,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Zl.set(f,Jl(Zl.get(f)||null,t,n,r,l,h)),!0}return!1}function Py(t){var n=_i(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,Lo(t.priority,function(){if(r.tag===13){var l=pn();l=Yi(l);var h=ns(r,l);h!==null&&yn(h,r,l),Xf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ju(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Zf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);Si=l,r.target.dispatchEvent(l),Si=null}else return n=Qn(r),n!==null&&My(n),t.blockedOn=r,!1;n.shift()}return!0}function By(t,n,r){Ju(t)&&r.delete(n)}function zT(){Wf=!1,pr!==null&&Ju(pr)&&(pr=null),yr!==null&&Ju(yr)&&(yr=null),_r!==null&&Ju(_r)&&(_r=null),$l.forEach(By),Zl.forEach(By)}function Wu(t,n){t.blockedOn===n&&(t.blockedOn=null,Wf||(Wf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zT)))}var tc=null;function zy(t){tc!==t&&(tc=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){tc===t&&(tc=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Jf(l||r)===null)continue;break}var f=Qn(r);f!==null&&(t.splice(n,3),n-=3,Zh(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function Wl(t){function n(D){return Wu(D,t)}pr!==null&&Wu(pr,t),yr!==null&&Wu(yr,t),_r!==null&&Wu(_r,t),$l.forEach(n),Zl.forEach(n);for(var r=0;r<vr.length;r++){var l=vr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<vr.length&&(r=vr[0],r.blockedOn===null);)Py(r),r.blockedOn===null&&vr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],v=h[pe]||null;if(typeof f=="function")v||zy(r);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[pe]||null)T=v.formAction;else if(Jf(h)!==null)continue}else T=v.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),zy(r)}}}function td(t){this._internalRoot=t}ec.prototype.render=td.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=pn();xy(r,l,t,n,null,null)},ec.prototype.unmount=td.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xy(t.current,2,null,t,null,null),Lu(),n[En]=null}};function ec(t){this._internalRoot=t}ec.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ki();t={blockedOn:null,target:t,priority:n};for(var r=0;r<vr.length&&n!==0&&n<vr[r].priority;r++);vr.splice(r,0,t),r===0&&Py(t)}};var ky=e.version;if(ky!=="19.1.0")throw Error(s(527,ky,"19.1.0"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var kT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{ue=nc.inject(kT),Ft=nc}catch{}}return eo.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",h=np,f=ip,v=rp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Ny(t,1,!1,null,null,r,l,h,f,v,T,null),t[En]=n.current,Lf(t),new td(n)},eo.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,h="",f=np,v=ip,T=rp,D=null,k=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(D=r.unstable_transitionCallbacks),r.formState!==void 0&&(k=r.formState)),n=Ny(t,1,!0,n,r??null,l,h,f,v,T,D,k),n.context=Vy(null),r=n.current,l=pn(),l=Yi(l),h=nr(l),h.callback=null,ir(r,h,l),r=l,n.current.lanes=r,yi(n,r),si(n),t[En]=n.current,Lf(t),new ec(n)},eo.version="19.1.0",eo}var $y;function ZT(){if($y)return id.exports;$y=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),id.exports=$T(),id.exports}var JT=ZT();const WT=dv(JT);var no={},Zy;function t1(){if(Zy)return no;Zy=1,Object.defineProperty(no,"__esModule",{value:!0}),no.parse=d,no.serialize=p;const a=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function d(A,P){const U=new c,X=A.length;if(X<2)return U;const G=P?.decode||E;let Q=0;do{const tt=A.indexOf("=",Q);if(tt===-1)break;const et=A.indexOf(";",Q),ft=et===-1?X:et;if(tt>ft){Q=A.lastIndexOf(";",tt-1)+1;continue}const ct=g(A,Q,tt),bt=y(A,tt,ct),O=A.slice(ct,bt);if(U[O]===void 0){let b=g(A,tt+1,ft),w=y(A,ft,b);const I=G(A.slice(b,w));U[O]=I}Q=ft+1}while(Q<X);return U}function g(A,P,U){do{const X=A.charCodeAt(P);if(X!==32&&X!==9)return P}while(++P<U);return U}function y(A,P,U){for(;P>U;){const X=A.charCodeAt(--P);if(X!==32&&X!==9)return P+1}return U}function p(A,P,U){const X=U?.encode||encodeURIComponent;if(!a.test(A))throw new TypeError(`argument name is invalid: ${A}`);const G=X(P);if(!e.test(G))throw new TypeError(`argument val is invalid: ${P}`);let Q=A+"="+G;if(!U)return Q;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);Q+="; Max-Age="+U.maxAge}if(U.domain){if(!i.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);Q+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);Q+="; Path="+U.path}if(U.expires){if(!R(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);Q+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(Q+="; HttpOnly"),U.secure&&(Q+="; Secure"),U.partitioned&&(Q+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return Q}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function R(A){return o.call(A)==="[object Date]"}return no}t1();var Jy="popstate";function e1(a={}){function e(s,o){let{pathname:c,search:d,hash:g}=s.location;return yd("",{pathname:c,search:d,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:go(o)}return i1(e,i,null,a)}function ae(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}function kn(a,e){if(!a){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function n1(){return Math.random().toString(36).substring(2,10)}function Wy(a,e){return{usr:a.state,key:a.key,idx:e}}function yd(a,e,i=null,s){return{pathname:typeof a=="string"?a:a.pathname,search:"",hash:"",...typeof e=="string"?Bs(e):e,state:i,key:e&&e.key||s||n1()}}function go({pathname:a="/",search:e="",hash:i=""}){return e&&e!=="?"&&(a+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Bs(a){let e={};if(a){let i=a.indexOf("#");i>=0&&(e.hash=a.substring(i),a=a.substring(0,i));let s=a.indexOf("?");s>=0&&(e.search=a.substring(s),a=a.substring(0,s)),a&&(e.pathname=a)}return e}function i1(a,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,g="POP",y=null,p=E();p==null&&(p=0,d.replaceState({...d.state,idx:p},""));function E(){return(d.state||{idx:null}).idx}function R(){g="POP";let G=E(),Q=G==null?null:G-p;p=G,y&&y({action:g,location:X.location,delta:Q})}function A(G,Q){g="PUSH";let tt=yd(X.location,G,Q);p=E()+1;let et=Wy(tt,p),ft=X.createHref(tt);try{d.pushState(et,"",ft)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(ft)}c&&y&&y({action:g,location:X.location,delta:1})}function P(G,Q){g="REPLACE";let tt=yd(X.location,G,Q);p=E();let et=Wy(tt,p),ft=X.createHref(tt);d.replaceState(et,"",ft),c&&y&&y({action:g,location:X.location,delta:0})}function U(G){return r1(G)}let X={get action(){return g},get location(){return a(o,d)},listen(G){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(Jy,R),y=G,()=>{o.removeEventListener(Jy,R),y=null}},createHref(G){return e(o,G)},createURL:U,encodeLocation(G){let Q=U(G);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:P,go(G){return d.go(G)}};return X}function r1(a,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ae(i,"No window.location.(origin|href) available to create URL");let s=typeof a=="string"?a:go(a);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function mv(a,e,i="/"){return a1(a,e,i,!1)}function a1(a,e,i,s){let o=typeof e=="string"?Bs(e):e,c=qi(o.pathname||"/",i);if(c==null)return null;let d=gv(a);s1(d);let g=null;for(let y=0;g==null&&y<d.length;++y){let p=y1(c);g=g1(d[y],p,s)}return g}function gv(a,e=[],i=[],s=""){let o=(c,d,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};y.relativePath.startsWith("/")&&(ae(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let p=ji([s,y.relativePath]),E=i.concat(y);c.children&&c.children.length>0&&(ae(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),gv(c.children,e,E,p)),!(c.path==null&&!c.index)&&e.push({path:p,score:d1(p,c.index),routesMeta:E})};return a.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let g of pv(c.path))o(c,d,g)}),e}function pv(a){let e=a.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=pv(s.join("/")),g=[];return g.push(...d.map(y=>y===""?c:[c,y].join("/"))),o&&g.push(...d),g.map(y=>a.startsWith("/")&&y===""?"/":y)}function s1(a){a.sort((e,i)=>e.score!==i.score?i.score-e.score:m1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var l1=/^:[\w-]+$/,o1=3,u1=2,c1=1,h1=10,f1=-2,t_=a=>a==="*";function d1(a,e){let i=a.split("/"),s=i.length;return i.some(t_)&&(s+=f1),e&&(s+=u1),i.filter(o=>!t_(o)).reduce((o,c)=>o+(l1.test(c)?o1:c===""?c1:h1),s)}function m1(a,e){return a.length===e.length&&a.slice(0,-1).every((s,o)=>s===e[o])?a[a.length-1]-e[e.length-1]:0}function g1(a,e,i=!1){let{routesMeta:s}=a,o={},c="/",d=[];for(let g=0;g<s.length;++g){let y=s[g],p=g===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",R=_c({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},E),A=y.route;if(!R&&p&&i&&!s[s.length-1].route.index&&(R=_c({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!R)return null;Object.assign(o,R.params),d.push({params:o,pathname:ji([c,R.pathname]),pathnameBase:T1(ji([c,R.pathnameBase])),route:A}),R.pathnameBase!=="/"&&(c=ji([c,R.pathnameBase]))}return d}function _c(a,e){typeof a=="string"&&(a={path:a,caseSensitive:!1,end:!0});let[i,s]=p1(a.path,a.caseSensitive,a.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:E,isOptional:R},A)=>{if(E==="*"){let U=g[A]||"";d=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const P=g[A];return R&&!P?p[E]=void 0:p[E]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:d,pattern:a}}function p1(a,e=!1,i=!0){kn(a==="*"||!a.endsWith("*")||a.endsWith("/*"),`Route path "${a}" will be treated as if it were "${a.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${a.replace(/\*$/,"/*")}".`);let s=[],o="^"+a.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,y)=>(s.push({paramName:g,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return a.endsWith("*")?(s.push({paramName:"*"}),o+=a==="*"||a==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":a!==""&&a!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function y1(a){try{return a.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kn(!1,`The URL path "${a}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),a}}function qi(a,e){if(e==="/")return a;if(!a.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=a.charAt(i);return s&&s!=="/"?null:a.slice(i)||"/"}function _1(a,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof a=="string"?Bs(a):a;return{pathname:i?i.startsWith("/")?i:v1(i,e):e,search:S1(s),hash:A1(o)}}function v1(a,e){let i=e.replace(/\/+$/,"").split("/");return a.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ld(a,e,i,s){return`Cannot include a '${a}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E1(a){return a.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function qd(a){let e=E1(a);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Hd(a,e,i,s=!1){let o;typeof a=="string"?o=Bs(a):(o={...a},ae(!o.pathname||!o.pathname.includes("?"),ld("?","pathname","search",o)),ae(!o.pathname||!o.pathname.includes("#"),ld("#","pathname","hash",o)),ae(!o.search||!o.search.includes("#"),ld("#","search","hash",o)));let c=a===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let R=e.length-1;if(!s&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),R-=1;o.pathname=A.join("/")}g=R>=0?e[R]:"/"}let y=_1(o,g),p=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!y.pathname.endsWith("/")&&(p||E)&&(y.pathname+="/"),y}var ji=a=>a.join("/").replace(/\/\/+/g,"/"),T1=a=>a.replace(/\/+$/,"").replace(/^\/*/,"/"),S1=a=>!a||a==="?"?"":a.startsWith("?")?a:"?"+a,A1=a=>!a||a==="#"?"":a.startsWith("#")?a:"#"+a;function b1(a){return a!=null&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.internal=="boolean"&&"data"in a}var yv=["POST","PUT","PATCH","DELETE"];new Set(yv);var R1=["GET",...yv];new Set(R1);var zs=H.createContext(null);zs.displayName="DataRouter";var Lc=H.createContext(null);Lc.displayName="DataRouterState";var _v=H.createContext({isTransitioning:!1});_v.displayName="ViewTransition";var w1=H.createContext(new Map);w1.displayName="Fetchers";var C1=H.createContext(null);C1.displayName="Await";var jn=H.createContext(null);jn.displayName="Navigation";var wo=H.createContext(null);wo.displayName="Location";var qn=H.createContext({outlet:null,matches:[],isDataRoute:!1});qn.displayName="Route";var Gd=H.createContext(null);Gd.displayName="RouteError";function D1(a,{relative:e}={}){ae(ks(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=H.useContext(jn),{hash:o,pathname:c,search:d}=Co(a,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:ji([i,c])),s.createHref({pathname:g,search:d,hash:o})}function ks(){return H.useContext(wo)!=null}function Hn(){return ae(ks(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(wo).location}var vv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ev(a){H.useContext(jn).static||H.useLayoutEffect(a)}function xa(){let{isDataRoute:a}=H.useContext(qn);return a?j1():I1()}function I1(){ae(ks(),"useNavigate() may be used only in the context of a <Router> component.");let a=H.useContext(zs),{basename:e,navigator:i}=H.useContext(jn),{matches:s}=H.useContext(qn),{pathname:o}=Hn(),c=JSON.stringify(qd(s)),d=H.useRef(!1);return Ev(()=>{d.current=!0}),H.useCallback((y,p={})=>{if(kn(d.current,vv),!d.current)return;if(typeof y=="number"){i.go(y);return}let E=Hd(y,JSON.parse(c),o,p.relative==="path");a==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ji([e,E.pathname])),(p.replace?i.replace:i.push)(E,p.state,p)},[e,i,c,o,a])}H.createContext(null);function Tv(){let{matches:a}=H.useContext(qn),e=a[a.length-1];return e?e.params:{}}function Co(a,{relative:e}={}){let{matches:i}=H.useContext(qn),{pathname:s}=Hn(),o=JSON.stringify(qd(i));return H.useMemo(()=>Hd(a,JSON.parse(o),s,e==="path"),[a,o,s,e])}function N1(a,e){return Sv(a,e)}function Sv(a,e,i,s){ae(ks(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(jn),{matches:c}=H.useContext(qn),d=c[c.length-1],g=d?d.params:{},y=d?d.pathname:"/",p=d?d.pathnameBase:"/",E=d&&d.route;{let Q=E&&E.path||"";Av(y,!E||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let R=Hn(),A;if(e){let Q=typeof e=="string"?Bs(e):e;ae(p==="/"||Q.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),A=Q}else A=R;let P=A.pathname||"/",U=P;if(p!=="/"){let Q=p.replace(/^\//,"").split("/");U="/"+P.replace(/^\//,"").split("/").slice(Q.length).join("/")}let X=mv(a,{pathname:U});kn(E||X!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),kn(X==null||X[X.length-1].route.element!==void 0||X[X.length-1].route.Component!==void 0||X[X.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=U1(X&&X.map(Q=>Object.assign({},Q,{params:Object.assign({},g,Q.params),pathname:ji([p,o.encodeLocation?o.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?p:ji([p,o.encodeLocation?o.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),c,i,s);return e&&G?H.createElement(wo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},G):G}function V1(){let a=k1(),e=b1(a)?`${a.status} ${a.statusText}`:a instanceof Error?a.message:JSON.stringify(a),i=a instanceof Error?a.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",a),d=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:c},"ErrorBoundary")," or"," ",H.createElement("code",{style:c},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),i?H.createElement("pre",{style:o},i):null,d)}var x1=H.createElement(V1,null),O1=class extends H.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,e){return e.location!==a.location||e.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:e.error,location:e.location,revalidation:a.revalidation||e.revalidation}}componentDidCatch(a,e){console.error("React Router caught the following error during render",a,e)}render(){return this.state.error!==void 0?H.createElement(qn.Provider,{value:this.props.routeContext},H.createElement(Gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function M1({routeContext:a,match:e,children:i}){let s=H.useContext(zs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(qn.Provider,{value:a},i)}function U1(a,e=[],i=null,s=null){if(a==null){if(!i)return null;if(i.errors)a=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)a=i.matches;else return null}let o=a,c=i?.errors;if(c!=null){let y=o.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);ae(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let d=!1,g=-1;if(i)for(let y=0;y<o.length;y++){let p=o[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=y),p.route.id){let{loaderData:E,errors:R}=i,A=p.route.loader&&!E.hasOwnProperty(p.route.id)&&(!R||R[p.route.id]===void 0);if(p.route.lazy||A){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((y,p,E)=>{let R,A=!1,P=null,U=null;i&&(R=c&&p.route.id?c[p.route.id]:void 0,P=p.route.errorElement||x1,d&&(g<0&&E===0?(Av("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):g===E&&(A=!0,U=p.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,E+1)),G=()=>{let Q;return R?Q=P:A?Q=U:p.route.Component?Q=H.createElement(p.route.Component,null):p.route.element?Q=p.route.element:Q=y,H.createElement(M1,{match:p,routeContext:{outlet:y,matches:X,isDataRoute:i!=null},children:Q})};return i&&(p.route.ErrorBoundary||p.route.errorElement||E===0)?H.createElement(O1,{location:i.location,revalidation:i.revalidation,component:P,error:R,children:G(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):G()},null)}function Fd(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L1(a){let e=H.useContext(zs);return ae(e,Fd(a)),e}function P1(a){let e=H.useContext(Lc);return ae(e,Fd(a)),e}function B1(a){let e=H.useContext(qn);return ae(e,Fd(a)),e}function Qd(a){let e=B1(a),i=e.matches[e.matches.length-1];return ae(i.route.id,`${a} can only be used on routes that contain a unique "id"`),i.route.id}function z1(){return Qd("useRouteId")}function k1(){let a=H.useContext(Gd),e=P1("useRouteError"),i=Qd("useRouteError");return a!==void 0?a:e.errors?.[i]}function j1(){let{router:a}=L1("useNavigate"),e=Qd("useNavigate"),i=H.useRef(!1);return Ev(()=>{i.current=!0}),H.useCallback(async(o,c={})=>{kn(i.current,vv),i.current&&(typeof o=="number"?a.navigate(o):await a.navigate(o,{fromRouteId:e,...c}))},[a,e])}var e_={};function Av(a,e,i){!e&&!e_[a]&&(e_[a]=!0,kn(!1,i))}H.memo(q1);function q1({routes:a,future:e,state:i}){return Sv(a,void 0,i,e)}function bv({to:a,replace:e,state:i,relative:s}){ae(ks(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=H.useContext(jn);kn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=H.useContext(qn),{pathname:d}=Hn(),g=xa(),y=Hd(a,qd(c),d,s==="path"),p=JSON.stringify(y);return H.useEffect(()=>{g(JSON.parse(p),{replace:e,state:i,relative:s})},[g,p,s,e,i]),null}function Sa(a){ae(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H1({basename:a="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){ae(!ks(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=a.replace(/^\/*/,"/"),g=H.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Bs(i));let{pathname:y="/",search:p="",hash:E="",state:R=null,key:A="default"}=i,P=H.useMemo(()=>{let U=qi(y,d);return U==null?null:{location:{pathname:U,search:p,hash:E,state:R,key:A},navigationType:s}},[d,y,p,E,R,A,s]);return kn(P!=null,`<Router basename="${d}"> is not able to match the URL "${y}${p}${E}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:H.createElement(jn.Provider,{value:g},H.createElement(wo.Provider,{children:e,value:P}))}function G1({children:a,location:e}){return N1(_d(a),e)}function _d(a,e=[]){let i=[];return H.Children.forEach(a,(s,o)=>{if(!H.isValidElement(s))return;let c=[...e,o];if(s.type===H.Fragment){i.push.apply(i,_d(s.props.children,c));return}ae(s.type===Sa,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ae(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=_d(s.props.children,c)),i.push(d)}),i}var cc="get",hc="application/x-www-form-urlencoded";function Pc(a){return a!=null&&typeof a.tagName=="string"}function F1(a){return Pc(a)&&a.tagName.toLowerCase()==="button"}function Q1(a){return Pc(a)&&a.tagName.toLowerCase()==="form"}function Y1(a){return Pc(a)&&a.tagName.toLowerCase()==="input"}function K1(a){return!!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)}function X1(a,e){return a.button===0&&(!e||e==="_self")&&!K1(a)}var ic=null;function $1(){if(ic===null)try{new FormData(document.createElement("form"),0),ic=!1}catch{ic=!0}return ic}var Z1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(a){return a!=null&&!Z1.has(a)?(kn(!1,`"${a}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hc}"`),null):a}function J1(a,e){let i,s,o,c,d;if(Q1(a)){let g=a.getAttribute("action");s=g?qi(g,e):null,i=a.getAttribute("method")||cc,o=od(a.getAttribute("enctype"))||hc,c=new FormData(a)}else if(F1(a)||Y1(a)&&(a.type==="submit"||a.type==="image")){let g=a.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=a.getAttribute("formaction")||g.getAttribute("action");if(s=y?qi(y,e):null,i=a.getAttribute("formmethod")||g.getAttribute("method")||cc,o=od(a.getAttribute("formenctype"))||od(g.getAttribute("enctype"))||hc,c=new FormData(g,a),!$1()){let{name:p,type:E,value:R}=a;if(E==="image"){let A=p?`${p}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else p&&c.append(p,R)}}else{if(Pc(a))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=cc,s=null,o=hc,d=a}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}function Yd(a,e){if(a===!1||a===null||typeof a>"u")throw new Error(e)}async function W1(a,e){if(a.id in e)return e[a.id];try{let i=await import(a.module);return e[a.id]=i,i}catch(i){return console.error(`Error loading route module \`${a.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tS(a){return a==null?!1:a.href==null?a.rel==="preload"&&typeof a.imageSrcSet=="string"&&typeof a.imageSizes=="string":typeof a.rel=="string"&&typeof a.href=="string"}async function eS(a,e,i){let s=await Promise.all(a.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await W1(c,i);return d.links?d.links():[]}return[]}));return aS(s.flat(1).filter(tS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n_(a,e,i,s,o,c){let d=(y,p)=>i[p]?y.route.id!==i[p].route.id:!0,g=(y,p)=>i[p].pathname!==y.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==y.params["*"];return c==="assets"?e.filter((y,p)=>d(y,p)||g(y,p)):c==="data"?e.filter((y,p)=>{let E=s.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(d(y,p)||g(y,p))return!0;if(y.route.shouldRevalidate){let R=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(a,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function nS(a,e,{includeHydrateFallback:i}={}){return iS(a.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function iS(a){return[...new Set(a)]}function rS(a){let e={},i=Object.keys(a).sort();for(let s of i)e[s]=a[s];return e}function aS(a,e){let i=new Set;return new Set(e),a.reduce((s,o)=>{let c=JSON.stringify(rS(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sS=new Set([100,101,204,205]);function lS(a,e){let i=typeof a=="string"?new URL(a,typeof window>"u"?"server://singlefetch/":window.location.origin):a;return i.pathname==="/"?i.pathname="_root.data":e&&qi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Rv(){let a=H.useContext(zs);return Yd(a,"You must render this element inside a <DataRouterContext.Provider> element"),a}function oS(){let a=H.useContext(Lc);return Yd(a,"You must render this element inside a <DataRouterStateContext.Provider> element"),a}var Kd=H.createContext(void 0);Kd.displayName="FrameworkContext";function wv(){let a=H.useContext(Kd);return Yd(a,"You must render this element inside a <HydratedRouter> element"),a}function uS(a,e){let i=H.useContext(Kd),[s,o]=H.useState(!1),[c,d]=H.useState(!1),{onFocus:g,onBlur:y,onMouseEnter:p,onMouseLeave:E,onTouchStart:R}=e,A=H.useRef(null);H.useEffect(()=>{if(a==="render"&&d(!0),a==="viewport"){let X=Q=>{Q.forEach(tt=>{d(tt.isIntersecting)})},G=new IntersectionObserver(X,{threshold:.5});return A.current&&G.observe(A.current),()=>{G.disconnect()}}},[a]),H.useEffect(()=>{if(s){let X=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(X)}}},[s]);let P=()=>{o(!0)},U=()=>{o(!1),d(!1)};return i?a!=="intent"?[c,A,{}]:[c,A,{onFocus:io(g,P),onBlur:io(y,U),onMouseEnter:io(p,P),onMouseLeave:io(E,U),onTouchStart:io(R,P)}]:[!1,A,{}]}function io(a,e){return i=>{a&&a(i),i.defaultPrevented||e(i)}}function cS({page:a,...e}){let{router:i}=Rv(),s=H.useMemo(()=>mv(i.routes,a,i.basename),[i.routes,a,i.basename]);return s?H.createElement(fS,{page:a,matches:s,...e}):null}function hS(a){let{manifest:e,routeModules:i}=wv(),[s,o]=H.useState([]);return H.useEffect(()=>{let c=!1;return eS(a,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[a,e,i]),s}function fS({page:a,matches:e,...i}){let s=Hn(),{manifest:o,routeModules:c}=wv(),{basename:d}=Rv(),{loaderData:g,matches:y}=oS(),p=H.useMemo(()=>n_(a,e,y,o,s,"data"),[a,e,y,o,s]),E=H.useMemo(()=>n_(a,e,y,o,s,"assets"),[a,e,y,o,s]),R=H.useMemo(()=>{if(a===s.pathname+s.search+s.hash)return[];let U=new Set,X=!1;if(e.forEach(Q=>{let tt=o.routes[Q.route.id];!tt||!tt.hasLoader||(!p.some(et=>et.route.id===Q.route.id)&&Q.route.id in g&&c[Q.route.id]?.shouldRevalidate||tt.hasClientLoader?X=!0:U.add(Q.route.id))}),U.size===0)return[];let G=lS(a,d);return X&&U.size>0&&G.searchParams.set("_routes",e.filter(Q=>U.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[G.pathname+G.search]},[d,g,s,o,p,e,a,c]),A=H.useMemo(()=>nS(E,o),[E,o]),P=hS(E);return H.createElement(H.Fragment,null,R.map(U=>H.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...i})),A.map(U=>H.createElement("link",{key:U,rel:"modulepreload",href:U,...i})),P.map(({key:U,link:X})=>H.createElement("link",{key:U,...X})))}function dS(...a){return e=>{a.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Cv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cv&&(window.__reactRouterVersion="7.6.3")}catch{}function mS({basename:a,children:e,window:i}){let s=H.useRef();s.current==null&&(s.current=e1({window:i,v5Compat:!0}));let o=s.current,[c,d]=H.useState({action:o.action,location:o.location}),g=H.useCallback(y=>{H.startTransition(()=>d(y))},[d]);return H.useLayoutEffect(()=>o.listen(g),[o,g]),H.createElement(H1,{basename:a,children:e,location:c.location,navigationType:c.action,navigator:o})}var Dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,po=H.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:g,target:y,to:p,preventScrollReset:E,viewTransition:R,...A},P){let{basename:U}=H.useContext(jn),X=typeof p=="string"&&Dv.test(p),G,Q=!1;if(typeof p=="string"&&X&&(G=p,Cv))try{let w=new URL(window.location.href),I=p.startsWith("//")?new URL(w.protocol+p):new URL(p),N=qi(I.pathname,U);I.origin===w.origin&&N!=null?p=N+I.search+I.hash:Q=!0}catch{kn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=D1(p,{relative:o}),[et,ft,ct]=uS(s,A),bt=_S(p,{replace:d,state:g,target:y,preventScrollReset:E,relative:o,viewTransition:R});function O(w){e&&e(w),w.defaultPrevented||bt(w)}let b=H.createElement("a",{...A,...ct,href:G||tt,onClick:Q||c?e:O,ref:dS(P,ft),target:y,"data-discover":!X&&i==="render"?"true":void 0});return et&&!X?H.createElement(H.Fragment,null,b,H.createElement(cS,{page:tt})):b});po.displayName="Link";var gS=H.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:g,children:y,...p},E){let R=Co(d,{relative:p.relative}),A=Hn(),P=H.useContext(Lc),{navigator:U,basename:X}=H.useContext(jn),G=P!=null&&AS(R)&&g===!0,Q=U.encodeLocation?U.encodeLocation(R).pathname:R.pathname,tt=A.pathname,et=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(tt=tt.toLowerCase(),et=et?et.toLowerCase():null,Q=Q.toLowerCase()),et&&X&&(et=qi(et,X)||et);const ft=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ct=tt===Q||!o&&tt.startsWith(Q)&&tt.charAt(ft)==="/",bt=et!=null&&(et===Q||!o&&et.startsWith(Q)&&et.charAt(Q.length)==="/"),O={isActive:ct,isPending:bt,isTransitioning:G},b=ct?e:void 0,w;typeof s=="function"?w=s(O):w=[s,ct?"active":null,bt?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(O):c;return H.createElement(po,{...p,"aria-current":b,className:w,ref:E,style:I,to:d,viewTransition:g},typeof y=="function"?y(O):y)});gS.displayName="NavLink";var pS=H.forwardRef(({discover:a="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=cc,action:g,onSubmit:y,relative:p,preventScrollReset:E,viewTransition:R,...A},P)=>{let U=TS(),X=SS(g,{relative:p}),G=d.toLowerCase()==="get"?"get":"post",Q=typeof g=="string"&&Dv.test(g),tt=et=>{if(y&&y(et),et.defaultPrevented)return;et.preventDefault();let ft=et.nativeEvent.submitter,ct=ft?.getAttribute("formmethod")||d;U(ft||et.currentTarget,{fetcherKey:e,method:ct,navigate:i,replace:o,state:c,relative:p,preventScrollReset:E,viewTransition:R})};return H.createElement("form",{ref:P,method:G,action:X,onSubmit:s?y:tt,...A,"data-discover":!Q&&a==="render"?"true":void 0})});pS.displayName="Form";function yS(a){return`${a} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Iv(a){let e=H.useContext(zs);return ae(e,yS(a)),e}function _S(a,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=xa(),y=Hn(),p=Co(a,{relative:c});return H.useCallback(E=>{if(X1(E,e)){E.preventDefault();let R=i!==void 0?i:go(y)===go(p);g(a,{replace:R,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[y,g,p,i,s,e,a,o,c,d])}var vS=0,ES=()=>`__${String(++vS)}__`;function TS(){let{router:a}=Iv("useSubmit"),{basename:e}=H.useContext(jn),i=z1();return H.useCallback(async(s,o={})=>{let{action:c,method:d,encType:g,formData:y,body:p}=J1(s,e);if(o.navigate===!1){let E=o.fetcherKey||ES();await a.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await a.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:y,body:p,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,e,i])}function SS(a,{relative:e}={}){let{basename:i}=H.useContext(jn),s=H.useContext(qn);ae(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...Co(a||".",{relative:e})},d=Hn();if(a==null){c.search=d.search;let g=new URLSearchParams(c.search),y=g.getAll("index");if(y.some(E=>E==="")){g.delete("index"),y.filter(R=>R).forEach(R=>g.append("index",R));let E=g.toString();c.search=E?`?${E}`:""}}return(!a||a===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ji([i,c.pathname])),go(c)}function AS(a,e={}){let i=H.useContext(_v);ae(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Iv("useViewTransitionState"),o=Co(a,{relative:e.relative});if(!i.isTransitioning)return!1;let c=qi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=qi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return _c(o.pathname,d)!=null||_c(o.pathname,c)!=null}[...sS];const bS=()=>{};var i_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},RS=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=a[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=a[i++],d=a[i++],g=a[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const c=a[o],d=o+1<a.length,g=d?a[o+1]:0,y=o+2<a.length,p=y?a[o+2]:0,E=c>>2,R=(c&3)<<4|g>>4;let A=(g&15)<<2|p>>6,P=p&63;y||(P=64,d||(A=64)),s.push(i[E],i[R],i[A],i[P])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Nv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):RS(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const c=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const p=o<a.length?i[a.charAt(o)]:64;++o;const R=o<a.length?i[a.charAt(o)]:64;if(++o,c==null||g==null||p==null||R==null)throw new wS;const A=c<<2|g>>4;if(s.push(A),p!==64){const P=g<<4&240|p>>2;if(s.push(P),R!==64){const U=p<<6&192|R;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class wS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CS=function(a){const e=Nv(a);return Vv.encodeByteArray(e,!0)},vc=function(a){return CS(a).replace(/\./g,"")},DS=function(a){try{return Vv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=()=>IS().__FIREBASE_DEFAULTS__,VS=()=>{if(typeof process>"u"||typeof i_>"u")return;const a=i_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},xS=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&DS(a[1]);return e&&JSON.parse(e)},Xd=()=>{try{return bS()||NS()||VS()||xS()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},OS=a=>{var e,i;return(i=(e=Xd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[a]},MS=a=>{const e=OS(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},xv=()=>{var a;return(a=Xd())===null||a===void 0?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function LS(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},a);return[vc(JSON.stringify(i)),vc(JSON.stringify(d)),""].join(".")}const oo={};function BS(){const a={prod:[],emulator:[]};for(const e of Object.keys(oo))oo[e]?a.emulator.push(e):a.prod.push(e);return a}function zS(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let r_=!1;function kS(a,e){if(typeof window>"u"||typeof document>"u"||!$d(window.location.host)||oo[a]===e||oo[a]||r_)return;oo[a]=e;function i(A){return`__firebase__banner__${A}`}const s="__firebase__banner",c=BS().prod.length>0;function d(){const A=document.getElementById(s);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function y(A,P){A.setAttribute("width","24"),A.setAttribute("id",P),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function p(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{r_=!0,d()},A}function E(A,P){A.setAttribute("id",P),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function R(){const A=zS(s),P=i("text"),U=document.getElementById(P)||document.createElement("span"),X=i("learnmore"),G=document.getElementById(X)||document.createElement("a"),Q=i("preprendIcon"),tt=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const et=A.element;g(et),E(G,X);const ft=p();y(tt,Q),et.append(tt,U,G,ft),document.body.appendChild(et)}c?(U.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qS(){var a;const e=(a=Xd())===null||a===void 0?void 0:a.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HS(){return!qS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GS(){try{return typeof indexedDB=="object"}catch{return!1}}function FS(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="FirebaseError";class js extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=QS,Object.setPrototypeOf(this,js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ov.prototype.create)}}class Ov{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?YS(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new js(o,g,s)}}function YS(a,e){return a.replace(KS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const KS=/\{\$([^}]+)}/g;function Ec(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=a[o],d=e[o];if(a_(c)&&a_(d)){if(!Ec(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function a_(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(a){return a&&a._delegate?a._delegate:a}class yo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new US;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZS(e))try{this.getOrInitializeService({instanceIdentifier:Aa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Aa){return this.instances.has(e)}getOptions(e=Aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:$S(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Aa){return this.component?this.component.multipleInstances?e:Aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $S(a){return a===Aa?void 0:a}function ZS(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new XS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const WS={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},tA=Bt.INFO,eA={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},nA=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=eA[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mv{constructor(e){this.name=e,this._logLevel=tA,this._logHandler=nA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?WS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...e),this._logHandler(this,Bt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...e),this._logHandler(this,Bt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...e),this._logHandler(this,Bt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...e),this._logHandler(this,Bt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...e),this._logHandler(this,Bt.ERROR,...e)}}const iA=(a,e)=>e.some(i=>a instanceof i);let s_,l_;function rA(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aA(){return l_||(l_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,vd=new WeakMap,Lv=new WeakMap,ud=new WeakMap,Zd=new WeakMap;function sA(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Sr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",c),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uv.set(i,a)}).catch(()=>{}),Zd.set(e,a),e}function lA(a){if(vd.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});vd.set(a,e)}let Ed={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return vd.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Lv.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function oA(a){Ed=a(Ed)}function uA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(cd(this),e,...i);return Lv.set(s,e.sort?e.sort():[e]),Sr(s)}:aA().includes(a)?function(...e){return a.apply(cd(this),e),Sr(Uv.get(this))}:function(...e){return Sr(a.apply(cd(this),e))}}function cA(a){return typeof a=="function"?uA(a):(a instanceof IDBTransaction&&lA(a),iA(a,rA())?new Proxy(a,Ed):a)}function Sr(a){if(a instanceof IDBRequest)return sA(a);if(ud.has(a))return ud.get(a);const e=cA(a);return e!==a&&(ud.set(a,e),Zd.set(e,a)),e}const cd=a=>Zd.get(a);function hA(a,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(a,e),g=Sr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Sr(d.result),y.oldVersion,y.newVersion,Sr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const fA=["get","getKey","getAll","getAllKeys","count"],dA=["put","add","delete","clear"],hd=new Map;function o_(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(hd.get(e))return hd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=dA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return hd.set(e,c),c}oA(a=>({...a,get:(e,i,s)=>o_(e,i)||a.get(e,i,s),has:(e,i)=>!!o_(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(gA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function gA(a){const e=a.getComponent();return e?.type==="VERSION"}const Td="@firebase/app",u_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Mv("@firebase/app"),pA="@firebase/app-compat",yA="@firebase/analytics-compat",_A="@firebase/analytics",vA="@firebase/app-check-compat",EA="@firebase/app-check",TA="@firebase/auth",SA="@firebase/auth-compat",AA="@firebase/database",bA="@firebase/data-connect",RA="@firebase/database-compat",wA="@firebase/functions",CA="@firebase/functions-compat",DA="@firebase/installations",IA="@firebase/installations-compat",NA="@firebase/messaging",VA="@firebase/messaging-compat",xA="@firebase/performance",OA="@firebase/performance-compat",MA="@firebase/remote-config",UA="@firebase/remote-config-compat",LA="@firebase/storage",PA="@firebase/storage-compat",BA="@firebase/firestore",zA="@firebase/ai",kA="@firebase/firestore-compat",jA="firebase",qA="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd="[DEFAULT]",HA={[Td]:"fire-core",[pA]:"fire-core-compat",[_A]:"fire-analytics",[yA]:"fire-analytics-compat",[EA]:"fire-app-check",[vA]:"fire-app-check-compat",[TA]:"fire-auth",[SA]:"fire-auth-compat",[AA]:"fire-rtdb",[bA]:"fire-data-connect",[RA]:"fire-rtdb-compat",[wA]:"fire-fn",[CA]:"fire-fn-compat",[DA]:"fire-iid",[IA]:"fire-iid-compat",[NA]:"fire-fcm",[VA]:"fire-fcm-compat",[xA]:"fire-perf",[OA]:"fire-perf-compat",[MA]:"fire-rc",[UA]:"fire-rc-compat",[LA]:"fire-gcs",[PA]:"fire-gcs-compat",[BA]:"fire-fst",[kA]:"fire-fst-compat",[zA]:"fire-vertex","fire-js":"fire-js",[jA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,GA=new Map,Ad=new Map;function c_(a,e){try{a.container.addComponent(e)}catch(i){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function Sc(a){const e=a.name;if(Ad.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,a);for(const i of Tc.values())c_(i,a);for(const i of GA.values())c_(i,a);return!0}function FA(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function QA(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new Ov("app","Firebase",YA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new yo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=qA;function Pv(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sd,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Ar.create("bad-app-name",{appName:String(o)});if(i||(i=xv()),!i)throw Ar.create("no-options");const c=Tc.get(o);if(c){if(Ec(i,c.options)&&Ec(s,c.config))return c;throw Ar.create("duplicate-app",{appName:o})}const d=new JS(o);for(const y of Ad.values())d.addComponent(y);const g=new KA(i,s,d);return Tc.set(o,g),g}function $A(a=Sd){const e=Tc.get(a);if(!e&&a===Sd&&xv())return Pv();if(!e)throw Ar.create("no-app",{appName:a});return e}function Vs(a,e,i){var s;let o=(s=HA[a])!==null&&s!==void 0?s:a;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(g.join(" "));return}Sc(new yo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firebase-heartbeat-database",JA=1,_o="firebase-heartbeat-store";let fd=null;function Bv(){return fd||(fd=hA(ZA,JA,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(_o)}catch(i){console.warn(i)}}}}).catch(a=>{throw Ar.create("idb-open",{originalErrorMessage:a.message})})),fd}async function WA(a){try{const i=(await Bv()).transaction(_o),s=await i.objectStore(_o).get(zv(a));return await i.done,s}catch(e){if(e instanceof js)Hi.warn(e.message);else{const i=Ar.create("idb-get",{originalErrorMessage:e?.message});Hi.warn(i.message)}}}async function h_(a,e){try{const s=(await Bv()).transaction(_o,"readwrite");await s.objectStore(_o).put(e,zv(a)),await s.done}catch(i){if(i instanceof js)Hi.warn(i.message);else{const s=Ar.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(s.message)}}}function zv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=1024,eb=30;class nb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=f_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>eb){const d=ab(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Hi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=f_(),{heartbeatsToSend:s,unsentEntries:o}=ib(this._heartbeatsCache.heartbeats),c=vc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Hi.warn(i),""}}}function f_(){return new Date().toISOString().substring(0,10)}function ib(a,e=tb){const i=[];let s=a.slice();for(const o of a){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),d_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),d_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class rb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GS()?FS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return h_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return h_(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function d_(a){return vc(JSON.stringify({version:2,heartbeats:a})).length}function ab(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(a){Sc(new yo("platform-logger",e=>new mA(e),"PRIVATE")),Sc(new yo("heartbeat",e=>new nb(e),"PRIVATE")),Vs(Td,u_,a),Vs(Td,u_,"esm2017"),Vs("fire-js","")}sb("");var m_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var br,kv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function w(){}w.prototype=b.prototype,O.D=b.prototype,O.prototype=new w,O.prototype.constructor=O,O.C=function(I,N,M){for(var C=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)C[zt-2]=arguments[zt];return b.prototype[N].apply(I,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,b,w){w||(w=0);var I=Array(16);if(typeof b=="string")for(var N=0;16>N;++N)I[N]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(N=0;16>N;++N)I[N]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=O.g[0],w=O.g[1],N=O.g[2];var M=O.g[3],C=b+(M^w&(N^M))+I[0]+3614090360&4294967295;b=w+(C<<7&4294967295|C>>>25),C=M+(N^b&(w^N))+I[1]+3905402710&4294967295,M=b+(C<<12&4294967295|C>>>20),C=N+(w^M&(b^w))+I[2]+606105819&4294967295,N=M+(C<<17&4294967295|C>>>15),C=w+(b^N&(M^b))+I[3]+3250441966&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(M^w&(N^M))+I[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=M+(N^b&(w^N))+I[5]+1200080426&4294967295,M=b+(C<<12&4294967295|C>>>20),C=N+(w^M&(b^w))+I[6]+2821735955&4294967295,N=M+(C<<17&4294967295|C>>>15),C=w+(b^N&(M^b))+I[7]+4249261313&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(M^w&(N^M))+I[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=M+(N^b&(w^N))+I[9]+2336552879&4294967295,M=b+(C<<12&4294967295|C>>>20),C=N+(w^M&(b^w))+I[10]+4294925233&4294967295,N=M+(C<<17&4294967295|C>>>15),C=w+(b^N&(M^b))+I[11]+2304563134&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(M^w&(N^M))+I[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=M+(N^b&(w^N))+I[13]+4254626195&4294967295,M=b+(C<<12&4294967295|C>>>20),C=N+(w^M&(b^w))+I[14]+2792965006&4294967295,N=M+(C<<17&4294967295|C>>>15),C=w+(b^N&(M^b))+I[15]+1236535329&4294967295,w=N+(C<<22&4294967295|C>>>10),C=b+(N^M&(w^N))+I[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=M+(w^N&(b^w))+I[6]+3225465664&4294967295,M=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(M^b))+I[11]+643717713&4294967295,N=M+(C<<14&4294967295|C>>>18),C=w+(M^b&(N^M))+I[0]+3921069994&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^M&(w^N))+I[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=M+(w^N&(b^w))+I[10]+38016083&4294967295,M=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(M^b))+I[15]+3634488961&4294967295,N=M+(C<<14&4294967295|C>>>18),C=w+(M^b&(N^M))+I[4]+3889429448&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^M&(w^N))+I[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=M+(w^N&(b^w))+I[14]+3275163606&4294967295,M=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(M^b))+I[3]+4107603335&4294967295,N=M+(C<<14&4294967295|C>>>18),C=w+(M^b&(N^M))+I[8]+1163531501&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(N^M&(w^N))+I[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=M+(w^N&(b^w))+I[2]+4243563512&4294967295,M=b+(C<<9&4294967295|C>>>23),C=N+(b^w&(M^b))+I[7]+1735328473&4294967295,N=M+(C<<14&4294967295|C>>>18),C=w+(M^b&(N^M))+I[12]+2368359562&4294967295,w=N+(C<<20&4294967295|C>>>12),C=b+(w^N^M)+I[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=M+(b^w^N)+I[8]+2272392833&4294967295,M=b+(C<<11&4294967295|C>>>21),C=N+(M^b^w)+I[11]+1839030562&4294967295,N=M+(C<<16&4294967295|C>>>16),C=w+(N^M^b)+I[14]+4259657740&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^M)+I[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=M+(b^w^N)+I[4]+1272893353&4294967295,M=b+(C<<11&4294967295|C>>>21),C=N+(M^b^w)+I[7]+4139469664&4294967295,N=M+(C<<16&4294967295|C>>>16),C=w+(N^M^b)+I[10]+3200236656&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^M)+I[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=M+(b^w^N)+I[0]+3936430074&4294967295,M=b+(C<<11&4294967295|C>>>21),C=N+(M^b^w)+I[3]+3572445317&4294967295,N=M+(C<<16&4294967295|C>>>16),C=w+(N^M^b)+I[6]+76029189&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(w^N^M)+I[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=M+(b^w^N)+I[12]+3873151461&4294967295,M=b+(C<<11&4294967295|C>>>21),C=N+(M^b^w)+I[15]+530742520&4294967295,N=M+(C<<16&4294967295|C>>>16),C=w+(N^M^b)+I[2]+3299628645&4294967295,w=N+(C<<23&4294967295|C>>>9),C=b+(N^(w|~M))+I[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=M+(w^(b|~N))+I[7]+1126891415&4294967295,M=b+(C<<10&4294967295|C>>>22),C=N+(b^(M|~w))+I[14]+2878612391&4294967295,N=M+(C<<15&4294967295|C>>>17),C=w+(M^(N|~b))+I[5]+4237533241&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~M))+I[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=M+(w^(b|~N))+I[3]+2399980690&4294967295,M=b+(C<<10&4294967295|C>>>22),C=N+(b^(M|~w))+I[10]+4293915773&4294967295,N=M+(C<<15&4294967295|C>>>17),C=w+(M^(N|~b))+I[1]+2240044497&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~M))+I[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=M+(w^(b|~N))+I[15]+4264355552&4294967295,M=b+(C<<10&4294967295|C>>>22),C=N+(b^(M|~w))+I[6]+2734768916&4294967295,N=M+(C<<15&4294967295|C>>>17),C=w+(M^(N|~b))+I[13]+1309151649&4294967295,w=N+(C<<21&4294967295|C>>>11),C=b+(N^(w|~M))+I[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=M+(w^(b|~N))+I[11]+3174756917&4294967295,M=b+(C<<10&4294967295|C>>>22),C=N+(b^(M|~w))+I[2]+718787259&4294967295,N=M+(C<<15&4294967295|C>>>17),C=w+(M^(N|~b))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+M&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var w=b-this.blockSize,I=this.B,N=this.h,M=0;M<b;){if(N==0)for(;M<=w;)o(this,O,M),M+=this.blockSize;if(typeof O=="string"){for(;M<b;)if(I[N++]=O.charCodeAt(M++),N==this.blockSize){o(this,I),N=0;break}}else for(;M<b;)if(I[N++]=O[M++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var w=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=w&255,w/=256;for(this.u(O),O=Array(16),b=w=0;4>b;++b)for(var I=0;32>I;I+=8)O[w++]=this.g[b]>>>I&255;return O};function c(O,b){var w=g;return Object.prototype.hasOwnProperty.call(w,O)?w[O]:w[O]=b(O)}function d(O,b){this.h=b;for(var w=[],I=!0,N=O.length-1;0<=N;N--){var M=O[N]|0;I&&M==b||(w[N]=M,I=!1)}this.g=w}var g={};function y(O){return-128<=O&&128>O?c(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return R;if(0>O)return G(p(-O));for(var b=[],w=1,I=0;O>=w;I++)b[I]=O/w|0,w*=4294967296;return new d(b,0)}function E(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return G(E(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=p(Math.pow(b,8)),I=R,N=0;N<O.length;N+=8){var M=Math.min(8,O.length-N),C=parseInt(O.substring(N,N+M),b);8>M?(M=p(Math.pow(b,M)),I=I.j(M).add(p(C))):(I=I.j(w),I=I.add(p(C)))}return I}var R=y(0),A=y(1),P=y(16777216);a=d.prototype,a.m=function(){if(X(this))return-G(this).m();for(var O=0,b=1,w=0;w<this.g.length;w++){var I=this.i(w);O+=(0<=I?I:4294967296+I)*b,b*=4294967296}return O},a.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(U(this))return"0";if(X(this))return"-"+G(this).toString(O);for(var b=p(Math.pow(O,6)),w=this,I="";;){var N=ft(w,b).g;w=Q(w,N.j(b));var M=((0<w.g.length?w.g[0]:w.h)>>>0).toString(O);if(w=N,U(w))return M+I;for(;6>M.length;)M="0"+M;I=M+I}},a.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function U(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function X(O){return O.h==-1}a.l=function(O){return O=Q(this,O),X(O)?-1:U(O)?0:1};function G(O){for(var b=O.g.length,w=[],I=0;I<b;I++)w[I]=~O.g[I];return new d(w,~O.h).add(A)}a.abs=function(){return X(this)?G(this):this},a.add=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],I=0,N=0;N<=b;N++){var M=I+(this.i(N)&65535)+(O.i(N)&65535),C=(M>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);I=C>>>16,M&=65535,C&=65535,w[N]=C<<16|M}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Q(O,b){return O.add(G(b))}a.j=function(O){if(U(this)||U(O))return R;if(X(this))return X(O)?G(this).j(G(O)):G(G(this).j(O));if(X(O))return G(this.j(G(O)));if(0>this.l(P)&&0>O.l(P))return p(this.m()*O.m());for(var b=this.g.length+O.g.length,w=[],I=0;I<2*b;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<O.g.length;N++){var M=this.i(I)>>>16,C=this.i(I)&65535,zt=O.i(N)>>>16,Ot=O.i(N)&65535;w[2*I+2*N]+=C*Ot,tt(w,2*I+2*N),w[2*I+2*N+1]+=M*Ot,tt(w,2*I+2*N+1),w[2*I+2*N+1]+=C*zt,tt(w,2*I+2*N+1),w[2*I+2*N+2]+=M*zt,tt(w,2*I+2*N+2)}for(I=0;I<b;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=b;I<2*b;I++)w[I]=0;return new d(w,0)};function tt(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function et(O,b){this.g=O,this.h=b}function ft(O,b){if(U(b))throw Error("division by zero");if(U(O))return new et(R,R);if(X(O))return b=ft(G(O),b),new et(G(b.g),G(b.h));if(X(b))return b=ft(O,G(b)),new et(G(b.g),b.h);if(30<O.g.length){if(X(O)||X(b))throw Error("slowDivide_ only works with positive integers.");for(var w=A,I=b;0>=I.l(O);)w=ct(w),I=ct(I);var N=bt(w,1),M=bt(I,1);for(I=bt(I,2),w=bt(w,2);!U(I);){var C=M.add(I);0>=C.l(O)&&(N=N.add(w),M=C),I=bt(I,1),w=bt(w,1)}return b=Q(O,N.j(b)),new et(N,b)}for(N=R;0<=O.l(b);){for(w=Math.max(1,Math.floor(O.m()/b.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),M=p(w),C=M.j(b);X(C)||0<C.l(O);)w-=I,M=p(w),C=M.j(b);U(M)&&(M=A),N=N.add(M),O=Q(O,C)}return new et(N,O)}a.A=function(O){return ft(this,O).h},a.and=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],I=0;I<b;I++)w[I]=this.i(I)&O.i(I);return new d(w,this.h&O.h)},a.or=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],I=0;I<b;I++)w[I]=this.i(I)|O.i(I);return new d(w,this.h|O.h)},a.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),w=[],I=0;I<b;I++)w[I]=this.i(I)^O.i(I);return new d(w,this.h^O.h)};function ct(O){for(var b=O.g.length+1,w=[],I=0;I<b;I++)w[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(w,O.h)}function bt(O,b){var w=b>>5;b%=32;for(var I=O.g.length-w,N=[],M=0;M<I;M++)N[M]=0<b?O.i(M+w)>>>b|O.i(M+w+1)<<32-b:O.i(M+w);return new d(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,kv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=E,br=d}).apply(typeof m_<"u"?m_:typeof self<"u"?self:typeof window<"u"?window:{});var rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jv,ro,qv,fc,bd,Hv,Gv,Fv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof rc=="object"&&rc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in _))break t;_=_[B]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,S=!1,B={next:function(){if(!S&&_<u.length){var F=_++;return{value:m(F,u[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function R(u,m,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),u.apply(m,B)}}return function(){return u.apply(m,arguments)}}function A(u,m,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,A.apply(null,arguments)}function P(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function U(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,B,F){for(var st=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)st[Mt-2]=arguments[Mt];return m.prototype[B].apply(S,st)}}function X(u){const m=u.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function G(u,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(y(S)){const B=u.length||0,F=S.length||0;u.length=B+F;for(let st=0;st<F;st++)u[B+st]=S[st]}else u.push(S)}}class Q{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ft(u){return ft[" "](u),u}ft[" "]=function(){};var ct=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function bt(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function b(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let _,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(_ in S)u[_]=S[_];for(let F=0;F<w.length;F++)_=w[F],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function N(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function M(u){g.setTimeout(()=>{throw u},0)}function C(){var u=jt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class zt{constructor(){this.h=this.g=null}add(m,_){const S=Ot.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Ot=new Q(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,ot=!1,jt=new zt,V=()=>{const u=g.Promise.resolve(void 0);at=()=>{u.then(nt)}};var nt=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){M(_)}var m=Ot;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Dt(u,m){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ct){t:{try{ft(m.nodeName);var B=!0;break t}catch{}B=!1}B||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Dt.aa.h.call(this)}}U(Dt,rt);var Tt={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),te=0;function Gn(u,m,_,S,B){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=B,this.key=++te,this.da=this.fa=!1}function Qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gi(u){this.src=u,this.g={},this.h=0}gi.prototype.add=function(u,m,_,S,B){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var st=Br(u,m,S,B);return-1<st?(m=u[st],_||(m.fa=!1)):(m=new Gn(m,this.src,F,!!S,B),m.fa=_,u.push(m)),m};function Pr(u,m){var _=m.type;if(_ in u.g){var S=u.g[_],B=Array.prototype.indexOf.call(S,m,void 0),F;(F=0<=B)&&Array.prototype.splice.call(S,B,1),F&&(Qi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Br(u,m,_,S){for(var B=0;B<u.length;++B){var F=u[B];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==S)return B}return-1}var zr="closure_lm_"+(1e6*Math.random()|0),Qs={};function Oo(u,m,_,S,B){if(Array.isArray(m)){for(var F=0;F<m.length;F++)Oo(u,m[F],_,S,B);return null}return _=Mo(_),u&&u[Ve]?u.K(m,_,p(S)?!!S.capture:!1,B):vn(u,m,_,!1,S,B)}function vn(u,m,_,S,B,F){if(!m)throw Error("Invalid event type");var st=p(B)?!!B.capture:!!B,Mt=La(u);if(Mt||(u[zr]=Mt=new gi(u)),_=Mt.add(m,_,S,st,F),_.proxy)return _;if(S=th(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)gt||(B=st),B===void 0&&(B=!1),u.addEventListener(m.toString(),S,B);else if(u.attachEvent)u.attachEvent(kr(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function th(){function u(_){return m.call(u.src,u.listener,_)}const m=eh;return u}function Ys(u,m,_,S,B){if(Array.isArray(m))for(var F=0;F<m.length;F++)Ys(u,m[F],_,S,B);else S=p(S)?!!S.capture:!!S,_=Mo(_),u&&u[Ve]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],_=Br(F,_,S,B),-1<_&&(Qi(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=La(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Br(m,_,S,B)),(_=-1<u?m[u]:null)&&Ua(_))}function Ua(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ve])Pr(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(kr(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=La(m))?(Pr(_,u),_.h==0&&(_.src=null,m[zr]=null)):Qi(u)}}}function kr(u){return u in Qs?Qs[u]:Qs[u]="on"+u}function eh(u,m){if(u.da)u=!0;else{m=new Dt(m,this);var _=u.listener,S=u.ha||u.src;u.fa&&Ua(u),u=_.call(S,m)}return u}function La(u){return u=u[zr],u instanceof gi?u:null}var Ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mo(u){return typeof u=="function"?u:(u[Ks]||(u[Ks]=function(m){return u.handleEvent(m)}),u[Ks])}function ue(){lt.call(this),this.i=new gi(this),this.M=this,this.F=null}U(ue,lt),ue.prototype[Ve]=!0,ue.prototype.removeEventListener=function(u,m,_,S){Ys(this,u,m,_,S)};function Ft(u,m){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new rt(m,u);else if(m instanceof rt)m.target=m.target||u;else{var B=m;m=new rt(S,u),I(m,B)}if(B=!0,_)for(var F=_.length-1;0<=F;F--){var st=m.g=_[F];B=un(st,S,!0,m)&&B}if(st=m.g=u,B=un(st,S,!0,m)&&B,B=un(st,S,!1,m)&&B,_)for(F=0;F<_.length;F++)st=m.g=_[F],B=un(st,S,!1,m)&&B}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],S=0;S<_.length;S++)Qi(_[S]);delete u.g[m],u.h--}}this.F=null},ue.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},ue.prototype.L=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function un(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var B=!0,F=0;F<m.length;++F){var st=m[F];if(st&&!st.da&&st.capture==_){var Mt=st.listener,be=st.ha||st.src;st.fa&&Pr(u.i,st),B=Mt.call(be,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ye(u,m,_){if(typeof u=="function")_&&(u=A(u,_));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Uo(u){u.g=Ye(()=>{u.g=null,u.i&&(u.i=!1,Uo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nh extends lt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(u){lt.call(this),this.h=u,this.g={}}U(jr,lt);var qr=[];function Hr(u){bt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ua(m)},u),u.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Hr(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,Pa=g.JSON.parse,Gr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Xs(){}Xs.prototype.h=null;function $s(u){return u.h||(u.h=u.i())}function Zs(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){rt.call(this,"d")}U(yi,rt);function Js(){rt.call(this,"c")}U(Js,rt);var Fn={},Ws=null;function Yi(){return Ws=Ws||new ue}Fn.La="serverreachability";function Ba(u){rt.call(this,Fn.La,u)}U(Ba,rt);function Ki(u){const m=Yi();Ft(m,new Ba(m))}Fn.STAT_EVENT="statevent";function Lo(u,m){rt.call(this,Fn.STAT_EVENT,u),this.stat=m}U(Lo,rt);function ie(u){const m=Yi();Ft(m,new Lo(m,u))}Fn.Ma="timingevent";function Ae(u,m){rt.call(this,Fn.Ma,u),this.size=m}U(Ae,rt);function pe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function tl(u,m,_,S,B,F){u.info(function(){if(u.g)if(F)for(var st="",Mt=F.split("&"),be=0;be<Mt.length;be++){var Ut=Mt[be].split("=");if(1<Ut.length){var Oe=Ut[0];Ut=Ut[1];var Re=Oe.split("_");st=2<=Re.length&&Re[1]=="type"?st+(Oe+"="+Ut+"&"):st+(Oe+"=redacted&")}}else st=null;else st=F;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+m+`
`+_+`
`+st})}function ih(u,m,_,S,B,F,st){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+m+`
`+_+`
`+F+" "+st})}function Xi(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fr(u,_)+(S?" "+S:"")})}function Po(u,m){u.info(function(){return"TIMEOUT: "+m})}En.prototype.info=function(){};function Fr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var F=B[0];if(F!="noop"&&F!="stop"&&F!="close")for(var st=1;st<B.length;st++)B[st]=""}}}}return On(_)}catch{return m}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qn;function Yn(){}U(Yn,Xs),Yn.prototype.g=function(){return new XMLHttpRequest},Yn.prototype.i=function(){return{}},Qn=new Yn;function We(u,m,_,S){this.j=u,this.i=m,this.l=_,this.R=S||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fe}function fe(){this.i=null,this.g="",this.h=!1}var el={},za={};function Mn(u,m,_){u.L=1,u.v=$r(cn(m)),u.m=_,u.P=!0,vi(u,null)}function vi(u,m){u.F=Date.now(),Qr(u),u.A=cn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ll(_.i,"t",S),u.C=0,_=u.j.J,u.h=new fe,u.g=Wo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new nh(A(u.Y,u,u.g),u.O)),m=u.U,_=u.g,S=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(qr[0]=B.toString()),B=qr);for(var F=0;F<B.length;F++){var st=Oo(_,B[F],S||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ki(),tl(u.i,u.u,u.A,u.l,u.R,u.m)}We.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},We.prototype.Y=function(u){try{if(u==this.g)t:{const Re=bn(this.g);var m=this.g.Ba();const Ci=this.g.Z();if(!(3>Re)&&(Re!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||Re!=4||m==7||(m==8||0>=Ci?Ki(3):Ki(2)),Zi(this);var _=this.g.Z();this.X=_;e:if(Bo(this)){var S=Fo(this.g);u="";var B=S.length,F=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Kn(this);var st="";break e}this.h.i=new g.TextDecoder}for(m=0;m<B;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(F&&m==B-1)});S.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=_==200,ih(this.i,this.u,this.A,this.l,this.R,Re,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,be=this.g;if((Mt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tt(Mt)){var Ut=Mt;break e}}Ut=null}if(_=Ut)Xi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,_);else{this.o=!1,this.s=3,ie(12),ze(this),Kn(this);break t}}if(this.P){_=!0;let ke;for(;!this.J&&this.C<st.length;)if(ke=zo(this,st),ke==za){Re==4&&(this.s=4,ie(14),_=!1),Xi(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==el){this.s=4,ie(15),Xi(this.i,this.l,st,"[Invalid Chunk]"),_=!1;break}else Xi(this.i,this.l,ke,null),Yr(this,ke);if(Bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||st.length!=0||this.h.h||(this.s=1,ie(16),_=!1),this.o=this.o&&_,!_)Xi(this.i,this.l,st,"[Invalid Chunked Response]"),ze(this),Kn(this);else if(0<st.length&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.ba&&!Oe.M&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),ra(Oe),Oe.M=!0,ie(11))}}else Xi(this.i,this.l,st,null),Yr(this,st);Re==4&&ze(this),this.o&&!this.J&&(Re==4?$o(this.j,this):(this.o=!1,Qr(this)))}else oh(this.g),_==400&&0<st.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),ze(this),Kn(this)}}}catch{}finally{}};function Bo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function zo(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?za:(_=Number(m.substring(_,S)),isNaN(_)?el:(S+=1,S+_>m.length?za:(m=m.slice(S,S+_),u.C=S+_,m)))}We.prototype.cancel=function(){this.J=!0,ze(this)};function Qr(u){u.S=Date.now()+u.I,ko(u,u.I)}function ko(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=pe(A(u.ba,u),m)}function Zi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}We.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Po(this.i,this.A),this.L!=2&&(Ki(),ie(17)),ze(this),this.s=2,Kn(this)):ko(this,this.S-u)};function Kn(u){u.j.G==0||u.J||$o(u.j,u)}function ze(u){Zi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Hr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Yr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||nl(_.h,u))){if(!u.K&&nl(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Za(_),Xa(_);else break t;fl(_),ie(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=pe(A(_.Za,_),6e3));if(1>=ja(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else wi(_,11)}else if((u.K||_.g==u)&&Za(_),!tt(m))for(B=_.Da.g.parse(m),m=0;m<B.length;m++){let Ut=B[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Oe=Ut[3];Oe!=null&&(_.la=Oe,_.j.info("VER="+_.la));const Re=Ut[4];Re!=null&&(_.Aa=Re,_.j.info("SVER="+_.Aa));const Ci=Ut[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(S=1.5*Ci,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const ke=u.g;if(ke){const ei=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var F=S.h;F.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(qa(F,F.h),F.h=null))}if(S.D){const ml=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;ml&&(S.ya=ml,Kt(S.I,S.D,ml))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var st=u;if(S.qa=Jo(S,S.J?S.ia:null,S.W),st.K){tn(S.h,st);var Mt=st,be=S.L;be&&(Mt.I=be),Mt.B&&(Zi(Mt),Qr(Mt)),S.g=st}else Ko(S);0<_.i.length&&$a(_)}else Ut[0]!="stop"&&Ut[0]!="close"||wi(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?wi(_,7):cl(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Ki(4)}catch{}}var jo=class{constructor(u,m){this.g=u,this.map=m}};function Ei(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ja(u){return u.h?1:u.g?u.g.size:0}function nl(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function qa(u,m){u.g?u.g.add(m):u.h=m}function tn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ei.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function il(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return X(u.i)}function rh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,S=0;S<_;S++)m.push(u[S]);return m}m=[],_=0;for(S in u)m[_++]=u[S];return m}function Ha(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const S in u)m[_++]=S;return m}}}function rl(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Ha(u),S=rh(u),B=S.length,F=0;F<B;F++)m.call(void 0,S[F],_&&_[F],u)}var Kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ah(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),B=null;if(0<=S){var F=u[_].substring(0,S);B=u[_].substring(S+1)}else F=u[_];m(F,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function ye(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ye){this.h=u.h,Xr(this,u.j),this.o=u.o,this.g=u.g,Ji(this,u.s),this.l=u.l;var m=u.i,_=new Si;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ti(this,_),this.m=u.m}else u&&(m=String(u).match(Kr))?(this.h=!1,Xr(this,m[1]||"",!0),this.o=Tn(m[2]||""),this.g=Tn(m[3]||"",!0),Ji(this,m[4]),this.l=Tn(m[5]||"",!0),Ti(this,m[6]||"",!0),this.m=Tn(m[7]||"")):(this.h=!1,this.i=new Si(null,this.h))}ye.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Zr(m,al,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zr(m,al,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Zr(_,_.charAt(0)=="/"?sh:sl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Zr(_,Ga)),u.join("")};function cn(u){return new ye(u)}function Xr(u,m,_){u.j=_?Tn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ji(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ti(u,m,_){m instanceof Si?(u.i=m,Ho(u.i,u.h)):(_||(m=Zr(m,lh)),u.i=new Si(m,u.h))}function Kt(u,m,_){u.i.set(m,_)}function $r(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,qo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var al=/[#\/\?@]/g,sl=/[#\?:]/g,sh=/[#\?]/g,lh=/[#\?@]/g,Ga=/#/g;function Si(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Sn(u){u.g||(u.g=new Map,u.h=0,u.i&&ah(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}a=Si.prototype,a.add=function(u,m){Sn(this),this.i=null,u=Xn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ai(u,m){Sn(u),m=Xn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bi(u,m){return Sn(u),m=Xn(u,m),u.g.has(m)}a.forEach=function(u,m){Sn(this),this.g.forEach(function(_,S){_.forEach(function(B){u.call(m,B,S,this)},this)},this)},a.na=function(){Sn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const B=u[S];for(let F=0;F<B.length;F++)_.push(m[S])}return _},a.V=function(u){Sn(this);let m=[];if(typeof u=="string")bi(this,u)&&(m=m.concat(this.g.get(Xn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},a.set=function(u,m){return Sn(this),this.i=null,u=Xn(this,u),bi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ll(u,m,_){Ai(u,m),0<_.length&&(u.i=null,u.g.set(Xn(u,m),X(_)),u.h+=_.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const F=encodeURIComponent(String(S)),st=this.V(S);for(S=0;S<st.length;S++){var B=F;st[S]!==""&&(B+="="+encodeURIComponent(String(st[S]))),u.push(B)}}return this.i=u.join("&")};function Xn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ho(u,m){m&&!u.j&&(Sn(u),u.i=null,u.g.forEach(function(_,S){var B=S.toLowerCase();S!=B&&(Ai(this,S),ll(this,B,_))},u)),u.j=m}function Jr(u,m){const _=new En;if(g.Image){const S=new Image;S.onload=P(An,_,"TestLoadImage: loaded",!0,m,S),S.onerror=P(An,_,"TestLoadImage: error",!1,m,S),S.onabort=P(An,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=P(An,_,"TestLoadImage: timeout",!1,m,S),g.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Un(u,m){const _=new En,S=new AbortController,B=setTimeout(()=>{S.abort(),An(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(F=>{clearTimeout(B),F.ok?An(_,"TestPingServer: ok",!0,m):An(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(B),An(_,"TestPingServer: error",!1,m)})}function An(u,m,_,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(_)}catch{}}function Wr(){this.g=new Gr}function $n(u,m,_){const S=_||"";try{rl(u,function(B,F){let st=B;p(B)&&(st=On(B)),m.push(S+F+"="+encodeURIComponent(st))})}catch(B){throw m.push(S+"type="+encodeURIComponent("_badmap")),B}}function Wi(u){this.l=u.Ub||null,this.j=u.eb||!1}U(Wi,Xs),Wi.prototype.g=function(){return new Ri(this.l,this.j)},Wi.prototype.i=function(u){return function(){return u}}({});function Ri(u,m){ue.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Ri,ue),a=Ri.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Jn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Zn(this):Jn(this),this.readyState==3&&ol(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Zn(this))},a.Qa=function(u){this.g&&(this.response=u,Zn(this))},a.ga=function(){this.g&&Zn(this)};function Zn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Jn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ul(u){let m="";return bt(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function xe(u,m,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=ul(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Kt(u,m,_))}function Ht(u){ue.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Ht,ue);var Fa=/^https?$/i,ta=["POST","PUT"];a=Ht.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qn.g(),this.v=this.o?$s(this.o):$s(Qn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Go(this,F);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)_.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),B=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ta,m,void 0))||S||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,st]of _)this.g.setRequestHeader(F,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ea(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Go(this,F)}};function Go(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Qa(u),Wn(u)}function Qa(u){u.A||(u.A=!0,Ft(u,"complete"),Ft(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ft(this,"complete"),Ft(this,"abort"),Wn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Ht.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ya(this):this.bb())},a.bb=function(){Ya(this)};function Ya(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)Ye(u.Ea,0,u);else if(Ft(u,"readystatechange"),bn(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var S;if(S=st===0){var B=String(u.D).match(Kr)[1]||null;!B&&g.self&&g.self.location&&(B=g.self.location.protocol.slice(0,-1)),S=!Fa.test(B?B.toLowerCase():"")}_=S}if(_)Ft(u,"complete"),Ft(u,"success");else{u.m=6;try{var F=2<bn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Qa(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){ea(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ft(u,"ready");try{_.onreadystatechange=S}catch{}}}function ea(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Pa(m)}};function Fo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function oh(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(tt(u[S]))continue;var _=N(u[S]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[B]||[];m[B]=F,F.push(_)}O(m,function(S){return S.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function na(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ka(u){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=na("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=na("baseRetryDelayMs",5e3,u),this.cb=na("retryDelaySeedMs",1e4,u),this.Wa=na("forwardChannelMaxRetries",2,u),this.wa=na("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ei(u&&u.concurrentRequestLimit),this.Da=new Wr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Ka.prototype,a.la=8,a.G=1,a.connect=function(u,m,_,S){ie(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Jo(this,null,this.W),$a(this)};function cl(u){if(Qo(u),u.G==3){var m=u.U++,_=cn(u.I);if(Kt(_,"SID",u.K),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),ia(u,_),m=new We(u,u.j,m),m.L=2,m.v=$r(cn(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=Wo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Qr(m)}Zo(u)}function Xa(u){u.g&&(ra(u),u.g.cancel(),u.g=null)}function Qo(u){Xa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function $a(u){if(!ka(u.h)&&!u.s){u.s=!0;var m=u.Ga;at||V(),ot||(at(),ot=!0),jt.add(m,u),u.B=0}}function uh(u,m){return ja(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=pe(A(u.Ga,u,m),dl(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new We(this,this.j,u);let F=this.o;if(this.S&&(F?(F=b(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(B.H=F,F=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Yo(this,B,m),_=cn(this.I),Kt(_,"RID",u),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),ia(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(ul(F)))+"&"+m:this.m&&xe(_,this.m,F)),qa(this.h,B),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",m),Kt(_,"SID","null"),B.T=!0,Mn(B,_,null)):Mn(B,_,m),this.G=2}}else this.G==3&&(u?hl(this,u):this.i.length==0||ka(this.h)||hl(this))};function hl(u,m){var _;m?_=m.l:_=u.U++;const S=cn(u.I);Kt(S,"SID",u.K),Kt(S,"RID",_),Kt(S,"AID",u.T),ia(u,S),u.m&&u.o&&xe(S,u.m,u.o),_=new We(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Yo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),qa(u.h,_),Mn(_,S,m)}function ia(u,m){u.H&&bt(u.H,function(_,S){Kt(m,S,_)}),u.l&&rl({},function(_,S){Kt(m,S,_)})}function Yo(u,m,_){_=Math.min(u.i.length,_);var S=u.l?A(u.l.Na,u.l,u):null;t:{var B=u.i;let F=-1;for(;;){const st=["count="+_];F==-1?0<_?(F=B[0].g,st.push("ofs="+F)):F=0:st.push("ofs="+F);let Mt=!0;for(let be=0;be<_;be++){let Ut=B[be].g;const Oe=B[be].map;if(Ut-=F,0>Ut)F=Math.max(0,B[be].g-100),Mt=!1;else try{$n(Oe,st,"req"+Ut+"_")}catch{S&&S(Oe)}}if(Mt){S=st.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,S}function Ko(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;at||V(),ot||(at(),ot=!0),jt.add(m,u),u.v=0}}function fl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=pe(A(u.Fa,u),dl(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,Xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=pe(A(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Xa(this),Xo(this))};function ra(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Xo(u){u.g=new We(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=cn(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),ia(u,m),u.m&&u.o&&xe(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=$r(cn(m)),_.m=null,_.P=!0,vi(_,u)}a.Za=function(){this.C!=null&&(this.C=null,Xa(this),fl(this),ie(19))};function Za(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function $o(u,m){var _=null;if(u.g==m){Za(u),ra(u),u.g=null;var S=2}else if(nl(u.h,m))_=m.D,tn(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var B=u.B;S=Yi(),Ft(S,new Ae(S,_)),$a(u)}else Ko(u);else if(B=m.s,B==3||B==0&&0<m.X||!(S==1&&uh(u,m)||S==2&&fl(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),B){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function dl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var _=A(u.fb,u),S=u.Xa;const B=!S;S=new ye(S||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xr(S,"https"),$r(S),B?Jr(S.toString(),_):Un(S.toString(),_)}else ie(2);u.G=0,u.l&&u.l.sa(m),Zo(u),Qo(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function Zo(u){if(u.G=0,u.ka=[],u.l){const m=il(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ka,m),G(u.ka,u.i),u.h.i.length=0,X(u.i),u.i.length=0),u.l.ra()}}function Jo(u,m,_){var S=_ instanceof ye?cn(_):new ye(_);if(S.g!="")m&&(S.g=m+"."+S.g),Ji(S,S.s);else{var B=g.location;S=B.protocol,m=m?m+"."+B.hostname:B.hostname,B=+B.port;var F=new ye(null);S&&Xr(F,S),m&&(F.g=m),B&&Ji(F,B),_&&(F.l=_),S=F}return _=u.D,m=u.ya,_&&m&&Kt(S,_,m),Kt(S,"VER",u.la),ia(u,S),S}function Wo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Ht(new Wi({eb:_})):new Ht(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}a=tu.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ja(){}Ja.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ue.call(this),this.g=new Ka(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!tt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!tt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ti(this)}U(en,ue),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){cl(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=On(u),u=_);m.i.push(new jo(m.Ya++,u)),m.G==3&&$a(m)},en.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,en.aa.N.call(this)};function eu(u){yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}U(eu,yi);function nu(){Js.call(this),this.status=1}U(nu,Js);function ti(u){this.g=u}U(ti,tu),ti.prototype.ua=function(){Ft(this.g,"a")},ti.prototype.ta=function(u){Ft(this.g,new eu(u))},ti.prototype.sa=function(u){Ft(this.g,new nu)},ti.prototype.ra=function(){Ft(this.g,"b")},Ja.prototype.createWebChannel=Ja.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Fv=function(){return new Ja},Gv=function(){return Yi()},Hv=Fn,bd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,fc=$i,_i.COMPLETE="complete",qv=_i,Zs.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",ue.prototype.listen=ue.prototype.K,ro=Zs,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,jv=Ht}).apply(typeof rc<"u"?rc:typeof self<"u"?self:typeof window<"u"?window:{});const g_="@firebase/firestore",p_="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qs="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Mv("@firebase/firestore");function Cs(){return Ia.logLevel}function ut(a,...e){if(Ia.logLevel<=Bt.DEBUG){const i=e.map(Jd);Ia.debug(`Firestore (${qs}): ${a}`,...i)}}function Gi(a,...e){if(Ia.logLevel<=Bt.ERROR){const i=e.map(Jd);Ia.error(`Firestore (${qs}): ${a}`,...i)}}function Dr(a,...e){if(Ia.logLevel<=Bt.WARN){const i=e.map(Jd);Ia.warn(`Firestore (${qs}): ${a}`,...i)}}function Jd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,Qv(a,s,i)}function Qv(a,e,i){let s=`FIRESTORE (${qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Gi(s),new Error(s)}function Gt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||Qv(e,o,s)}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends js{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ze.UNAUTHENTICATED))}shutdown(){}}class ob{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class ub{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Gt(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new Rr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Rr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Rr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Gt(typeof s.accessToken=="string",31837,{l:s}),new Yv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gt(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}}class cb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new cb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fb{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,QA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Gt(this.o===void 0,3512);const s=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new y_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=db(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ct(a,e){return a<e?-1:a>e?1:0}function Rd(a,e){let i=0;for(;i<a.length&&i<e.length;){const s=a.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Ct(s,o);{const c=Kv(),d=mb(c.encode(__(a,i)),c.encode(__(e,i)));return d!==0?d:Ct(s,o)}}i+=s>65535?2:1}return Ct(a.length,e.length)}function __(a,e){return a.codePointAt(e)>65535?a.substring(e,e+2):a.substring(e,e+1)}function mb(a,e){for(let i=0;i<a.length&&i<e.length;++i)if(a[i]!==e[i])return Ct(a[i],e[i]);return Ct(a.length,e.length)}function Os(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__name__";class li{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return li.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof li?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=li.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ct(e.length,i.length)}static compareSegments(e,i){const s=li.isNumericId(e),o=li.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?li.extractNumericId(e).compare(li.extractNumericId(i)):Rd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return br.fromString(e.substring(4,e.length-2))}}class le extends li{construct(e,i,s){return new le(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new dt(it.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new le(i)}static emptyPath(){return new le([])}}const gb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends li{construct(e,i,s){return new Fe(e,i,s)}static isValidIdentifier(e){return gb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new Fe([v_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new dt(it.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new dt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new dt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new dt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fe(i)}static emptyPath(){return new Fe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.path=e}static fromPath(e){return new pt(le.fromString(e))}static fromName(e){return new pt(le.fromString(e).popFirst(5))}static empty(){return new pt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return le.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pt(new le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(a,e,i){if(!i)throw new dt(it.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function yb(a,e,i,s){if(e===!0&&s===!0)throw new dt(it.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function E_(a){if(!pt.isDocumentKey(a))throw new dt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function Xv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function tm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function Na(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new dt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=tm(a);throw new dt(it.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(a,e){const i={typeString:a};return e&&(i.value=e),i}function Do(a,e){if(!Xv(a))throw new dt(it.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new dt(it.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_=-62135596800,S_=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(e){return ne.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*S_);return new ne(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<T_)throw new dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S_}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Do(e,ne._jsonSchema))return new ne(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-T_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Se("string",ne._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new ne(0,0))}static max(){return new St(new ne(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=-1;function _b(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new ne(i+1,0):new ne(i,s));return new Ir(o,pt.empty(),e)}function vb(a){return new Ir(a.readTime,a.key,vo)}class Ir{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Ir(St.min(),pt.empty(),vo)}static max(){return new Ir(St.max(),pt.empty(),vo)}}function Eb(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=pt.comparator(a.documentKey,e.documentKey),i!==0?i:Ct(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(a){if(a.code!==it.FAILED_PRECONDITION||a.message!==Tb)throw a;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):W.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):W.reject(i)}static resolve(e){return new W((i,s)=>{i(e)})}static reject(e){return new W((i,s)=>{s(e)})}static waitFor(e){return new W((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},y=>s(y))}),d=!0,c===o&&i()})}static or(e){let i=W.resolve(!1);for(const s of e)i=i.next(o=>o?W.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new W((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;i(e[p]).next(E=>{d[p]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new W((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function Ab(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Gs(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this._e(s),this.ae=s=>i.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Bc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=-1;function zc(a){return a==null}function Ac(a){return a===0&&1/a==-1/0}function bb(a){return typeof a=="number"&&Number.isInteger(a)&&!Ac(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="";function Rb(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=A_(e)),e=wb(a.get(i),e);return A_(e)}function wb(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const c=a.charAt(o);switch(c){case"\0":i+="";break;case $v:i+="";break;default:i+=c}}return i}function A_(a){return a+$v+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ur(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function Zv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e,i){this.comparator=e,this.root=i||Ge.EMPTY}insert(e,i){return new oe(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new oe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ac(this.root,e,this.comparator,!0)}}class ac{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Ge(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new Ge(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.comparator=e,this.data=new oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new R_(this.data.getIterator())}getIteratorFrom(e){return new R_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Ne)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ne(this.comparator);return i.data=e,i}}class R_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Fe.comparator)}static empty(){return new _n([])}unionWith(e){let i=new Ne(Fe.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new _n(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Os(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Jv("Invalid base64 string: "+c):c}}(e);return new Qe(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Cb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(a){if(Gt(!!a,39018),typeof a=="string"){let e=0;const i=Cb.exec(a);if(Gt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Vr(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="server_timestamp",t0="__type__",e0="__previous_value__",n0="__local_write_time__";function nm(a){var e,i;return((i=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[t0])===null||i===void 0?void 0:i.stringValue)===Wv}function kc(a){const e=a.mapValue.fields[e0];return nm(e)?kc(e):e}function Eo(a){const e=Nr(a.mapValue.fields[n0].timestampValue);return new ne(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,i,s,o,c,d,g,y,p,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=E}}const bc="(default)";class To{constructor(e,i){this.projectId=e,this.database=i||bc}static empty(){return new To("","")}get isDefaultDatabase(){return this.database===bc}isEqual(e){return e instanceof To&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__type__",Ib="__max__",sc={mapValue:{}},r0="__vector__",Rc="value";function xr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?nm(a)?4:Vb(a)?9007199254740991:Nb(a)?10:11:vt(28295,{value:a})}function di(a,e){if(a===e)return!0;const i=xr(a);if(i!==xr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Eo(a).isEqual(Eo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Nr(o.timestampValue),g=Nr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,c){return Vr(o.bytesValue).isEqual(Vr(c.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,c){return ge(o.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(c.geoPointValue.longitude)}(a,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ge(o.integerValue)===ge(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=ge(o.doubleValue),g=ge(c.doubleValue);return d===g?Ac(d)===Ac(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Os(a.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(b_(d)!==b_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!di(d[y],g[y])))return!1;return!0}(a,e);default:return vt(52216,{left:a})}}function So(a,e){return(a.values||[]).find(i=>di(i,e))!==void 0}function Ms(a,e){if(a===e)return 0;const i=xr(a),s=xr(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(a.booleanValue,e.booleanValue);case 2:return function(c,d){const g=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(a,e);case 3:return w_(a.timestampValue,e.timestampValue);case 4:return w_(Eo(a),Eo(e));case 5:return Rd(a.stringValue,e.stringValue);case 6:return function(c,d){const g=Vr(c),y=Vr(d);return g.compareTo(y)}(a.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),y=d.split("/");for(let p=0;p<g.length&&p<y.length;p++){const E=Ct(g[p],y[p]);if(E!==0)return E}return Ct(g.length,y.length)}(a.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Ct(ge(c.latitude),ge(d.latitude));return g!==0?g:Ct(ge(c.longitude),ge(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return C_(a.arrayValue,e.arrayValue);case 10:return function(c,d){var g,y,p,E;const R=c.fields||{},A=d.fields||{},P=(g=R[Rc])===null||g===void 0?void 0:g.arrayValue,U=(y=A[Rc])===null||y===void 0?void 0:y.arrayValue,X=Ct(((p=P?.values)===null||p===void 0?void 0:p.length)||0,((E=U?.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:C_(P,U)}(a.mapValue,e.mapValue);case 11:return function(c,d){if(c===sc.mapValue&&d===sc.mapValue)return 0;if(c===sc.mapValue)return 1;if(d===sc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=d.fields||{},E=Object.keys(p);y.sort(),E.sort();for(let R=0;R<y.length&&R<E.length;++R){const A=Rd(y[R],E[R]);if(A!==0)return A;const P=Ms(g[y[R]],p[E[R]]);if(P!==0)return P}return Ct(y.length,E.length)}(a.mapValue,e.mapValue);default:throw vt(23264,{le:i})}}function w_(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ct(a,e);const i=Nr(a),s=Nr(e),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function C_(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ms(i[o],s[o]);if(c)return c}return Ct(i.length,s.length)}function Us(a){return wd(a)}function wd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Nr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Vr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return pt.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=wd(c);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${wd(i.fields[d])}`;return o+"}"}(a.mapValue):vt(61005,{value:a})}function dc(a){switch(xr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kc(a);return e?16+dc(e):16;case 5:return 2*a.stringValue.length;case 6:return Vr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+dc(c),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return Ur(s.fields,(c,d)=>{o+=c.length+dc(d)}),o}(a.mapValue);default:throw vt(13486,{value:a})}}function Cd(a){return!!a&&"integerValue"in a}function im(a){return!!a&&"arrayValue"in a}function D_(a){return!!a&&"nullValue"in a}function I_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function mc(a){return!!a&&"mapValue"in a}function Nb(a){var e,i;return((i=(((e=a?.mapValue)===null||e===void 0?void 0:e.fields)||{})[i0])===null||i===void 0?void 0:i.stringValue)===r0}function uo(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const e={mapValue:{fields:{}}};return Ur(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=uo(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=uo(a.arrayValue.values[i]);return e}return Object.assign({},a)}function Vb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Ib}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!mc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=uo(i)}setAll(e){let i=Fe.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=uo(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());mc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ur(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new on(uo(this.value))}}function a0(a){const e=[];return Ur(a.fields,(i,s)=>{const o=new Fe([i]);if(mc(s)){const c=a0(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Je(e,0,St.min(),St.min(),St.min(),on.empty(),0)}static newFoundDocument(e,i,s,o){return new Je(e,1,i,St.min(),s,o,0)}static newNoDocument(e,i){return new Je(e,2,i,St.min(),St.min(),on.empty(),0)}static newUnknownDocument(e,i){return new Je(e,3,i,St.min(),St.min(),on.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i){this.position=e,this.inclusive=i}}function N_(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const c=e[o],d=a.position[o];if(c.field.isKeyField()?s=pt.comparator(pt.fromName(d.referenceValue),i.key):s=Ms(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function V_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!di(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,i="asc"){this.field=e,this.dir=i}}function xb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{}class De extends s0{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Mb(e,i,s):i==="array-contains"?new Pb(e,s):i==="in"?new Bb(e,s):i==="not-in"?new zb(e,s):i==="array-contains-any"?new kb(e,s):new De(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Ub(e,s):new Lb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ms(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(Ms(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends s0{constructor(e,i){super(),this.filters=e,this.op=i,this.he=null}static create(e,i){return new mi(e,i)}matches(e){return l0(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function l0(a){return a.op==="and"}function o0(a){return Ob(a)&&l0(a)}function Ob(a){for(const e of a.filters)if(e instanceof mi)return!1;return!0}function Dd(a){if(a instanceof De)return a.field.canonicalString()+a.op.toString()+Us(a.value);if(o0(a))return a.filters.map(e=>Dd(e)).join(",");{const e=a.filters.map(i=>Dd(i)).join(",");return`${a.op}(${e})`}}function u0(a,e){return a instanceof De?function(s,o){return o instanceof De&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(a,e):a instanceof mi?function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&u0(d,o.filters[g]),!0):!1}(a,e):void vt(19439)}function c0(a){return a instanceof De?function(i){return`${i.field.canonicalString()} ${i.op} ${Us(i.value)}`}(a):a instanceof mi?function(i){return i.op.toString()+" {"+i.getFilters().map(c0).join(" ,")+"}"}(a):"Filter"}class Mb extends De{constructor(e,i,s){super(e,i,s),this.key=pt.fromName(s.referenceValue)}matches(e){const i=pt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Ub extends De{constructor(e,i){super(e,"in",i),this.keys=h0("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Lb extends De{constructor(e,i){super(e,"not-in",i),this.keys=h0("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function h0(a,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>pt.fromName(s.referenceValue))}class Pb extends De{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return im(i)&&So(i.arrayValue,this.value)}}class Bb extends De{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&So(this.value.arrayValue,i)}}class zb extends De{constructor(e,i){super(e,"not-in",i)}matches(e){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!So(this.value.arrayValue,i)}}class kb extends De{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!im(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>So(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Pe=null}}function x_(a,e=null,i=[],s=[],o=null,c=null,d=null){return new jb(a,e,i,s,o,c,d)}function rm(a){const e=At(a);if(e.Pe===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Dd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),zc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Us(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Us(s)).join(",")),e.Pe=i}return e.Pe}function am(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!xb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!u0(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!V_(a.startAt,e.startAt)&&V_(a.endAt,e.endAt)}function Id(a){return pt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function qb(a,e,i,s,o,c,d,g){return new jc(a,e,i,s,o,c,d,g)}function sm(a){return new jc(a)}function O_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Hb(a){return a.collectionGroup!==null}function co(a){const e=At(a);if(e.Te===null){e.Te=[];const i=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ne(Fe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.Te.push(new Cc(c,s))}),i.has(Fe.keyField().canonicalString())||e.Te.push(new Cc(Fe.keyField(),s))}return e.Te}function oi(a){const e=At(a);return e.Ie||(e.Ie=Gb(e,co(a))),e.Ie}function Gb(a,e){if(a.limitType==="F")return x_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Cc(o.field,c)});const i=a.endAt?new wc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new wc(a.startAt.position,a.startAt.inclusive):null;return x_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function Nd(a,e,i){return new jc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function qc(a,e){return am(oi(a),oi(e))&&a.limitType===e.limitType}function f0(a){return`${rm(oi(a))}|lt:${a.limitType}`}function Ds(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>c0(o)).join(", ")}]`),zc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Us(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Us(o)).join(",")),`Target(${s})`}(oi(a))}; limitType=${a.limitType})`}function Hc(a,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(a,e)&&function(s,o){for(const c of co(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,y){const p=N_(d,g,y);return d.inclusive?p<=0:p<0}(s.startAt,co(s),o)||s.endAt&&!function(d,g,y){const p=N_(d,g,y);return d.inclusive?p>=0:p>0}(s.endAt,co(s),o))}(a,e)}function Fb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function d0(a){return(e,i)=>{let s=!1;for(const o of co(a)){const c=Qb(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function Qb(a,e,i){const s=a.field.isKeyField()?pt.comparator(e.key,i.key):function(c,d,g){const y=d.data.field(c),p=g.data.field(c);return y!==null&&p!==null?Ms(y,p):vt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ur(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return Zv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new oe(pt.comparator);function Fi(){return Yb}const m0=new oe(pt.comparator);function ao(...a){let e=m0;for(const i of a)e=e.insert(i.key,i);return e}function g0(a){let e=m0;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ba(){return ho()}function p0(){return ho()}function ho(){return new Oa(a=>a.toString(),(a,e)=>a.isEqual(e))}const Kb=new oe(pt.comparator),Xb=new Ne(pt.comparator);function xt(...a){let e=Xb;for(const i of a)e=e.add(i);return e}const $b=new Ne(Ct);function Zb(){return $b}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ac(e)?"-0":e}}function y0(a){return{integerValue:""+a}}function Jb(a,e){return bb(e)?y0(e):lm(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function Wb(a,e,i){return a instanceof Dc?function(o,c){const d={fields:{[t0]:{stringValue:Wv},[n0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&nm(c)&&(c=kc(c)),c&&(d.fields[e0]=c),{mapValue:d}}(i,e):a instanceof Ao?v0(a,e):a instanceof bo?E0(a,e):function(o,c){const d=_0(o,c),g=M_(d)+M_(o.Ee);return Cd(d)&&Cd(o.Ee)?y0(g):lm(o.serializer,g)}(a,e)}function tR(a,e,i){return a instanceof Ao?v0(a,e):a instanceof bo?E0(a,e):i}function _0(a,e){return a instanceof Ic?function(s){return Cd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Dc extends Gc{}class Ao extends Gc{constructor(e){super(),this.elements=e}}function v0(a,e){const i=T0(e);for(const s of a.elements)i.some(o=>di(o,s))||i.push(s);return{arrayValue:{values:i}}}class bo extends Gc{constructor(e){super(),this.elements=e}}function E0(a,e){let i=T0(e);for(const s of a.elements)i=i.filter(o=>!di(o,s));return{arrayValue:{values:i}}}class Ic extends Gc{constructor(e,i){super(),this.serializer=e,this.Ee=i}}function M_(a){return ge(a.integerValue||a.doubleValue)}function T0(a){return im(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function eR(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof Ao&&o instanceof Ao||s instanceof bo&&o instanceof bo?Os(s.elements,o.elements,di):s instanceof Ic&&o instanceof Ic?di(s.Ee,o.Ee):s instanceof Dc&&o instanceof Dc}(a.transform,e.transform)}class nR{constructor(e,i){this.version=e,this.transformResults=i}}class ui{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gc(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class Fc{}function S0(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new b0(a.key,ui.none()):new Io(a.key,a.data,ui.none());{const i=a.data,s=on.empty();let o=new Ne(Fe.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Lr(a.key,s,new _n(o.toArray()),ui.none())}}function iR(a,e,i){a instanceof Io?function(o,c,d){const g=o.value.clone(),y=L_(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Lr?function(o,c,d){if(!gc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=L_(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(A0(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(a,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function fo(a,e,i,s){return a instanceof Io?function(c,d,g,y){if(!gc(c.precondition,d))return g;const p=c.value.clone(),E=P_(c.fieldTransforms,y,d);return p.setAll(E),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(a,e,i,s):a instanceof Lr?function(c,d,g,y){if(!gc(c.precondition,d))return g;const p=P_(c.fieldTransforms,y,d),E=d.data;return E.setAll(A0(c)),E.setAll(p),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(a,e,i,s):function(c,d,g){return gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function rR(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),c=_0(s.transform,o||null);c!=null&&(i===null&&(i=on.empty()),i.set(s.field,c))}return i||null}function U_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Os(s,o,(c,d)=>eR(c,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Io extends Fc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Lr extends Fc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function A0(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function L_(a,e,i){const s=new Map;Gt(a.length===i.length,32656,{Ae:i.length,Re:a.length});for(let o=0;o<i.length;o++){const c=a[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,tR(d,g,i[o]))}return s}function P_(a,e,i){const s=new Map;for(const o of a){const c=o.transform,d=i.data.field(o.field);s.set(o.field,Wb(c,d,e))}return s}class b0 extends Fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aR extends Fc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&iR(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=fo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=fo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=p0();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=S0(d,g);y!==null&&s.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(St.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),xt())}isEqual(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,(i,s)=>U_(i,s))&&Os(this.baseMutations,e.baseMutations,(i,s)=>U_(i,s))}}class om{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Gt(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return Kb}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new om(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,Pt;function uR(a){switch(a){case it.OK:return vt(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return vt(15467,{code:a})}}function R0(a){if(a===void 0)return Gi("GRPC error has no .code"),it.UNKNOWN;switch(a){case Te.OK:return it.OK;case Te.CANCELLED:return it.CANCELLED;case Te.UNKNOWN:return it.UNKNOWN;case Te.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Te.INTERNAL:return it.INTERNAL;case Te.UNAVAILABLE:return it.UNAVAILABLE;case Te.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Te.NOT_FOUND:return it.NOT_FOUND;case Te.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Te.ABORTED:return it.ABORTED;case Te.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Te.DATA_LOSS:return it.DATA_LOSS;default:return vt(39323,{code:a})}}(Pt=Te||(Te={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new br([4294967295,4294967295],0);function B_(a){const e=Kv().encode(a),i=new kv;return i.update(e),new Uint8Array(i.digest())}function z_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new br([i,s],0),new br([o,c],0)]}class um{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new so(`Invalid padding: ${i}`);if(s<0)throw new so(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new so(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new so(`Invalid padding when bitmap length is 0: ${i}`);this.fe=8*e.length-i,this.ge=br.fromNumber(this.fe)}pe(e,i,s){let o=e.add(i.multiply(br.fromNumber(s)));return o.compare(cR)===1&&(o=new br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const i=B_(e),[s,o]=z_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);if(!this.ye(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new um(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.fe===0)return;const i=B_(e),[s,o]=z_(i);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,o,c);this.we(d)}}we(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class so extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,No.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Qc(St.min(),o,new oe(Ct),Fi(),xt())}}class No{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new No(s,i,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i,s,o){this.Se=e,this.removedTargetIds=i,this.key=s,this.be=o}}class w0{constructor(e,i){this.targetId=e,this.De=i}}class C0{constructor(e,i,s=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class k_{constructor(){this.ve=0,this.Ce=j_(),this.Fe=Qe.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=xt(),i=xt(),s=xt();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:c})}}),new No(this.Fe,this.Me,e,i,s)}ke(){this.xe=!1,this.Ce=j_()}qe(e,i){this.xe=!0,this.Ce=this.Ce.insert(e,i)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class hR{constructor(e){this.We=e,this.Ge=new Map,this.ze=Fi(),this.je=lc(),this.Je=lc(),this.He=new oe(Ct)}Ye(e){for(const i of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(i,e.be):this.Xe(i,e.key,e.be);for(const i of e.removedTargetIds)this.Xe(i,e.key,e.be)}et(e){this.forEachTarget(e,i=>{const s=this.tt(i);switch(e.state){case 0:this.nt(i)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(i);break;case 3:this.nt(i)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(i)&&(this.rt(i),s.Be(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Ge.forEach((s,o)=>{this.nt(o)&&i(o)})}it(e){const i=e.targetId,s=e.De.count,o=this.st(i);if(o){const c=o.target;if(Id(c))if(s===0){const d=new pt(c.path);this.Xe(i,d,Je.newNoDocument(d,St.min()))}else Gt(s===1,20013,{expectedCount:s});else{const d=this.ot(i);if(d!==s){const g=this._t(e),y=g?this.ut(g,e,d):1;if(y!==0){this.rt(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(i,p)}}}}}_t(e){const i=e.De.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Vr(s).toUint8Array()}catch(y){if(y instanceof Jv)return Dr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new um(d,o,c)}catch(y){return Dr(y instanceof so?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.fe===0?null:g}ut(e,i,s){return i.De.count===s-this.ht(e,i.targetId)?0:2}ht(e,i){const s=this.We.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.We.lt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.Xe(i,c,null),o++)}),o}Pt(e){const i=new Map;this.Ge.forEach((c,d)=>{const g=this.st(d);if(g){if(c.current&&Id(g.target)){const y=new pt(g.target.path);this.Tt(y).has(d)||this.It(d,y)||this.Xe(d,y,Je.newNoDocument(y,e))}c.Ne&&(i.set(d,c.Le()),c.ke())}});let s=xt();this.Je.forEach((c,d)=>{let g=!0;d.forEachWhile(y=>{const p=this.st(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.ze.forEach((c,d)=>d.setReadTime(e));const o=new Qc(e,i,this.He,this.ze,s);return this.ze=Fi(),this.je=lc(),this.Je=lc(),this.He=new oe(Ct),o}Ze(e,i){if(!this.nt(e))return;const s=this.It(e,i.key)?2:0;this.tt(e).qe(i.key,s),this.ze=this.ze.insert(i.key,i),this.je=this.je.insert(i.key,this.Tt(i.key).add(e)),this.Je=this.Je.insert(i.key,this.dt(i.key).add(e))}Xe(e,i,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,i)?o.qe(i,1):o.Qe(i),this.Je=this.Je.insert(i,this.dt(i).delete(e)),this.Je=this.Je.insert(i,this.dt(i).add(e)),s&&(this.ze=this.ze.insert(i,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const i=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let i=this.Ge.get(e);return i||(i=new k_,this.Ge.set(e,i)),i}dt(e){let i=this.Je.get(e);return i||(i=new Ne(Ct),this.Je=this.Je.insert(e,i)),i}Tt(e){let i=this.je.get(e);return i||(i=new Ne(Ct),this.je=this.je.insert(e,i)),i}nt(e){const i=this.st(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}st(e){const i=this.Ge.get(e);return i&&i.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new k_),this.We.getRemoteKeysForTarget(e).forEach(i=>{this.Xe(e,i,null)})}It(e,i){return this.We.getRemoteKeysForTarget(e).has(i)}}function lc(){return new oe(pt.comparator)}function j_(){return new oe(pt.comparator)}const fR={asc:"ASCENDING",desc:"DESCENDING"},dR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mR={and:"AND",or:"OR"};class gR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Vd(a,e){return a.useProto3Json||zc(e)?e:{value:e}}function Nc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D0(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function pR(a,e){return Nc(a,e.toTimestamp())}function ci(a){return Gt(!!a,49232),St.fromTimestamp(function(i){const s=Nr(i);return new ne(s.seconds,s.nanos)}(a))}function cm(a,e){return xd(a,e).canonicalString()}function xd(a,e){const i=function(o){return new le(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function I0(a){const e=le.fromString(a);return Gt(M0(e),10190,{key:e.toString()}),e}function Od(a,e){return cm(a.databaseId,e.path)}function dd(a,e){const i=I0(e);if(i.get(1)!==a.databaseId.projectId)throw new dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new dt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new pt(V0(i))}function N0(a,e){return cm(a.databaseId,e)}function yR(a){const e=I0(a);return e.length===4?le.emptyPath():V0(e)}function Md(a){return new le(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function V0(a){return Gt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function q_(a,e,i){return{name:Od(a,e),fields:i.value.mapValue.fields}}function _R(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:vt(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(p,E){return p.useProto3Json?(Gt(E===void 0||typeof E=="string",58123),Qe.fromBase64String(E||"")):(Gt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qe.fromUint8Array(E||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(p){const E=p.code===void 0?it.UNKNOWN:R0(p.code);return new dt(E,p.message||"")}(d);i=new C0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dd(a,s.document.name),c=ci(s.document.updateTime),d=s.document.createTime?ci(s.document.createTime):St.min(),g=new on({mapValue:{fields:s.document.fields}}),y=Je.newFoundDocument(o,c,d,g),p=s.targetIds||[],E=s.removedTargetIds||[];i=new pc(p,E,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dd(a,s.document),c=s.readTime?ci(s.readTime):St.min(),d=Je.newNoDocument(o,c),g=s.removedTargetIds||[];i=new pc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dd(a,s.document),c=s.removedTargetIds||[];i=new pc([],c,o,null)}else{if(!("filter"in e))return vt(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new oR(o,c),g=s.targetId;i=new w0(g,d)}}return i}function vR(a,e){let i;if(e instanceof Io)i={update:q_(a,e.key,e.value)};else if(e instanceof b0)i={delete:Od(a,e.key)};else if(e instanceof Lr)i={update:q_(a,e.key,e.data),updateMask:DR(e.fieldMask)};else{if(!(e instanceof aR))return vt(16599,{Rt:e.type});i={verify:Od(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Dc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ic)return{fieldPath:d.field.canonicalString(),increment:g.Ee};throw vt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:pR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)}(a,e.precondition)),i}function ER(a,e){return a&&a.length>0?(Gt(e!==void 0,14353),a.map(i=>function(o,c){let d=o.updateTime?ci(o.updateTime):ci(c);return d.isEqual(St.min())&&(d=ci(c)),new nR(d,o.transformResults||[])}(i,e))):[]}function TR(a,e){return{documents:[N0(a,e.path)]}}function SR(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=N0(a,o);const c=function(p){if(p.length!==0)return O0(mi.create(p,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(p){if(p.length!==0)return p.map(E=>function(A){return{field:Is(A.field),direction:RR(A.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Vd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:i,parent:o}}function AR(a){let e=yR(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Gt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(R){const A=x0(R);return A instanceof mi&&o0(A)?A.getFilters():[A]}(i.where));let d=[];i.orderBy&&(d=function(R){return R.map(A=>function(U){return new Cc(Ns(U.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(A))}(i.orderBy));let g=null;i.limit&&(g=function(R){let A;return A=typeof R=="object"?R.value:R,zc(A)?null:A}(i.limit));let y=null;i.startAt&&(y=function(R){const A=!!R.before,P=R.values||[];return new wc(P,A)}(i.startAt));let p=null;return i.endAt&&(p=function(R){const A=!R.before,P=R.values||[];return new wc(P,A)}(i.endAt)),qb(e,o,d,c,g,"F",y,p)}function bR(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function x0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Ns(i.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ns(i.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ns(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ns(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(a):a.fieldFilter!==void 0?function(i){return De.create(Ns(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return mi.create(i.compositeFilter.filters.map(s=>x0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(a):vt(30097,{filter:a})}function RR(a){return fR[a]}function wR(a){return dR[a]}function CR(a){return mR[a]}function Is(a){return{fieldPath:a.canonicalString()}}function Ns(a){return Fe.fromServerFormat(a.fieldPath)}function O0(a){return a instanceof De?function(i){if(i.op==="=="){if(I_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NAN"}};if(D_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(I_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NAN"}};if(D_(i.value))return{unaryFilter:{field:Is(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(i.field),op:wR(i.op),value:i.value}}}(a):a instanceof mi?function(i){const s=i.getFilters().map(o=>O0(o));return s.length===1?s[0]:{compositeFilter:{op:CR(i.op),filters:s}}}(a):vt(54877,{filter:a})}function DR(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function M0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,i,s,o,c=St.min(),d=St.min(),g=Qe.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new Tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.gt=e}}function NR(a){const e=AR({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.Dn=new xR}addToCollectionParentIndex(e,i){return this.Dn.add(i),W.resolve()}getCollectionParents(e,i){return W.resolve(this.Dn.getEntries(i))}addFieldIndex(e,i){return W.resolve()}deleteFieldIndex(e,i){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,i){return W.resolve()}getDocumentsMatchingTarget(e,i){return W.resolve(null)}getIndexType(e,i){return W.resolve(0)}getFieldIndexes(e,i){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,i){return W.resolve(Ir.min())}getMinOffsetFromCollectionGroup(e,i){return W.resolve(Ir.min())}updateCollectionGroup(e,i,s){return W.resolve()}updateIndexEntries(e,i){return W.resolve()}}class xR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ne(le.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ne(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},U0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(U0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ls(0)}static ur(){return new Ls(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="LruGarbageCollector",OR=1048576;function F_([a,e],[i,s]){const o=Ct(a,i);return o===0?Ct(e,s):o}class MR{constructor(e){this.Tr=e,this.buffer=new Ne(F_),this.Ir=0}dr(){return++this.Ir}Er(e){const i=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();F_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class UR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ut(G_,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Gs(i)?ut(G_,"Ignoring IndexedDB error during garbage collection: ",i):await Hs(i)}await this.Rr(3e5)})}}class LR{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.mr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return W.resolve(Bc.ue);const s=new MR(i);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(H_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H_):this.pr(e,i))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,i){let s,o,c,d,g,y,p;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,d=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(s=R,g=Date.now(),this.removeTargets(e,s,i))).next(R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(p=Date.now(),Cs()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${R} documents in `+(p-y)+`ms
Total Duration: ${p-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}function PR(a,e){return new LR(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.changes=new Oa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?W.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&fo(s.mutation,o,_n.empty(),ne.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,xt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=xt()){const o=ba();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=ao();return c.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ba();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,xt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=Fi();const d=ho(),g=function(){return ho()}();return i.forEach((y,p)=>{const E=s.get(p.key);o.has(p.key)&&(E===void 0||E.mutation instanceof Lr)?c=c.insert(p.key,p):E!==void 0?(d.set(p.key,E.mutation.getFieldMask()),fo(E.mutation,p,E.mutation.getFieldMask(),ne.now())):d.set(p.key,_n.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((p,E)=>d.set(p,E)),i.forEach((p,E)=>{var R;return g.set(p,new zR(E,(R=d.get(p))!==null&&R!==void 0?R:null))}),g))}recalculateAndSaveOverlays(e,i){const s=ho();let o=new oe((d,g)=>d-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let E=s.get(y)||_n.empty();E=g.applyToLocalView(p,E),s.set(y,E);const R=(o.get(g.batchId)||xt()).add(y);o=o.insert(g.batchId,R)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,E=y.value,R=p0();E.forEach(A=>{if(!c.has(A)){const P=S0(i.get(A),s.get(A));P!==null&&R.set(A,P),c=c.add(A)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,R))}return W.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Hb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):W.resolve(ba());let g=vo,y=c;return d.next(p=>W.forEach(p,(E,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{y=y.insert(E,A)}))).next(()=>this.populateOverlays(e,p,c)).next(()=>this.computeViews(e,y,p,xt())).next(E=>({batchId:g,changes:g0(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new pt(i)).next(s=>{let o=ao();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=ao();return this.indexManager.getCollectionParents(e,c).next(g=>W.forEach(g,y=>{const p=function(R,A){return new jc(A,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,s,o).next(E=>{E.forEach((R,A)=>{d=d.insert(R,A)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((y,p)=>{const E=p.getKey();d.get(E)===null&&(d=d.insert(E,Je.newInvalidDocument(E)))});let g=ao();return d.forEach((y,p)=>{const E=c.get(y);E!==void 0&&fo(E.mutation,p,_n.empty(),ne.now()),Hc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,i){return W.resolve(this.Br.get(i))}saveBundleMetadata(e,i){return this.Br.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(i)),W.resolve()}getNamedQuery(e,i){return W.resolve(this.Lr.get(i))}saveNamedQuery(e,i){return this.Lr.set(i.name,function(o){return{name:o.name,query:NR(o.bundledQuery),readTime:ci(o.readTime)}}(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.overlays=new oe(pt.comparator),this.kr=new Map}getOverlay(e,i){return W.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ba();return W.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.wt(e,i,c)}),W.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(s)),W.resolve()}getOverlaysForCollection(e,i,s){const o=ba(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>s&&o.set(y.getKey(),y)}return W.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new oe((p,E)=>p-E);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>s){let E=c.get(p.largestBatchId);E===null&&(E=ba(),c=c.insert(p.largestBatchId,E)),E.set(p.getKey(),p)}}const g=ba(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,E)=>g.set(p,E)),!(g.size()>=o)););return W.resolve(g)}wt(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new lR(i,s));let c=this.kr.get(i);c===void 0&&(c=xt(),this.kr.set(i,c)),this.kr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.qr=new Ne(Be.Qr),this.$r=new Ne(Be.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,i){const s=new Be(e,i);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Wr(new Be(e,i))}Gr(e,i){e.forEach(s=>this.removeReference(s,i))}zr(e){const i=new pt(new le([])),s=new Be(i,e),o=new Be(i,e+1),c=[];return this.$r.forEachInRange([s,o],d=>{this.Wr(d),c.push(d.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const i=new pt(new le([])),s=new Be(i,e),o=new Be(i,e+1);let c=xt();return this.$r.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Be(e,0),s=this.qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Be{constructor(e,i){this.key=e,this.Hr=i}static Qr(e,i){return pt.comparator(e.key,i.key)||Ct(e.Hr,i.Hr)}static Ur(e,i){return Ct(e.Hr,i.Hr)||pt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.er=1,this.Yr=new Ne(Be.Qr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new sR(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Yr=this.Yr.add(new Be(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,i){return W.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Xr(s),c=o<0?0:o;return W.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?em:this.er-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,o],d=>{const g=this.Zr(d.Hr);c.push(g)}),W.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ne(Ct);return i.forEach(o=>{const c=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],g=>{s=s.add(g.Hr)})}),W.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;pt.isDocumentKey(c)||(c=c.child(""));const d=new Be(new pt(c),0);let g=new Ne(Ct);return this.Yr.forEachWhile(y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Hr)),!0)},d),W.resolve(this.ei(g))}ei(e){const i=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Gt(this.ti(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return W.forEach(i.mutations,o=>{const c=new Be(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,i){const s=new Be(i,0),o=this.Yr.firstAfterOrEqual(s);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ti(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.ni=e,this.docs=function(){return new oe(pt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ni(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return W.resolve(s?s.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(e,i){let s=Fi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Fi();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:E}}=y.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||Eb(vb(E),s)<=0||(o.has(E.key)||Hc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return W.resolve(c)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}ri(e,i){return W.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new QR(this)}getSize(e){return W.resolve(this.size)}}class QR extends BR{constructor(e){super(),this.Or=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),W.waitFor(i)}getFromCache(e,i){return this.Or.getEntry(e,i)}getAllFromCache(e,i){return this.Or.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.persistence=e,this.ii=new Oa(i=>rm(i),am),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new hm,this.targetCount=0,this._i=Ls.ar()}forEachTarget(e,i){return this.ii.forEach((s,o)=>i(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.si&&(this.si=i),W.resolve()}hr(e){this.ii.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this._i=new Ls(i),this.highestTargetId=i),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,i){return this.hr(i),this.targetCount+=1,W.resolve()}updateTargetData(e,i){return this.hr(i),W.resolve()}removeTargetData(e,i){return this.ii.delete(i.target),this.oi.zr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.ii.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),W.waitFor(c).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,i){const s=this.ii.get(i)||null;return W.resolve(s)}addMatchingKeys(e,i,s){return this.oi.Kr(i,s),W.resolve()}removeMatchingKeys(e,i,s){this.oi.Gr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),W.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.oi.zr(i),W.resolve()}getMatchingKeysForTargetId(e,i){const s=this.oi.Jr(i);return W.resolve(s)}containsKey(e,i){return W.resolve(this.oi.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,i){this.ai={},this.overlays={},this.ui=new Bc(0),this.ci=!1,this.ci=!0,this.li=new HR,this.referenceDelegate=e(this),this.hi=new YR(this),this.indexManager=new VR,this.remoteDocumentCache=function(o){return new FR(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new IR(i),this.Ti=new jR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new qR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ai[e.toKey()];return s||(s=new GR(i,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new KR(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,i){return W.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,i)))}}class KR extends Sb{constructor(e){super(),this.currentSequenceNumber=e}}class fm{constructor(e){this.persistence=e,this.Ai=new hm,this.Ri=null}static Vi(e){return new fm(e)}get mi(){if(this.Ri)return this.Ri;throw vt(60996)}addReference(e,i,s){return this.Ai.addReference(s,i),this.mi.delete(s.toString()),W.resolve()}removeReference(e,i,s){return this.Ai.removeReference(s,i),this.mi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,i){return this.mi.add(i.toString()),W.resolve()}removeTarget(e,i){this.Ai.zr(i.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Ii(){this.Ri=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.mi,s=>{const o=pt.fromPath(s);return this.fi(e,o).next(c=>{c||i.removeEntry(o,St.min())})}).next(()=>(this.Ri=null,i.apply(e)))}updateLimboDocument(e,i){return this.fi(e,i).next(s=>{s?this.mi.delete(i.toString()):this.mi.add(i.toString())})}Pi(e){return 0}fi(e,i){return W.or([()=>W.resolve(this.Ai.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class Vc{constructor(e,i){this.persistence=e,this.gi=new Oa(s=>Rb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=PR(this,i)}static Vi(e,i){return new Vc(e,i)}Ii(){}di(e){return W.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}mr(e){const i=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}yr(e){let i=0;return this.gr(e,s=>{i++}).next(()=>i)}gr(e,i){return W.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(c=>c?W.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,d=>this.Sr(e,d,i).next(g=>{g||(s++,c.removeEntry(d,St.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.gi.set(i,e.currentSequenceNumber),W.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,i,s){return this.gi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,i){return this.gi.set(i,e.currentSequenceNumber),W.resolve()}Pi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=dc(e.data.value)),i}Sr(e,i,s){return W.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.gi.get(i);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Is=s,this.ds=o}static Es(e,i){let s=xt(),o=xt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new dm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return HS()?8:Ab(jS())>0?6:4}()}initialize(e,i){this.gs=e,this.indexManager=i,this.As=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ps(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ys(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new XR;return this.ws(e,i,d).next(g=>{if(c.result=g,this.Rs)return this.Ss(e,i,d,g.size)})}).next(()=>c.result)}Ss(e,i,s,o){return s.documentReadCount<this.Vs?(Cs()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ds(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(Cs()<=Bt.DEBUG&&ut("QueryEngine","Query:",Ds(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Cs()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ds(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(i))):W.resolve())}ps(e,i){if(O_(i))return W.resolve(null);let s=oi(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Nd(i,null,"F"),s=oi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=xt(...c);return this.gs.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(y=>{const p=this.bs(i,g);return this.Ds(i,p,d,y.readTime)?this.ps(e,Nd(i,null,"F")):this.vs(e,p,i,y)}))})))}ys(e,i,s,o){return O_(i)||o.isEqual(St.min())?W.resolve(null):this.gs.getDocuments(e,s).next(c=>{const d=this.bs(i,c);return this.Ds(i,d,s,o)?W.resolve(null):(Cs()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ds(i)),this.vs(e,d,i,_b(o,vo)).next(g=>g))})}bs(e,i){let s=new Ne(d0(e));return i.forEach((o,c)=>{Hc(e,c)&&(s=s.add(c))}),s}Ds(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,i,s){return Cs()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ds(i)),this.gs.getDocumentsMatchingQuery(e,i,Ir.min(),s)}vs(e,i,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="LocalStore",ZR=3e8;class JR{constructor(e,i,s,o){this.persistence=e,this.Cs=i,this.serializer=o,this.Fs=new oe(Ct),this.Ms=new Oa(c=>rm(c),am),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kR(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Fs))}}function WR(a,e,i,s){return new JR(a,e,i,s)}async function P0(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Ns(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let y=xt();for(const p of o){d.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}for(const p of c){g.push(p.batchId);for(const E of p.mutations)y=y.add(E.key)}return i.localDocuments.getDocuments(s,y).next(p=>({Bs:p,removedBatchIds:d,addedBatchIds:g}))})})}function tw(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.Os.newChangeBuffer({trackRemovals:!0});return function(g,y,p,E){const R=p.batch,A=R.keys();let P=W.resolve();return A.forEach(U=>{P=P.next(()=>E.getEntry(y,U)).next(X=>{const G=p.docVersions.get(U);Gt(G!==null,48541),X.version.compareTo(G)<0&&(R.applyToRemoteDocument(X,p),X.isValidDocument()&&(X.setReadTime(p.commitVersion),E.addEntry(X)))})}),P.next(()=>g.mutationQueue.removeMutationBatch(y,R))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let y=xt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function B0(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.hi.getLastRemoteSnapshotVersion(i))}function ew(a,e){const i=At(a),s=e.snapshotVersion;let o=i.Fs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Os.newChangeBuffer({trackRemovals:!0});o=i.Fs;const g=[];e.targetChanges.forEach((E,R)=>{const A=o.get(R);if(!A)return;g.push(i.hi.removeMatchingKeys(c,E.removedDocuments,R).next(()=>i.hi.addMatchingKeys(c,E.addedDocuments,R)));let P=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?P=P.withResumeToken(Qe.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(R,P),function(X,G,Q){return X.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=ZR?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(A,P,E)&&g.push(i.hi.updateTargetData(c,P))});let y=Fi(),p=xt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(nw(c,d,e.documentUpdates).next(E=>{y=E.Ls,p=E.ks})),!s.isEqual(St.min())){const E=i.hi.getLastRemoteSnapshotVersion(c).next(R=>i.hi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return W.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(i.Fs=o,c))}function nw(a,e,i){let s=xt(),o=xt();return i.forEach(c=>s=s.add(c)),e.getEntries(a,s).next(c=>{let d=Fi();return i.forEach((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(St.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):ut(mm,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{Ls:d,ks:o}})}function iw(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=em),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function rw(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.hi.getTargetData(s,e).next(c=>c?(o=c,W.resolve(o)):i.hi.allocateTargetId(s).next(d=>(o=new Tr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Fs=i.Fs.insert(s.targetId,s),i.Ms.set(e,s.targetId)),s})}async function Ud(a,e,i){const s=At(a),o=s.Fs.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Gs(d))throw d;ut(mm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function Q_(a,e,i){const s=At(a);let o=St.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,p,E){const R=At(y),A=R.Ms.get(E);return A!==void 0?W.resolve(R.Fs.get(A)):R.hi.getTargetData(p,E)}(s,d,oi(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{c=y})}).next(()=>s.Cs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?c:xt())).next(g=>(aw(s,Fb(e),g),{documents:g,qs:c})))}function aw(a,e,i){let s=a.xs.get(e)||St.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),a.xs.set(e,s)}class Y_{constructor(){this.activeTargetIds=Zb()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sw{constructor(){this.Fo=new Y_,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,i,s){this.Mo[e]=i}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Y_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="ConnectivityMonitor";class X_{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ut(K_,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ut(K_,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc=null;function Ld(){return oc===null?oc=function(){return 268435456+Math.round(2147483648*Math.random())}():oc++,"0x"+oc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="RestConnection",ow={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uw{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=i+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===bc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,i,s,o,c){const d=Ld(),g=this.Go(e,i.toUriEncodedString());ut(md,`Sending RPC '${e}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(y,o,c);const{host:p}=new URL(g),E=$d(p);return this.jo(e,g,y,s,E).then(R=>(ut(md,`Received RPC '${e}' ${d}: `,R),R),R=>{throw Dr(md,`RPC '${e}' ${d} failed with error: `,R,"url: ",g,"request:",s),R})}Jo(e,i,s,o,c,d){return this.Wo(e,i,s,o,c)}zo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}Go(e,i){const s=ow[e];return`${this.$o}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $e="WebChannelConnection";class hw extends uw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,i,s,o,c){const d=Ld();return new Promise((g,y)=>{const p=new jv;p.setWithCredentials(!0),p.listenOnce(qv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case fc.NO_ERROR:const R=p.getResponseJson();ut($e,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),g(R);break;case fc.TIMEOUT:ut($e,`RPC '${e}' ${d} timed out`),y(new dt(it.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:const A=p.getStatus();if(ut($e,`RPC '${e}' ${d} failed with status:`,A,"response text:",p.getResponseText()),A>0){let P=p.getResponseJson();Array.isArray(P)&&(P=P[0]);const U=P?.error;if(U&&U.status&&U.message){const X=function(Q){const tt=Q.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(tt)>=0?tt:it.UNKNOWN}(U.status);y(new dt(X,U.message))}else y(new dt(it.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new dt(it.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{c_:e,streamId:d,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{ut($e,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);ut($e,`RPC '${e}' ${d} sending request:`,o),p.send(i,"POST",E,s,15)})}P_(e,i,s){const o=Ld(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Fv(),g=Gv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.zo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const E=c.join("");ut($e,`Creating RPC '${e}' stream ${o}: ${E}`,y);const R=d.createWebChannel(E,y);this.T_(R);let A=!1,P=!1;const U=new cw({Ho:G=>{P?ut($e,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(A||(ut($e,`Opening RPC '${e}' stream ${o} transport.`),R.open(),A=!0),ut($e,`RPC '${e}' stream ${o} sending:`,G),R.send(G))},Yo:()=>R.close()}),X=(G,Q,tt)=>{G.listen(Q,et=>{try{tt(et)}catch(ft){setTimeout(()=>{throw ft},0)}})};return X(R,ro.EventType.OPEN,()=>{P||(ut($e,`RPC '${e}' stream ${o} transport opened.`),U.s_())}),X(R,ro.EventType.CLOSE,()=>{P||(P=!0,ut($e,`RPC '${e}' stream ${o} transport closed`),U.__(),this.I_(R))}),X(R,ro.EventType.ERROR,G=>{P||(P=!0,Dr($e,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),U.__(new dt(it.UNAVAILABLE,"The operation could not be completed")))}),X(R,ro.EventType.MESSAGE,G=>{var Q;if(!P){const tt=G.data[0];Gt(!!tt,16349);const et=tt,ft=et?.error||((Q=et[0])===null||Q===void 0?void 0:Q.error);if(ft){ut($e,`RPC '${e}' stream ${o} received error:`,ft);const ct=ft.status;let bt=function(w){const I=Te[w];if(I!==void 0)return R0(I)}(ct),O=ft.message;bt===void 0&&(bt=it.INTERNAL,O="Unknown error status: "+ct+" with message "+ft.message),P=!0,U.__(new dt(bt,O)),R.close()}else ut($e,`RPC '${e}' stream ${o} received:`,tt),U.a_(tt)}}),X(g,Hv.STAT_EVENT,G=>{G.stat===bd.PROXY?ut($e,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===bd.NOPROXY&&ut($e,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.o_()},0),U}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(i=>i===e)}}function gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(a){return new gR(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=i,this.d_=s,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const i=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="PersistentStream";class k0{constructor(e,i,s,o,c,d,g,y){this.Fi=e,this.w_=s,this.S_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new z0(e,i)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():i&&i.code===it.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):i&&i.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(i)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),i=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===i&&this.W_(s,o)},s=>{e(()=>{const o=new dt(it.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,i){const s=this.K_(this.b_);this.stream=this.z_(e,i),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ut($_,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return i=>{this.Fi.enqueueAndForget(()=>this.b_===e?i():(ut($_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fw extends k0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}z_(e,i){return this.connection.P_("Listen",e,i)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const i=_R(this.serializer,e),s=function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?ci(d.readTime):St.min()}(e);return this.listener.J_(i,s)}H_(e){const i={};i.database=Md(this.serializer),i.addTarget=function(c,d){let g;const y=d.target;if(g=Id(y)?{documents:TR(c,y)}:{query:SR(c,y).Vt},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=D0(c,d.resumeToken);const p=Vd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=Nc(c,d.snapshotVersion.toTimestamp());const p=Vd(c,d.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,e);const s=bR(this.serializer,e);s&&(i.labels=s),this.k_(i)}Y_(e){const i={};i.database=Md(this.serializer),i.removeTarget=e,this.k_(i)}}class dw extends k0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,i){return this.connection.P_("Write",e,i)}j_(e){return Gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const i=ER(e.writeResults,e.commitTime),s=ci(e.commitTime);return this.listener.ta(s,i)}na(){const e={};e.database=Md(this.serializer),this.k_(e)}X_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>vR(this.serializer,s))};this.k_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{}class gw extends mw{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new dt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Wo(e,xd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(it.UNKNOWN,c.toString())})}Jo(e,i,s,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Jo(e,xd(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(it.UNKNOWN,d.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class pw{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Gi(i),this._a=!1):ut("OnlineStateTracker",i)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="RemoteStore";class yw{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(d=>{s.enqueueAndForget(async()=>{Ma(this)&&(ut(Va,"Restarting streams for network reachability change."),await async function(y){const p=At(y);p.Ia.add(4),await Vo(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Kc(p)}(this))})}),this.Aa=new pw(s,o)}}async function Kc(a){if(Ma(a))for(const e of a.da)await e(!0)}async function Vo(a){for(const e of a.da)await e(!1)}function j0(a,e){const i=At(a);i.Ta.has(e.targetId)||(i.Ta.set(e.targetId,e),_m(i)?ym(i):Fs(i).x_()&&pm(i,e))}function gm(a,e){const i=At(a),s=Fs(i);i.Ta.delete(e),s.x_()&&q0(i,e),i.Ta.size===0&&(s.x_()?s.B_():Ma(i)&&i.Aa.set("Unknown"))}function pm(a,e){if(a.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Fs(a).H_(e)}function q0(a,e){a.Ra.$e(e),Fs(a).Y_(e)}function ym(a){a.Ra=new hR({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>a.Ta.get(e)||null,lt:()=>a.datastore.serializer.databaseId}),Fs(a).start(),a.Aa.aa()}function _m(a){return Ma(a)&&!Fs(a).M_()&&a.Ta.size>0}function Ma(a){return At(a).Ia.size===0}function H0(a){a.Ra=void 0}async function _w(a){a.Aa.set("Online")}async function vw(a){a.Ta.forEach((e,i)=>{pm(a,e)})}async function Ew(a,e){H0(a),_m(a)?(a.Aa.la(e),ym(a)):a.Aa.set("Unknown")}async function Tw(a,e,i){if(a.Aa.set("Online"),e instanceof C0&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ta.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ta.delete(g),o.Ra.removeTarget(g))}(a,e)}catch(s){ut(Va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xc(a,s)}else if(e instanceof pc?a.Ra.Ye(e):e instanceof w0?a.Ra.it(e):a.Ra.et(e),!i.isEqual(St.min()))try{const s=await B0(a.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.Ra.Pt(d);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const E=c.Ta.get(p);E&&c.Ta.set(p,E.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,p)=>{const E=c.Ta.get(y);if(!E)return;c.Ta.set(y,E.withResumeToken(Qe.EMPTY_BYTE_STRING,E.snapshotVersion)),q0(c,y);const R=new Tr(E.target,y,p,E.sequenceNumber);pm(c,R)}),c.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){ut(Va,"Failed to raise snapshot:",s),await xc(a,s)}}async function xc(a,e,i){if(!Gs(e))throw e;a.Ia.add(1),await Vo(a),a.Aa.set("Offline"),i||(i=()=>B0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{ut(Va,"Retrying IndexedDB access"),await i(),a.Ia.delete(1),await Kc(a)})}function G0(a,e){return e().catch(i=>xc(a,i,e))}async function Xc(a){const e=At(a),i=Or(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:em;for(;Sw(e);)try{const o=await iw(e.localStore,s);if(o===null){e.Pa.length===0&&i.B_();break}s=o.batchId,Aw(e,o)}catch(o){await xc(e,o)}F0(e)&&Q0(e)}function Sw(a){return Ma(a)&&a.Pa.length<10}function Aw(a,e){a.Pa.push(e);const i=Or(a);i.x_()&&i.Z_&&i.X_(e.mutations)}function F0(a){return Ma(a)&&!Or(a).M_()&&a.Pa.length>0}function Q0(a){Or(a).start()}async function bw(a){Or(a).na()}async function Rw(a){const e=Or(a);for(const i of a.Pa)e.X_(i.mutations)}async function ww(a,e,i){const s=a.Pa.shift(),o=om.from(s,e,i);await G0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await Xc(a)}async function Cw(a,e){e&&Or(a).Z_&&await async function(s,o){if(function(d){return uR(d)&&d!==it.ABORTED}(o.code)){const c=s.Pa.shift();Or(s).N_(),await G0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Xc(s)}}(a,e),F0(a)&&Q0(a)}async function Z_(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),ut(Va,"RemoteStore received new credentials");const s=Ma(i);i.Ia.add(3),await Vo(i),s&&i.Aa.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ia.delete(3),await Kc(i)}async function Dw(a,e){const i=At(a);e?(i.Ia.delete(2),await Kc(i)):e||(i.Ia.add(2),await Vo(i),i.Aa.set("Unknown"))}function Fs(a){return a.Va||(a.Va=function(i,s,o){const c=At(i);return c.ia(),new fw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{Zo:_w.bind(null,a),e_:vw.bind(null,a),n_:Ew.bind(null,a),J_:Tw.bind(null,a)}),a.da.push(async e=>{e?(a.Va.N_(),_m(a)?ym(a):a.Aa.set("Unknown")):(await a.Va.stop(),H0(a))})),a.Va}function Or(a){return a.ma||(a.ma=function(i,s,o){const c=At(i);return c.ia(),new dw(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(a.datastore,a.asyncQueue,{Zo:()=>Promise.resolve(),e_:bw.bind(null,a),n_:Cw.bind(null,a),ea:Rw.bind(null,a),ta:ww.bind(null,a)}),a.da.push(async e=>{e?(a.ma.N_(),await Xc(a)):(await a.ma.stop(),a.Pa.length>0&&(ut(Va,`Stopping write stream with ${a.Pa.length} pending writes`),a.Pa=[]))})),a.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new vm(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(it.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Em(a,e){if(Gi("AsyncQueue",`${e}: ${a}`),Gs(a))return new dt(it.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{static emptySet(e){return new xs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||pt.comparator(i.key,s.key):(i,s)=>pt.comparator(i.key,s.key),this.keyedMap=ao(),this.sortedSet=new oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof xs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new xs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.fa=new oe(pt.comparator)}track(e){const i=e.doc.key,s=this.fa.get(i);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(i,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(i):e.type===1&&s.type===2?this.fa=this.fa.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(i,{type:2,doc:e.doc}):vt(63341,{At:e,ga:s}):this.fa=this.fa.insert(i,e)}pa(){const e=[];return this.fa.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ps{constructor(e,i,s,o,c,d,g,y,p){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ps(e,i,xs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class Nw{constructor(){this.queries=W_(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=W_(),c.forEach((d,g)=>{for(const y of g.wa)y.onError(s)})})(this,new dt(it.ABORTED,"Firestore shutting down"))}}function W_(){return new Oa(a=>f0(a),qc)}async function Vw(a,e){const i=At(a);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.Sa()&&e.ba()&&(s=2):(c=new Iw,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await i.onListen(o,!0);break;case 1:c.ya=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Em(d,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.wa.push(e),e.va(i.onlineState),c.ya&&e.Ca(c.ya)&&Tm(i)}async function xw(a,e){const i=At(a),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Ow(a,e){const i=At(a);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.wa)g.Ca(o)&&(s=!0);d.ya=o}}s&&Tm(i)}function Mw(a,e,i){const s=At(a),o=s.queries.get(e);if(o)for(const c of o.wa)c.onError(i);s.queries.delete(e)}function Tm(a){a.Da.forEach(e=>{e.next()})}var Pd,tv;(tv=Pd||(Pd={})).Fa="default",tv.Cache="cache";class Uw{constructor(e,i,s){this.query=e,this.Ma=i,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ps(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),i=!0):this.Ba(e,this.onlineState)&&(this.La(e),i=!0),this.Oa=e,i}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let i=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),i=!0),i}Ba(e,i){if(!e.fromCache||!this.ba())return!0;const s=i!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const i=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}La(e){e=Ps.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.key=e}}class K0{constructor(e){this.key=e}}class Lw{constructor(e,i){this.query=e,this.Ha=i,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=xt(),this.mutatedKeys=xt(),this.Xa=d0(e),this.eu=new xs(this.Xa)}get tu(){return this.Ha}nu(e,i){const s=i?i.ru:new J_,o=i?i.eu:this.eu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,R)=>{const A=o.get(E),P=Hc(this.query,R)?R:null,U=!!A&&this.mutatedKeys.has(A.key),X=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let G=!1;A&&P?A.data.isEqual(P.data)?U!==X&&(s.track({type:3,doc:P}),G=!0):this.iu(A,P)||(s.track({type:2,doc:P}),G=!0,(y&&this.Xa(P,y)>0||p&&this.Xa(P,p)<0)&&(g=!0)):!A&&P?(s.track({type:0,doc:P}),G=!0):A&&!P&&(s.track({type:1,doc:A}),G=!0,(y||p)&&(g=!0)),G&&(P?(d=d.add(P),c=X?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{eu:d,ru:s,Ds:g,mutatedKeys:c}}iu(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort((E,R)=>function(P,U){const X=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{At:G})}};return X(P)-X(U)}(E.type,R.type)||this.Xa(E.doc,R.doc)),this.su(s),o=o!=null&&o;const g=i&&!o?this.ou():[],y=this.Za.size===0&&this.current&&!o?1:0,p=y!==this.Ya;return this.Ya=y,d.length!==0||p?{snapshot:new Ps(this.query,e.eu,c,d,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:g}:{_u:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new J_,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=xt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const i=[];return e.forEach(s=>{this.Za.has(s)||i.push(new K0(s))}),this.Za.forEach(s=>{e.has(s)||i.push(new Y0(s))}),i}uu(e){this.Ha=e.qs,this.Za=xt();const i=this.nu(e.documents);return this.applyChanges(i,!0)}cu(){return Ps.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Sm="SyncEngine";class Pw{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Bw{constructor(e){this.key=e,this.lu=!1}}class zw{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Oa(g=>f0(g),qc),this.Tu=new Map,this.Iu=new Set,this.du=new oe(pt.comparator),this.Eu=new Map,this.Au=new hm,this.Ru={},this.Vu=new Map,this.mu=Ls.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function kw(a,e,i=!0){const s=tE(a);let o;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await X0(s,e,i,!0),o}async function jw(a,e){const i=tE(a);await X0(i,e,!0,!1)}async function X0(a,e,i,s){const o=await rw(a.localStore,oi(e)),c=o.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await qw(a,e,c,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&j0(a.remoteStore,o),g}async function qw(a,e,i,s,o){a.gu=(R,A,P)=>async function(X,G,Q,tt){let et=G.view.nu(Q);et.Ds&&(et=await Q_(X.localStore,G.query,!1).then(({documents:O})=>G.view.nu(O,et)));const ft=tt&&tt.targetChanges.get(G.targetId),ct=tt&&tt.targetMismatches.get(G.targetId)!=null,bt=G.view.applyChanges(et,X.isPrimaryClient,ft,ct);return nv(X,G.targetId,bt._u),bt.snapshot}(a,R,A,P);const c=await Q_(a.localStore,e,!0),d=new Lw(e,c.qs),g=d.nu(c.documents),y=No.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),p=d.applyChanges(g,a.isPrimaryClient,y);nv(a,i,p._u);const E=new Pw(e,i,d);return a.Pu.set(e,E),a.Tu.has(i)?a.Tu.get(i).push(e):a.Tu.set(i,[e]),p.snapshot}async function Hw(a,e,i){const s=At(a),o=s.Pu.get(e),c=s.Tu.get(o.targetId);if(c.length>1)return s.Tu.set(o.targetId,c.filter(d=>!qc(d,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ud(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&gm(s.remoteStore,o.targetId),Bd(s,o.targetId)}).catch(Hs)):(Bd(s,o.targetId),await Ud(s.localStore,o.targetId,!0))}async function Gw(a,e){const i=At(a),s=i.Pu.get(e),o=i.Tu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),gm(i.remoteStore,s.targetId))}async function Fw(a,e,i){const s=Jw(a);try{const o=await function(d,g){const y=At(d),p=ne.now(),E=g.reduce((P,U)=>P.add(U.key),xt());let R,A;return y.persistence.runTransaction("Locally write mutations","readwrite",P=>{let U=Fi(),X=xt();return y.Os.getEntries(P,E).next(G=>{U=G,U.forEach((Q,tt)=>{tt.isValidDocument()||(X=X.add(Q))})}).next(()=>y.localDocuments.getOverlayedDocuments(P,U)).next(G=>{R=G;const Q=[];for(const tt of g){const et=rR(tt,R.get(tt.key).overlayedDocument);et!=null&&Q.push(new Lr(tt.key,et,a0(et.value.mapValue),ui.exists(!0)))}return y.mutationQueue.addMutationBatch(P,p,Q,g)}).next(G=>{A=G;const Q=G.applyToLocalDocumentSet(R,X);return y.documentOverlayCache.saveOverlays(P,G.batchId,Q)})}).then(()=>({batchId:A.batchId,changes:g0(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,y){let p=d.Ru[d.currentUser.toKey()];p||(p=new oe(Ct)),p=p.insert(g,y),d.Ru[d.currentUser.toKey()]=p}(s,o.batchId,i),await xo(s,o.changes),await Xc(s.remoteStore)}catch(o){const c=Em(o,"Failed to persist write");i.reject(c)}}async function $0(a,e){const i=At(a);try{const s=await ew(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Eu.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.lu=!0:o.modifiedDocuments.size>0?Gt(d.lu,14607):o.removedDocuments.size>0&&(Gt(d.lu,42227),d.lu=!1))}),await xo(i,s,e)}catch(s){await Hs(s)}}function ev(a,e,i){const s=At(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Pu.forEach((c,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const y=At(d);y.onlineState=g;let p=!1;y.queries.forEach((E,R)=>{for(const A of R.wa)A.va(g)&&(p=!0)}),p&&Tm(y)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Qw(a,e,i){const s=At(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Eu.get(e),c=o&&o.key;if(c){let d=new oe(pt.comparator);d=d.insert(c,Je.newNoDocument(c,St.min()));const g=xt().add(c),y=new Qc(St.min(),new Map,new oe(Ct),d,g);await $0(s,y),s.du=s.du.remove(c),s.Eu.delete(e),Am(s)}else await Ud(s.localStore,e,!1).then(()=>Bd(s,e,i)).catch(Hs)}async function Yw(a,e){const i=At(a),s=e.batch.batchId;try{const o=await tw(i.localStore,e);J0(i,s,null),Z0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await xo(i,o)}catch(o){await Hs(o)}}async function Kw(a,e,i){const s=At(a);try{const o=await function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let E;return y.mutationQueue.lookupMutationBatch(p,g).next(R=>(Gt(R!==null,37113),E=R.keys(),y.mutationQueue.removeMutationBatch(p,R))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,E,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,E)).next(()=>y.localDocuments.getDocuments(p,E))})}(s.localStore,e);J0(s,e,i),Z0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await xo(s,o)}catch(o){await Hs(o)}}function Z0(a,e){(a.Vu.get(e)||[]).forEach(i=>{i.resolve()}),a.Vu.delete(e)}function J0(a,e,i){const s=At(a);let o=s.Ru[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Bd(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Tu.get(e))a.Pu.delete(s),i&&a.hu.pu(s,i);a.Tu.delete(e),a.isPrimaryClient&&a.Au.zr(e).forEach(s=>{a.Au.containsKey(s)||W0(a,s)})}function W0(a,e){a.Iu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(gm(a.remoteStore,i),a.du=a.du.remove(e),a.Eu.delete(i),Am(a))}function nv(a,e,i){for(const s of i)s instanceof Y0?(a.Au.addReference(s.key,e),Xw(a,s)):s instanceof K0?(ut(Sm,"Document no longer in limbo: "+s.key),a.Au.removeReference(s.key,e),a.Au.containsKey(s.key)||W0(a,s.key)):vt(19791,{yu:s})}function Xw(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Iu.has(s)||(ut(Sm,"New document in limbo: "+i),a.Iu.add(s),Am(a))}function Am(a){for(;a.Iu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Iu.values().next().value;a.Iu.delete(e);const i=new pt(le.fromString(e)),s=a.mu.next();a.Eu.set(s,new Bw(i)),a.du=a.du.insert(i,s),j0(a.remoteStore,new Tr(oi(sm(i.path)),s,"TargetPurposeLimboResolution",Bc.ue))}}async function xo(a,e,i){const s=At(a),o=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach((g,y)=>{d.push(s.gu(y,e,i).then(p=>{var E;if((p||i)&&s.isPrimaryClient){const R=p?!p.fromCache:(E=i?.targetChanges.get(y.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(y.targetId,R?"current":"not-current")}if(p){o.push(p);const R=dm.Es(y.targetId,p);c.push(R)}}))}),await Promise.all(d),s.hu.J_(o),await async function(y,p){const E=At(y);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>W.forEach(p,A=>W.forEach(A.Is,P=>E.persistence.referenceDelegate.addReference(R,A.targetId,P)).next(()=>W.forEach(A.ds,P=>E.persistence.referenceDelegate.removeReference(R,A.targetId,P)))))}catch(R){if(!Gs(R))throw R;ut(mm,"Failed to update sequence numbers: "+R)}for(const R of p){const A=R.targetId;if(!R.fromCache){const P=E.Fs.get(A),U=P.snapshotVersion,X=P.withLastLimboFreeSnapshotVersion(U);E.Fs=E.Fs.insert(A,X)}}}(s.localStore,c))}async function $w(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){ut(Sm,"User change. New user:",e.toKey());const s=await P0(i.localStore,e);i.currentUser=e,function(c,d){c.Vu.forEach(g=>{g.forEach(y=>{y.reject(new dt(it.CANCELLED,d))})}),c.Vu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await xo(i,s.Bs)}}function Zw(a,e){const i=At(a),s=i.Eu.get(e);if(s&&s.lu)return xt().add(s.key);{let o=xt();const c=i.Tu.get(e);if(!c)return o;for(const d of c){const g=i.Pu.get(d);o=o.unionWith(g.view.tu)}return o}}function tE(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=$0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qw.bind(null,e),e.hu.J_=Ow.bind(null,e.eventManager),e.hu.pu=Mw.bind(null,e.eventManager),e}function Jw(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yw.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kw.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,i){return null}Fu(e,i){return null}vu(e){return WR(this.persistence,new $R,e.initialUser,this.serializer)}Du(e){return new L0(fm.Vi,this.serializer)}bu(e){return new sw}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class Ww extends Oc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,i){Gt(this.persistence.referenceDelegate instanceof Vc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new UR(s,e.asyncQueue,i)}Du(e){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new L0(s=>Vc.Vi(s,i),this.serializer)}}class zd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ev(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$w.bind(null,this.syncEngine),await Dw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Nw}()}createDatastore(e){const i=Yc(e.databaseInfo.databaseId),s=function(c){return new hw(c)}(e.databaseInfo);return function(c,d,g,y){return new gw(c,d,g,y)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new yw(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>ev(this.syncEngine,i,0),function(){return X_.C()?new X_:new lw}())}createSyncEngine(e,i){return function(o,c,d,g,y,p,E){const R=new zw(o,c,d,g,y,p);return E&&(R.fu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=At(o);ut(Va,"RemoteStore shutting down."),c.Ia.add(5),await Vo(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}zd.provider={build:()=>new zd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr="FirestoreClient";class e2{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ut(Mr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ut(Mr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Em(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function pd(a,e){a.asyncQueue.verifyOperationInProgress(),ut(Mr,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await P0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{Dr("Terminating Firestore due to IndexedDb database deletion"),a.terminate().then(()=>{ut("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{Dr("Terminating Firestore due to IndexedDb database deletion failed",o)})}),a._offlineComponents=e}async function iv(a,e){a.asyncQueue.verifyOperationInProgress();const i=await n2(a);ut(Mr,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>Z_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>Z_(e.remoteStore,o)),a._onlineComponents=e}async function n2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ut(Mr,"Using user provided OfflineComponentProvider");try{await pd(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===it.FAILED_PRECONDITION||o.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Dr("Error using user provided cache. Falling back to memory cache: "+i),await pd(a,new Oc)}}else ut(Mr,"Using default OfflineComponentProvider"),await pd(a,new Ww(void 0));return a._offlineComponents}async function eE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ut(Mr,"Using user provided OnlineComponentProvider"),await iv(a,a._uninitializedComponentsProvider._online)):(ut(Mr,"Using default OnlineComponentProvider"),await iv(a,new zd))),a._onlineComponents}function i2(a){return eE(a).then(e=>e.syncEngine)}async function r2(a){const e=await eE(a),i=e.eventManager;return i.onListen=kw.bind(null,e.syncEngine),i.onUnlisten=Hw.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=jw.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=Gw.bind(null,e.syncEngine),i}function a2(a,e,i={}){const s=new Rr;return a.asyncQueue.enqueueAndForget(async()=>function(c,d,g,y,p){const E=new t2({next:A=>{E.Ou(),d.enqueueAndForget(()=>xw(c,R));const P=A.docs.has(g);!P&&A.fromCache?p.reject(new dt(it.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&A.fromCache&&y&&y.source==="server"?p.reject(new dt(it.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(A)},error:A=>p.reject(A)}),R=new Uw(sm(g.path),E,{includeMetadataChanges:!0,ka:!0});return Vw(c,R)}(await r2(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="firestore.googleapis.com",av=!0;class sv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iE,this.ssl=av}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=U0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<OR)throw new dt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new dt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bm{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new lb;switch(s.type){case"firstParty":return new hb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=rv.get(i);s&&(ut("ComponentProvider","Removing Datastore"),rv.delete(i),s.terminate())}(this),Promise.resolve()}}function s2(a,e,i,s={}){var o;a=Na(a,bm);const c=$d(e),d=a._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:a._getEmulatorOptions()}),y=`${e}:${i}`;c&&(LS(`https://${y}`),kS("Firestore",!0)),d.host!==iE&&d.host!==y&&Dr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},d),{host:y,ssl:c,emulatorOptions:s});if(!Ec(p,g)&&(a._setSettings(p),s.mockUserToken)){let E,R;if(typeof s.mockUserToken=="string")E=s.mockUserToken,R=Ze.MOCK_USER;else{E=PS(s.mockUserToken,(o=a._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new dt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Ze(A)}a._authCredentials=new ob(new Yv(E,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Rm(this.firestore,e,this._query)}}class Ie{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ie(this.firestore,e,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Do(i,Ie._jsonSchema))return new Ie(e,s||null,new pt(le.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Se("string",Ie._jsonSchemaVersion),referencePath:Se("string")};class Ro extends Rm{constructor(e,i,s){super(e,i,sm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ie(this.firestore,null,new pt(e))}withConverter(e){return new Ro(this.firestore,e,this._path)}}function wr(a,e,...i){if(a=Da(a),arguments.length===1&&(e=Wd.newId()),pb("doc","path",e),a instanceof bm){const s=le.fromString(e,...i);return E_(s),new Ie(a,null,new pt(s))}{if(!(a instanceof Ie||a instanceof Ro))throw new dt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(le.fromString(e,...i));return E_(s),new Ie(a.firestore,a instanceof Ro?a.converter:null,new pt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="AsyncQueue";class ov{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new z0(this,"async_queue_retry"),this.oc=()=>{const s=gd();s&&ut(lv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const i=gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const i=gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const i=new Rr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Gs(e))throw e;ut(lv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const i=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,Gi("INTERNAL UNHANDLED ERROR: ",uv(s)),s}).then(s=>(this.nc=!1,s))));return this._c=i,i}enqueueAfterDelay(e,i,s){this.ac(),this.sc.indexOf(e)>-1&&(i=0);const o=vm.createAndSchedule(this,e,i,s,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&vt(47125,{hc:uv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const i of this.ec)if(i.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.ec)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const i=this.ec.indexOf(e);this.ec.splice(i,1)}}function uv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}class $c extends bm{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new ov,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ov(e),this._firestoreClient=void 0,await e}}}function rE(a,e){const i=typeof a=="object"?a:$A(),s=typeof a=="string"?a:bc,o=FA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=MS("firestore");c&&s2(o,...c)}return o}function aE(a){if(a._terminated)throw new dt(it.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||l2(a),a._firestoreClient}function l2(a){var e,i,s;const o=a._freezeSettings(),c=function(g,y,p,E){return new Db(g,y,p,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,nE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(a._databaseId,((e=a._app)===null||e===void 0?void 0:e.options.appId)||"",a._persistenceKey,o);a._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),a._firestoreClient=new e2(a._authCredentials,a._appCheckCredentials,a._queue,c,a._componentsProvider&&function(g){const y=g?._online.build();return{_offline:g?._offline.build(y),_online:y}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(Qe.fromBase64String(e))}catch(i){throw new dt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new xn(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Do(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Se("string",xn._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new dt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new dt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new dt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hi._jsonSchemaVersion}}static fromJSON(e){if(Do(e,hi._jsonSchema))return new hi(e.latitude,e.longitude)}}hi._jsonSchemaVersion="firestore/geoPoint/1.0",hi._jsonSchema={type:Se("string",hi._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Do(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new fi(e.vectorValues);throw new dt(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Se("string",fi._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=/^__.*__$/;class u2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Io(e,this.data,i,this.fieldTransforms)}}class sE{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Lr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function lE(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ec:a})}}class Cm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Cm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(lE(this.Ec)&&o2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class c2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Yc(e)}Dc(e,i,s,o=!1){return new Cm({Ec:e,methodName:i,bc:s,path:Fe.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oE(a){const e=a._freezeSettings(),i=Yc(a._databaseId);return new c2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function h2(a,e,i,s,o,c={}){const d=a.Dc(c.merge||c.mergeFields?2:0,e,i,o);Dm("Data must be an object, but it was:",d,s);const g=uE(s,d);let y,p;if(c.merge)y=new _n(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const R of c.mergeFields){const A=kd(e,R,i);if(!d.contains(A))throw new dt(it.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);hE(E,A)||E.push(A)}y=new _n(E),p=d.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,p=d.fieldTransforms;return new u2(new on(g),y,p)}class Jc extends wm{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jc}}function f2(a,e,i,s){const o=a.Dc(1,e,i);Dm("Data must be an object, but it was:",o,s);const c=[],d=on.empty();Ur(s,(y,p)=>{const E=Im(e,y,i);p=Da(p);const R=o.gc(E);if(p instanceof Jc)c.push(E);else{const A=Wc(p,R);A!=null&&(c.push(E),d.set(E,A))}});const g=new _n(c);return new sE(d,g,o.fieldTransforms)}function d2(a,e,i,s,o,c){const d=a.Dc(1,e,i),g=[kd(e,s,i)],y=[o];if(c.length%2!=0)throw new dt(it.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)g.push(kd(e,c[A])),y.push(c[A+1]);const p=[],E=on.empty();for(let A=g.length-1;A>=0;--A)if(!hE(p,g[A])){const P=g[A];let U=y[A];U=Da(U);const X=d.gc(P);if(U instanceof Jc)p.push(P);else{const G=Wc(U,X);G!=null&&(p.push(P),E.set(P,G))}}const R=new _n(p);return new sE(E,R,d.fieldTransforms)}function Wc(a,e){if(cE(a=Da(a)))return Dm("Unsupported field value:",e,a),uE(a,e);if(a instanceof wm)return function(s,o){if(!lE(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let y=Wc(g,o.yc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}}(a,e)}return function(s,o){if((s=Da(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Jb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ne.fromDate(s);return{timestampValue:Nc(o.serializer,c)}}if(s instanceof ne){const c=new ne(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Nc(o.serializer,c)}}if(s instanceof hi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:D0(o.serializer,s._byteString)};if(s instanceof Ie){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:cm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fi)return function(d,g){return{mapValue:{fields:{[i0]:{stringValue:r0},[Rc]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw g.wc("VectorValues must only contain numeric values.");return lm(g.serializer,p)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${tm(s)}`)}(a,e)}function uE(a,e){const i={};return Zv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ur(a,(s,o)=>{const c=Wc(o,e.Vc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function cE(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof hi||a instanceof xn||a instanceof Ie||a instanceof wm||a instanceof fi)}function Dm(a,e,i){if(!cE(i)||!Xv(i)){const s=tm(i);throw s==="an object"?e.wc(a+" a custom object"):e.wc(a+" "+s)}}function kd(a,e,i){if((e=Da(e))instanceof Zc)return e._internalPath;if(typeof e=="string")return Im(a,e);throw Mc("Field path arguments must be of type string or ",a,!1,void 0,i)}const m2=new RegExp("[~\\*/\\[\\]]");function Im(a,e,i){if(e.search(m2)>=0)throw Mc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Zc(...e.split("."))._internalPath}catch{throw Mc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Mc(a,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${o}`),y+=")"),new dt(it.INVALID_ARGUMENT,g+a+y)}function hE(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new g2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(dE("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class g2 extends fE{data(){return super.data()}}function dE(a,e){return typeof e=="string"?Im(a,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}class p2{convertValue(e,i="none"){switch(xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Vr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ur(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Rc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>ge(d.doubleValue));return new fi(c)}convertGeoPoint(e){return new hi(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=kc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Eo(e));default:return null}}convertTimestamp(e){const i=Nr(e);return new ne(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=le.fromString(e);Gt(M0(s),9688,{name:e});const o=new To(s.get(1),s.get(3)),c=new pt(s.popFirst(5));return o.isEqual(i)||Gi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class lo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ra extends fE{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(dE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ra._jsonSchema={type:Se("string",Ra._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class yc extends Ra{data(e={}){return super.data(e)}}class mo{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new lo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new yc(this._firestore,this._userDataWriter,s.key,s,new lo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const y=new yc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new lo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new yc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new lo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,E=-1;return g.type!==0&&(p=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:_2(g.type),doc:y,oldIndex:p,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(a){a=Na(a,Ie);const e=Na(a.firestore,$c);return a2(aE(e),a._key).then(i=>T2(e,a,i))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Se("string",mo._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class v2 extends p2{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function mE(a,e,i){a=Na(a,Ie);const s=Na(a.firestore,$c),o=y2(a.converter,e,i);return gE(s,[h2(oE(s),"setDoc",a._key,o,a.converter!==null,i).toMutation(a._key,ui.none())])}function E2(a,e,i,...s){a=Na(a,Ie);const o=Na(a.firestore,$c),c=oE(o);let d;return d=typeof(e=Da(e))=="string"||e instanceof Zc?d2(c,"updateDoc",a._key,e,i,s):f2(c,"updateDoc",a._key,e),gE(o,[d.toMutation(a._key,ui.exists(!0))])}function gE(a,e){return function(s,o){const c=new Rr;return s.asyncQueue.enqueueAndForget(async()=>Fw(await i2(s),o,c)),c.promise}(aE(a),e)}function T2(a,e,i){const s=i.docs.get(e._key),o=new v2(a);return new Ra(a,o,e._key,s,new lo(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){qs=o})(XA),Sc(new yo("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new $c(new ub(s.getProvider("auth-internal")),new fb(d,s.getProvider("app-check-internal")),function(p,E){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new dt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new To(p.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Vs(g_,p_,e),Vs(g_,p_,"esm2017")})();var S2="firebase",A2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(S2,A2,"app");const b2={BASE_URL:"/TanngoAPP/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyDId6UBjuGdf2ub6ap7phoRyX8tX0rcmHA",VITE_FIREBASE_APP_ID:"1:27385567412:web:2d30db854bf30e2a3adfe1",VITE_FIREBASE_AUTH_DOMAIN:"tanngoapp-5c0eb.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"27385567412",VITE_FIREBASE_PROJECT_ID:"tanngoapp-5c0eb",VITE_FIREBASE_STORAGE_BUCKET:"tanngoapp-5c0eb.firebasestorage.app"},R2=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"];R2.forEach(a=>{b2[a]||console.error(`錯誤：缺少必要的環境變數 ${a}`)});const w2={apiKey:"AIzaSyDId6UBjuGdf2ub6ap7phoRyX8tX0rcmHA",authDomain:"tanngoapp-5c0eb.firebaseapp.com",projectId:"tanngoapp-5c0eb",storageBucket:"tanngoapp-5c0eb.firebasestorage.app",messagingSenderId:"27385567412",appId:"1:27385567412:web:2d30db854bf30e2a3adfe1"},pE=Pv(w2),wa=rE(pE),Uc={USER:"User",SEAN:"Sean",N5:"N5",N4:"N4"},C2=async(a,e)=>{try{const i=wr(wa,Uc.USER,a),s=await Cr(i);if(!s.exists())throw new Error(`用戶${a}不存在`);const o=s.data();console.log("userData:",o);const c=e+"_record";return console.log("record_name:",c),o[c]||{}}catch(i){return console.error("獲取 "+e+" 記錄時出錯:",i),{}}},D2=async(a,e,i,s)=>{try{const o=wr(wa,Uc.USER,a),c=await Cr(o);let d={};if(c.exists())d=c.data();else{alert(`用戶${a}不存在`);return}const g={...d,[s+"_record"]:{...d[s+"_record"]||{},[e]:i},updatedAt:new Date().toISOString()};return await mE(o,g,{merge:!0}),g[s+"_record"]}catch(o){throw console.error("更新 "+s+" 記錄時出錯:",o),o}},yE=H.createContext(),I2=rE(pE);function Nm(){return H.useContext(yE)}function N2({children:a}){const[e,i]=H.useState(null),[s,o]=H.useState(!0),c=async(y,p)=>{try{const E=wr(I2,"User",y),R=await Cr(E);if(R.exists()){const A=R.data();if(A.pwd===p)return console.log("username:"+A.name),i(A.name),localStorage.setItem("currentUser",JSON.stringify({name:A.name})),{success:!0}}return{success:!1,message:"用戶名或密碼錯誤"}}catch(E){return console.error("登入時出錯:",E),{success:!1,message:"登入時發生錯誤"}}},d=()=>{i(null),localStorage.removeItem("currentUser")};H.useEffect(()=>{const y=localStorage.getItem("currentUser");y&&i(JSON.parse(y).name),o(!1)},[]);const g={currentUser:e,login:c,logout:d,isAuthenticated:!!e};return Y.jsx(yE.Provider,{value:g,children:!s&&a})}const V2="_layout_8sxxb_1",x2="_main_8sxxb_7",cv={layout:V2,main:x2},Ca=({children:a})=>Y.jsx("div",{className:cv.layout,children:Y.jsx("main",{className:cv.main,children:a})}),O2="_homePage_1ceyl_1",M2="_title_1ceyl_10",U2="_levelSelection_1ceyl_16",L2="_btn_1ceyl_21",P2="_primary_1ceyl_34",B2="_secondary_1ceyl_39",Ea={homePage:O2,title:M2,levelSelection:U2,btn:L2,primary:P2,secondary:B2},z2=()=>Y.jsx(Ca,{children:Y.jsxs("div",{className:Ea.homePage,children:[Y.jsx("h1",{className:Ea.title,children:"日文單字間隔複習"}),Y.jsxs("div",{className:Ea.levelSelection,children:[Y.jsx(po,{to:"/N5",className:`${Ea.btn} ${Ea.primary}`,children:"N5"}),Y.jsx(po,{to:"/N4",className:`${Ea.btn} ${Ea.secondary}`,children:"N4"})]})]})}),k2=["noun","verb","adj","adj-na","adv","loanword"],hv=[1,2,4,7,14,30],fv=()=>new Date().toISOString().split("T")[0],j2=(a,e)=>{const i=new Date(a);return i.setDate(i.getDate()+e),i.toISOString().split("T")[0]},q2="_reviewPage_15iq6_1",H2="_progress_15iq6_17",G2="_flashcard_15iq6_28",F2="_cardContent_15iq6_62",Q2="_word_15iq6_66",Y2="_reading_15iq6_86",K2="_meaning_15iq6_99",X2="_example_15iq6_127",$2="_jp_15iq6_135",Z2="_zh_15iq6_143",J2="_buttons_15iq6_201",W2="_navButtonContainer_15iq6_209",tC="_navButton_15iq6_209",eC="_buttonGroup_15iq6_235",nC="_rememberButton_15iq6_243",iC="_forgotButton_15iq6_243",rC="_bottomButtons_15iq6_279",aC="_toggleButton_15iq6_286",Ee={reviewPage:q2,progress:H2,flashcard:G2,cardContent:F2,word:Q2,reading:Y2,meaning:K2,example:X2,jp:$2,zh:Z2,buttons:J2,navButtonContainer:W2,navButton:tC,buttonGroup:eC,rememberButton:nC,forgotButton:iC,bottomButtons:rC,toggleButton:aC},sC=()=>{const a=JSON.parse(localStorage.getItem("currentUser")).name,{level:e,category:i}=Tv(),[s,o]=H.useState([]),[c,d]=H.useState([]),[g,y]=H.useState([]),[p,E]=H.useState(0),[R,A]=H.useState(!1),[P,U]=H.useState([]),[X,G]=H.useState(!0),[Q,tt]=H.useState(""),et=xa();console.log("level: ",e,"category: ",i),H.useEffect(()=>{console.log(`${e}Review useEffect`+a),(async()=>{if(a)try{G(!0);const I=fv(),N=`${e}_${i}`,M=wr(wa,a,N),C=await Cr(M);if(!C.exists()){console.error("未找到單字數據");return}const zt=C.data().words;if(o(zt),zt.length>=2){const K=zt.filter(at=>at.nextReview);if(K.length>=2){const at=[...new Set(K.map(ot=>ot.nextReview.split("T")[0]))].sort();if(at.length>=2){const ot=at[1];tt(ot)}else console.log("不重複的日期不足 2 個"),tt("")}else console.log("有 nextReview 的單字不足 2 個"),tt("")}else console.log("單字數量不足 2 個"),tt("");const Ot=zt.filter(K=>!K.nextReview||new Date(K.nextReview)<=new Date(I));d(Ot),y(Ot)}catch(I){console.error("加載單字時出錯:",I)}finally{G(!1)}})()},[i,a,e]);const ft=()=>{p>0&&(E(w=>w-1),U(w=>w.slice(0,-1)))},ct=async w=>{if(a)try{const I=`${e}_${i}`,N=wr(wa,a,I);if((await Cr(N)).exists()){const C=s.map(zt=>{const Ot=w.find(K=>K.id===zt.id);return Ot?{...zt,...Ot}:zt});await E2(N,{words:C,updatedAt:new Date().toISOString()}),console.log("批次更新單字完成")}}catch(I){throw console.error("批量更新單字時出錯:",I),I}},bt=async w=>{if(!a)return;let I;try{w.forEach(M=>{I=w.reduce((C,zt)=>zt.nextReview<C?zt.nextReview:C,w[0].nextReview)}),console.log("這次複習中最小的日期:"+I),console.log("所有單字中第二小的日期:"+Q);const N=I<Q?I:Q;await D2(a,i,N,e)}catch(N){console.error("更新 N5_record 時出錯:",N)}},O=async w=>{const I=fv(),N=c[p];let M,C;if(w){M=Math.min((N.level||1)+1,hv.length);const ot=hv[M-2];C=j2(I,ot),console.log("newLevel: ",M),console.log("newReviewDate: ",C)}else M=N.level,C=I;const zt={...N,level:M,lastReviewed:I,nextReview:C},Ot=[...g];Ot[p]=zt,y(Ot),A(!1);const K={wordId:N.id,word:N.word,reading:N.reading,meaning:N.meaning,remembered:w,level:M,nextReview:C},at=new Map(P.map(ot=>[ot.wordId,ot]));if(at.set(K.wordId,K),U(Array.from(at.values())),p<c.length-1)console.log("移動到下一個單字，當前索引:",p,"總單字數:",c.length),E(p+1);else try{console.log("所有單字複習完成，準備更新記錄..."),await ct(Ot),await bt(Ot);const ot=Array.from(at.values());console.log("準備導向總結頁面，結果:",ot),et("/summary",{state:{results:ot,category:i?i.charAt(0).toUpperCase()+i.slice(1):e},replace:!0})}catch(ot){console.error("更新記錄時出錯:",ot),console.log("出錯，但仍嘗試導向總結頁面"),et("/summary",{state:{results:finalResults||[],category:i?i.charAt(0).toUpperCase()+i.slice(1):e},replace:!0})}};if(X)return Y.jsx("div",{className:Ee.loading,children:"載入中..."});if(c.length===0)return Y.jsx("div",{className:Ee.noWords,children:"沒有需要複習的單字！"});const b=c[p];return Y.jsx(Ca,{children:Y.jsxs("div",{className:Ee.reviewPage,children:[Y.jsxs("div",{className:Ee.progress,children:["進度: ",p+1," / ",c.length,b.level&&Y.jsxs("span",{children:[" | 等級: ",b.level]})]}),Y.jsx("div",{className:Ee.flashcard,onClick:()=>A(!R),children:Y.jsxs("div",{className:Ee.cardContent,children:[Y.jsx("h2",{className:Ee.word,children:b.word}),Y.jsx("p",{className:Ee.reading,children:R?b.reading:"點擊顯示讀音"}),R&&Y.jsxs(Y.Fragment,{children:[Y.jsx("h3",{className:Ee.meaning,children:b.meaning}),b.example&&Y.jsxs("div",{className:Ee.example,children:[Y.jsx("p",{className:Ee.jp,children:b.example.jp}),Y.jsx("p",{className:Ee.zh,children:b.example.zh})]})]})]})}),Y.jsxs("div",{className:Ee.buttons,children:[Y.jsx("div",{className:Ee.navButtonContainer,children:Y.jsx("button",{className:Ee.navButton,onClick:w=>{w.stopPropagation(),ft()},disabled:p===0,children:"← 上一個"})}),Y.jsxs("div",{className:Ee.buttonGroup,children:[Y.jsxs("button",{className:Ee.forgotButton,onClick:w=>{w.stopPropagation(),O(!1)},children:[Y.jsx("span",{children:"✕"})," 忘惹"]}),Y.jsxs("button",{className:Ee.rememberButton,onClick:w=>{w.stopPropagation(),O(!0)},children:[Y.jsx("span",{children:"✓"})," 記住惹"]})]}),Y.jsx("div",{className:Ee.bottomButtons,children:Y.jsx("button",{className:Ee.toggleButton,onClick:w=>{w.stopPropagation(),A(!R)},children:R?"隱藏答案":"顯示答案"})})]})]})})},lC="_summaryContainer_47qvw_1",oC="_statsContainer_47qvw_21",uC="_statItem_47qvw_33",cC="_statNumber_47qvw_46",hC="_remembered_47qvw_52",fC="_forgotten_47qvw_55",dC="_statLabel_47qvw_59",mC="_wordsList_47qvw_66",gC="_wordsGrid_47qvw_71",pC="_wordItem_47qvw_78",yC="_forgottenWord_47qvw_93",_C="_wordContent_47qvw_98",vC="_japanese_47qvw_102",EC="_reading_47qvw_109",TC="_meaning_47qvw_115",SC="_statusIndicator_47qvw_121",AC="_backButton_47qvw_141",Wt={summaryContainer:lC,statsContainer:oC,statItem:uC,statNumber:cC,remembered:hC,forgotten:fC,statLabel:dC,wordsList:mC,wordsGrid:gC,wordItem:pC,forgottenWord:yC,wordContent:_C,japanese:vC,reading:EC,meaning:TC,statusIndicator:SC,backButton:AC},bC=()=>{const a=Hn(),e=xa(),{results:i=[],category:s="N5"}=a.state||{},o=i.length,c=i.filter(E=>E.remembered).length,d=o-c,g=o>0?Math.round(c/o*100):0,y=()=>{switch(s){case"N5":return"/n5";case"N4":return"/n4";default:return"/n5"}},p=()=>{e(y())};return Y.jsx(Ca,{children:Y.jsxs("div",{className:Wt.summaryContainer,children:[Y.jsx("h1",{children:"複習完成！"}),Y.jsxs("div",{className:Wt.statsContainer,children:[Y.jsxs("div",{className:Wt.statItem,children:[Y.jsx("div",{className:Wt.statNumber,children:o}),Y.jsx("div",{className:Wt.statLabel,children:"總複習單字"})]}),Y.jsxs("div",{className:Wt.statItem,children:[Y.jsx("div",{className:`${Wt.statNumber} ${Wt.remembered}`,children:c}),Y.jsx("div",{className:Wt.statLabel,children:"記住"})]}),Y.jsxs("div",{className:Wt.statItem,children:[Y.jsx("div",{className:`${Wt.statNumber} ${d>0?Wt.forgotten:""}`,children:d}),Y.jsx("div",{className:Wt.statLabel,children:"忘記"})]}),Y.jsxs("div",{className:Wt.statItem,children:[Y.jsxs("div",{className:Wt.statNumber,children:[g,"%"]}),Y.jsx("div",{className:Wt.statLabel,children:"正確率"})]})]}),Y.jsxs("div",{className:Wt.wordsList,children:[Y.jsx("h2",{children:"單字列表"}),Y.jsx("div",{className:Wt.wordsGrid,children:i.map((E,R)=>Y.jsxs("div",{className:`${Wt.wordItem} ${E.remembered?"":Wt.forgottenWord}`,children:[Y.jsxs("div",{className:Wt.wordContent,children:[Y.jsxs("div",{className:Wt.wordText,children:[Y.jsx("span",{className:Wt.japanese,children:E.word}),Y.jsx("span",{className:Wt.reading,children:E.reading||""})]}),Y.jsx("div",{className:Wt.meaning,children:E.meaning})]}),Y.jsx("div",{className:Wt.statusIndicator,children:E.remembered?"✓":"✕"})]},`${E.wordId||R}`))})]}),Y.jsxs("button",{className:Wt.backButton,onClick:p,children:["返回",s,"目錄"]})]})})},RC="_loginContainer_ljnw0_1",wC="_loginBox_ljnw0_13",CC="_loginForm_ljnw0_30",DC="_formGroup_ljnw0_36",IC="_error_ljnw0_64",NC="_loginButton_ljnw0_74",Ta={loginContainer:RC,loginBox:wC,loginForm:CC,formGroup:DC,error:IC,loginButton:NC},VC=()=>{const[a,e]=H.useState(""),[i,s]=H.useState(""),[o,c]=H.useState(""),[d,g]=H.useState(!1),{login:y}=Nm(),p=xa(),R=Hn().state?.from?.pathname||"/",A=async P=>{if(P.preventDefault(),c(""),!a||!i){c("請輸入用戶名和密碼");return}try{g(!0);const U=await y(a,i);U.success?p(R,{replace:!0}):c(U.message||"登入失敗")}catch(U){console.error("登入時出錯:",U),c("登入時發生錯誤")}finally{g(!1)}};return Y.jsx(Ca,{children:Y.jsx("div",{className:Ta.loginContainer,children:Y.jsxs("div",{className:Ta.loginBox,children:[Y.jsx("h2",{children:"登入"}),o&&Y.jsx("div",{className:Ta.error,children:o}),Y.jsxs("form",{onSubmit:A,className:Ta.loginForm,children:[Y.jsxs("div",{className:Ta.formGroup,children:[Y.jsx("label",{htmlFor:"username",children:"用戶名"}),Y.jsx("input",{id:"username",type:"text",value:a,onChange:P=>e(P.target.value),disabled:d,placeholder:"請輸入用戶名"})]}),Y.jsxs("div",{className:Ta.formGroup,children:[Y.jsx("label",{htmlFor:"password",children:"密碼"}),Y.jsx("input",{id:"password",type:"password",value:i,onChange:P=>s(P.target.value),disabled:d,placeholder:"請輸入密碼"})]}),Y.jsx("button",{type:"submit",className:Ta.loginButton,disabled:d,children:d?"登入中...":"登入"})]})]})})})},xC="_levelPage_clw5t_2",OC="_pageTitle_clw5t_8",MC="_categoryList_clw5t_13",UC="_categoryItem_clw5t_19",LC="_highlight_clw5t_36",PC="_modalOverlay_clw5t_48",BC="_modal_clw5t_48",zC="_modalActions_clw5t_82",Pe={levelPage:xC,pageTitle:OC,categoryList:MC,categoryItem:UC,highlight:LC,modalOverlay:PC,modal:BC,modalActions:zC},kC=(a,e)=>{const i=new Date(a);return i.setDate(i.getDate()+e),i.toISOString().split("T")[0]},jC=()=>{const{level:a}=Tv(),e=JSON.parse(localStorage.getItem("currentUser")).name,[i,s]=H.useState({}),[o,c]=H.useState(!0),[d,g]=H.useState(!1),[y,p]=H.useState(""),[E,R]=H.useState(""),[A,P]=H.useState(0),U=xa();H.useEffect(()=>{console.log("Level changed:",a),console.log("Current user:",e)},[a,e]);const X=async tt=>{try{const et=wr(wa,Uc[a],`${tt}`),ft=await Cr(et);return ft.exists()&&ft.data().words.length||0}catch(et){return console.error(`獲取 ${tt} 單字總數時出錯:`,et),0}};H.useEffect(()=>{(async()=>{if(!e){c(!1);return}try{const et=await C2(e,a);console.log("record:",JSON.stringify(et,null,2)),console.log("record type:",typeof et),console.log("record keys:",Object.keys(et)),s(et)}catch(et){console.error("載入學習記錄時出錯:",et),s({})}finally{c(!1)}})()},[e,a]),H.useEffect(()=>{y&&X(y).then(tt=>{P(tt)})},[y]);const G=async()=>{if(!(!y||!E||!e)){c(!0);try{const tt=wr(wa,Uc[a],`${y}`),et=await Cr(tt);if(!et.exists())throw new Error(`找不到 ${y} 的單字資料`);const ct=et.data().words||[],bt=ct.length;if(bt===0)throw new Error(`${a}沒有可用的單字`);const O=new Date().toISOString().split("T")[0],b=ct.map((C,zt)=>{const Ot=Math.floor(zt/E);return{...C,nextReview:kC(O,Ot)}}),w=`${a}_${y}`,I=wr(wa,e,w),N=await Cr(I),M={words:b,total:bt,category:y,level:a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),...N.exists()?N.data():{}};await mE(I,M),U(`/${a}/review/${y}`)}catch(tt){console.error("初始化學習記錄時出錯:",tt),alert(`初始化失敗: ${tt.message}`)}finally{c(!1),g(!1)}}},Q=async tt=>{const et=i[tt]||"";et?new Date(et)<=new Date?U(`/${a}/review/${tt}`):alert(`還未到達${tt}的複習日期`):(p(tt),g(!0))};return o?Y.jsx(Ca,{children:Y.jsx("div",{className:Pe.loading,children:"載入中..."})}):e?Y.jsxs(Ca,{children:[Y.jsxs("div",{className:Pe.levelPage,children:[Y.jsxs("h1",{className:Pe.pageTitle,children:[a," 單字分類"]}),Y.jsx("div",{className:Pe.categoryList,children:k2.map(tt=>{const et=i[tt]||"",ft=et?new Date(et)>new Date?Pe.completed:Pe.highlight:"";return Y.jsxs("div",{className:`${Pe.categoryItem} ${ft}`,onClick:()=>Q(tt),children:[Y.jsx("div",{className:Pe.categoryName,children:tt}),Y.jsx("div",{className:Pe.status,children:et?new Date(et)<=new Date?"需要複習➕":"已完成✅":"開始學習⁉️"})]},tt)})})]}),d&&Y.jsx("div",{className:Pe.modalOverlay,children:Y.jsxs("div",{className:Pe.modal,children:[Y.jsxs("h3",{children:["設定每日學習目標 - ",y]}),Y.jsx("p",{children:"請設定您每天想要學習的單字數量："}),Y.jsxs("div",{className:Pe.goalContainer,children:[Y.jsx("input",{type:"number",min:"1",value:E,onChange:tt=>{const et=parseInt(tt.target.value);R(Math.min(Math.max(1,et),150))},className:Pe.goalInput}),Y.jsxs("span",{className:Pe.totalWords,children:["共 ",A," 個單字，預計 ",Math.ceil(A/E)," 天完成"]})]}),Y.jsxs("div",{className:Pe.modalActions,children:[Y.jsx("button",{onClick:()=>g(!1),className:Pe.cancelButton,disabled:o,children:"取消"}),Y.jsx("button",{onClick:G,className:Pe.confirmButton,disabled:!E||o,children:o?"處理中...":"開始學習"})]})]})})]}):Y.jsx(Ca,{children:Y.jsx("div",{className:Pe.unauthorized,children:Y.jsxs("p",{children:["請先登入以查看 ",a," 單字"]})})})},qC="_navbar_22qo8_1",HC="_logo_22qo8_13",GC="_navLinks_22qo8_23",FC="_navLink_22qo8_23",QC="_loginButton_22qo8_43",YC="_logoutButton_22qo8_54",KC="_userSection_22qo8_65",XC="_username_22qo8_71",zn={navbar:qC,logo:HC,navLinks:GC,navLink:FC,loginButton:QC,logoutButton:YC,userSection:KC,username:XC},$C=()=>{const{currentUser:a,logout:e}=Nm(),i=xa(),s=async()=>{try{await e(),i("/login")}catch(o){console.error("登出失敗:",o)}};return Y.jsxs("nav",{className:zn.navbar,children:[Y.jsx(po,{to:"/",className:zn.logo,children:"日文單字間隔複習"}),Y.jsx("div",{className:zn.navLinks,children:a?Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{onClick:()=>i("/N5"),className:zn.navLink,children:"N5"}),Y.jsx("button",{onClick:()=>i("/N4"),className:zn.navLink,children:"N4"}),Y.jsxs("div",{className:zn.userSection,children:[Y.jsxs("span",{className:zn.username,children:["歡迎, ",a.name]}),Y.jsx("button",{onClick:s,className:`${zn.navLink} ${zn.logoutButton}`,children:"登出"})]})]}):Y.jsx("button",{onClick:()=>i("/login"),className:`${zn.navLink} ${zn.loginButton}`,children:"登入"})})]})},uc=({children:a})=>{const{currentUser:e}=Nm(),i=Hn();return e?a:(console.log("no user found, redirecting to login..."),Y.jsx(bv,{to:"/login",state:{from:i},replace:!0}))},ZC=()=>Y.jsxs(G1,{children:[Y.jsx(Sa,{path:"/login",element:Y.jsx(VC,{})}),Y.jsx(Sa,{path:"/",element:Y.jsx(uc,{children:Y.jsx(z2,{})})}),Y.jsx(Sa,{path:"/:level",element:Y.jsx(uc,{children:Y.jsx(jC,{})})}),Y.jsx(Sa,{path:"/:level/review/:category",element:Y.jsx(uc,{children:Y.jsx(sC,{})})}),Y.jsx(Sa,{path:"/summary",element:Y.jsx(uc,{children:Y.jsx(bC,{})})}),Y.jsx(Sa,{path:"*",element:Y.jsx(bv,{to:"/",replace:!0})})]}),JC=()=>Y.jsx(N2,{children:Y.jsxs("div",{className:"app",children:[Y.jsx($C,{}),Y.jsx("div",{className:"content",children:Y.jsx(ZC,{})})]})});WT.createRoot(document.getElementById("root")).render(Y.jsx(FT.StrictMode,{children:Y.jsx(mS,{basename:"/TanngoAPP/",children:Y.jsx(JC,{})})}));
